/*! Copyright (c) 2018 CommonTime Ltd */
/*! Build date: Tue Jun 12 2018 14:27:37 GMT+0100 (GMT Daylight Time) */
/*! ================================= */
/*! Commit hash: 674ce6b (674ce6b1400b6767a89beef52cc5617de11129fb) */
/*! Commit date: Tue Jun 12 2018 08:59:46 GMT+0100 (GMT Daylight Time) */
/*! Commit branch: release/3.2.0-beta10-840 */
/*! ================================= */

(function(L){function E(I){if(R[I])return R[I].exports;var A=R[I]={i:I,l:!1,exports:{}};return L[I].call(A.exports,A,A.exports,E),A.l=!0,A.exports}var R={};return E.m=L,E.c=R,E.i=function(I){return I},E.d=function(I,A,N){E.o(I,A)||Object.defineProperty(I,A,{configurable:!1,enumerable:!0,get:N})},E.n=function(I){var A=I&&I.__esModule?function(){return I['default']}:function(){return I};return E.d(A,'a',A),A},E.o=function(I,A){return Object.prototype.hasOwnProperty.call(I,A)},E.p='',E(E.s=178)})([function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(67);E.prop=I.prop;var A=R(66);E.Stroolean=A.Stroolean,E.NullableNumber=A.NullableNumber;var N=R(34);E.CTBaseComponent=N.CTBaseComponent;var H=R(64);E.CTLayerComponent=H.CTLayerComponent;var B=R(63);E.BaseLayer=B.BaseLayer;var z=R(12);E.Logger=z.Logger},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);var A=R(13);E.BaseIncidentEventArgs=A.BaseIncidentEventArgs;var N=R(105);E.RequestNewIncidentEventArgs=N.RequestNewIncidentEventArgs;var H=R(102);E.RaiseNewIncidentEventArgs=H.RaiseNewIncidentEventArgs;var B=R(106);E.RespondedToIncidentEventArgs=B.RespondedToIncidentEventArgs;var z=R(101);E.NewIncidentMessageReceievedEventArgs=z.NewIncidentMessageReceievedEventArgs;var W=R(92);E.ChangeIncidentSeverityEventArgs=W.ChangeIncidentSeverityEventArgs;var J=R(98);E.IncidentChangeEventArgs=J.IncidentChangeEventArgs;var G=R(100);E.IncidentResponseEventArgs=G.IncidentResponseEventArgs;var $=R(95);E.CloseIncidentEventArgs=$.CloseIncidentEventArgs;var K=R(99);E.IncidentEventArgs=K.IncidentEventArgs;var X=R(97);E.IncidentAlertEventArgs=X.IncidentAlertEventArgs;var Q=R(107);E.RoleSelectionEventArgs=Q.RoleSelectionEventArgs;var Z=R(93);E.ChangeResponderStateEventArgs=Z.ChangeResponderStateEventArgs;var ee=R(94);E.ChangeResponseCollectionStateEventArgs=ee.ChangeResponseCollectionStateEventArgs;var te=R(96);E.GenerateReportEventArgs=te.GenerateReportEventArgs;var ne=R(104);E.ReportEventArgs=ne.ReportEventArgs;var ae=R(103);E.ReportDownloadEventArgs=ae.ReportDownloadEventArgs;class se extends I.BaseEvents{}se._Request_NewIncident='request-new-incident',se._Request_LaunchNewIncidentModal='request-launch-new-incident-modal',se._Request_LaunchOfflineModal='request-launch-offline-modal',se._Request_LaunchCloseIncidentModal='request-launch-close-incident-modal',se._Request_RaiseNewIncident='request-send-new-incident',se._Request_RespondToIncident='request-respond-to-incident',se._Request_AcknowledgeIncidentUpdate='request-acknowledged-incident-update',se._Request_ChangeIncidentSeverity='request-change-incident-severity',se._Request_CloseIncident='request-close-incident',se._Request_ChangeResponderState='request-change-responder-state',se._Request_ChangeResponseCollectionState='request-change-response-collection-state',se._Request_JoinRole='request-join-role',se._Request_LeaveRole='request-leave-role',se._Request_GenerateReport='request-generate-report',se.NewIncident='new-incident',se.IncidentUpdated='incident-updated',se.IncidentResponse='incident-response',se.IncidentSeverityChanged='incident-severity-changed',se.IncidentClosed='incident-closed',se.IncidentAlert='incident-alert',se.IncidentAlertChange='incident-alert-change',se.IncidentAlertDismissed='incident-alert-dismissed',se.ReportRequested='report-requested',se.ReportReady='report-ready',se.ReportFailed='report-failed',se.ReportDownloaded='report-downloaded',se.RoleSelection='role-selection',se.OnCallUsersChange='on-call-users-change',se.UserLastSeenChange='user-last-seen-change',E.IncidentEvents=se},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(141);E.CTAlertModalManager=I.CTAlertModalManager;var A=R(142);E.CTAlertModal=A.CTAlertModal;var N=R(143);E.CTAvatarTile=N.CTAvatarTile;var H=R(42);E.CTButton=H.CTButton;var B=R(144);E.CTDebugger=B.CTDebugger;var z=R(145);E.CTFilePicker=z.CTFilePicker;var W=R(146);E.CTGrowingTextbox=W.CTGrowingTextbox;var J=R(147);E.CTIcon=J.CTIcon;var G=R(148);E.CTLoginForm=G.CTLoginForm,E.CTLoginFormMetadata=G.CTLoginFormMetadata;var $=R(149);E.CTMenu=$.CTMenu,E.MenuItem=$.MenuItem;var K=R(150);E.CTOnlineIndicator=K.CTOnlineIndicator,E.CTOnlineIndicatorMetadata=K.CTOnlineIndicatorMetadata;var X=R(151);E.CTSearchbox=X.CTSearchbox;var Q=R(152);E.CTSelectionList=Q.CTSelectionList;var Z=R(153);E.CTSlidePanel=Z.CTSlidePanel;var ee=R(154);E.CTTextbox=ee.CTTextbox;var te=R(155);E.CTUserAvatar=te.CTUserAvatar;var ne=R(156);E.CTUserDisplay=ne.CTUserDisplay;var ae=R(157);E.CTUserList=ae.CTUserList,E.CTUserListMetadata=ae.CTUserListMetadata;var se=R(158);E.CTUserTile=se.CTUserTile},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(82);E.AppMode=I.AppMode;var A=R(37);E.DefaultAlerts=A.DefaultAlerts;var N=R(83);E.ChatEntryType=N.ChatEntryType;var H=R(84);E.ChatRole=H.ChatRole;var B=R(85);E.ConnectionStatus=B.ConnectionStatus;var z=R(86);E.DisconnectionStatus=z.DisconnectionStatus;var W=R(38);E.Icons=W.Icons;var J=R(87);E.RoomRole=J.RoomRole;var G=R(88);E.UserAdditionalDetailsType=G.UserAdditionalDetailsType},function(L,E,R){'use strict';function N(X,Q,Z){return X?Q:Z}function B(X){const Q=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;X=X.replace(Q,function(ee,te,ne,ae){return te+te+ne+ne+ae+ae});const Z=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(X);return Z?{r:parseInt(Z[1],16),g:parseInt(Z[2],16),b:parseInt(Z[3],16)}:null}Object.defineProperty(E,'__esModule',{value:!0});const G=R(171),$=document.createElement('div');let K=!1;E.debouncedRequestAnimationFrame=function(X){K||(K=!0,requestAnimationFrame(()=>{K=!1,X()}))},E.renderIf=function(X,Q){return N(X,Q,null)},E.renderIfElse=N,E.buildStyles=function(X={}){return Object.assign({},$.style,X)},E.hexToRgbaString=function(X){const Q=B(X);return`rgba(${Q.r}, ${Q.g}, ${Q.b}, 1)`},E.decideTextColorFromBgColor=function(X){const Q=B(X);return 186<0.299*Q.r+0.587*Q.g+0.114*Q.b?'#000000':'#ffffff'},E.linkifyText=function(X){const Q=G(X,{target:'_system',attributes:{onclick:'window.open(this.href, \'_system\'); return false;'}});return Q.replace(/&amp;/g,'&')}},function(L,E,R){'use strict';function K(Ce){const Ee=new E.safeMoment().startOf('day'),De=new E.safeMoment(Ce).startOf('day');return De.diff(Ee,'days')}function X(Ce,Ee=null){const De=K(Ce);if(0===De||-1===De){const we=0===De?ve.CommonI18nKeys.TODAY:ve.CommonI18nKeys.YESTERDAY;return Ee&&Ee.translateI18nItem(ve.CommonMetadata.getI18nItem(we))||we.toString()}return E.safeMoment(Ce).format('L')}function Q(Ce,Ee=!1){const De=Ee?'LTS':'LT';return E.safeMoment(Ce).format(De)}function ae(Ce){return Ce.map((Ee)=>{return Ee instanceof Array?ae(Ee):'object'==typeof Ee?Object.assign({},Ee):Ee})}function ie(Ce){return null===Ce?null:void 0===Ce?void 0:'object'==typeof Ce?JSON.parse(JSON.stringify(Ce)):Ce}function oe(Ce){return Ce&&'object'==typeof Ce&&!Array.isArray(Ce)}function le(Ce,...Ee){if(!Ee.length)return Ce;const De=Ee.shift();if(oe(Ce)&&oe(De))for(const we in De)oe(De[we])?(Ce[we]||Object.assign(Ce,{[we]:{}}),le(Ce[we],De[we])):Object.assign(Ce,{[we]:De[we]});return le(Ce,...Ee)}function ue(Ce){if('data'in Ce&&'object'==typeof Ce.data){const Ee=Object.keys(Ce.data).filter((De)=>'$attributes'!==De);if(0<Ee.length)return Ee[0]}return Se.BaseMessageType.XmppChat}function _e(Ce,Ee){const De=ie(Ce);return Ee||De,De.data&&'string'==typeof De.data[Ee.toString()]&&(De.data[Ee.toString()]=JSON.parse(De.data[Ee.toString()])),De}var Me=this&&this.__awaiter||function(Ce,Ee,De,we){return new(De||(De=Promise))(function(Ye,ke){function Re(xe){try{Ae(we.next(xe))}catch(Oe){ke(Oe)}}function Ie(xe){try{Ae(we['throw'](xe))}catch(Oe){ke(Oe)}}function Ae(xe){xe.done?Ye(xe.value):new De(function(Oe){Oe(xe.value)}).then(Re,Ie)}Ae((we=we.apply(Ce,Ee||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const Te=R(172),Le=R(162),Se=R(26),ve=R(43);var be;(function(Ce){Ce[Ce.PREFIX_INITIAL_LAST=0]='PREFIX_INITIAL_LAST',Ce[Ce.PREFIX_FIRST_LAST=1]='PREFIX_FIRST_LAST'})(be=E.NameFormat||(E.NameFormat={})),E.safeMoment=Te,E.setLocale=function(Ce){E.safeMoment.locale(Ce)},E.isDesktop=function(){return'undefined'==typeof window.orientation},E.isMobile=function(){return'undefined'!=typeof window.orientation},E.normalizeLocalFilePaths=function(Ce){return window.Ionic&&window.Ionic.normalizeURL?window.Ionic.normalizeURL(Ce):Ce},E.padLeft=function(Ce,Ee,De=' '){let we=Ce;const Ye=Ee-Ce.length;return 0<Ye&&(we=Array(Ye+1).join(De)+we),we},E.generateRandomSixString=function(){let Ce=0|46656*Math.random(),Ee=0|46656*Math.random();return Ce=('000'+Ce.toString(36)).slice(-3),Ee=('000'+Ee.toString(36)).slice(-3),Ce+Ee},E.tokenReplace=function(Ce,Ee){if(!Ce)return'';if(void 0===Ee||null===Ee)return Ce;if(-1===Ce.indexOf('${'))return Ce;const De=(we,Ye)=>{const ke=Ye.split('.');do;while(ke.length&&(we=we[ke.shift()]));return we};return Ce.replace(/\${([^{}]*)}/g,(we,Ye)=>{const ke=De(Ee,Ye);return'string'==typeof ke||'number'==typeof ke?ke:we})},E.jidsMatch=function(Ce,Ee,De=!1){return De||(Ce=(Ce||'').toLowerCase(),Ee=(Ee||'').toLowerCase()),Ce===Ee},E.formatDate=function(Ce,Ee){return null===Ce||void 0===Ce?'':Te(Ce).format(Ee)},E.formatDateForTimeOrDate=function(Ce,Ee=!1,De=!1,we=null){if(null===Ce||Ce===void 0)return'';const Ye=K(Ce);if(0===Ye){let ke='';if(Ee){const Re=ve.CommonI18nKeys.TODAY;ke=we&&we.translateI18nItem(ve.CommonMetadata.getI18nItem(Re))||Re.toString()}return(Ee&&`${ke}, `||'')+Q(Ce,De)}return`${X(Ce,we)} ${Q(Ce,De)}`},E.daysFromNow=K,E.getFriendlyDate=X,E.getFriendlyTime=Q,E.prettyDuration=function(Ce){if(1e3>Ce)return'< 1s';const Ee=Math.trunc(Ce/1e3);if(60>Ee)return`${Ee}s`;const De=Math.trunc(Ce/1e3/60),we=Math.trunc((Ce-1e3*(60*De))/1e3);if(60>De)return`${De}m`+(we&&` ${we}s`||'');const Ye=Math.trunc(Ce/1e3/60/60),ke=Math.trunc((Ce-1e3*(60*(60*Ye)))/1e3/60);if(24>Ye)return`${Ye}h`+(ke&&` ${ke}m`||'');const Re=Math.trunc(Ce/1e3/60/60/24);return`${Re} days`},E.formatUserName=function(Ce,Ee){if(!Ce)return'';return Ee===be.PREFIX_INITIAL_LAST?`${Ce.prefix||''} ${(Ce.firstName||'').substr(0,1)} ${Ce.lastName||''}`.trim()||Ce.username||Ce.jid||'':Ee===be.PREFIX_FIRST_LAST?`${Ce.prefix||''} ${Ce.firstName||''} ${Ce.lastName||''}`.trim()||Ce.username||Ce.jid||'':void 0},E.sortUsersByName=function(Ce){return ae(Ce).sort((Ee,De)=>{const we=Ee.lastName||'',Ye=De.lastName||'',ke=we.localeCompare(Ye);if(0!==ke)return ke;const Re=Ee.firstName||'',Ie=De.firstName||'';return Re.localeCompare(Ie)})},E.enumFromString=function(Ce){return Ce||null},E.deepCloneArray=ae,E.uniqueArrayItems=function(Ce,Ee=(Ye)=>Ye){const De=[],we=[];return Ce.forEach((Ye)=>{const ke=Ee(Ye);De.includes(ke)||(De.push(ke),we.push(Ye))}),we},E.groupArrayItemsByKey=function(Ce,Ee=(De)=>De){return Ce.reduce((De,we)=>{const Ye=Ee(we);let ke=null;return De[Ye]?ke=De[Ye]:(ke=[],De[Ye]=ke),ke.push(we),De},{})},E.deepCloneObject=ie,E.isObject=oe,E.mergeDeep=le,E.getMessageType=ue,E.parseMessagePayload=_e,E.getMessageContentForDebug=function(Ce){const Ee=ue(Ce);if(null===Ee)return'';if(Ee===Se.BaseMessageType.XmppChat)return{[Ee]:{body:Ce.body,attachments:Ce.attachments}};if(Ce.data&&Ee in Ce.data){const De=_e(Ce,Ee);return{[Ee]:De.data[Ee]}}return''},E.getUsernameFromJid=function(Ce){return-1<Ce.indexOf('@')?Ce.substring(0,Ce.indexOf('@')):Ce},E.findRoomJidInMessage=function(Ce,Ee){const De=['recipient_id','sender_id','jid'];for(let we=0;we<De.length;we++){const Ye=De[we];if(Ce[Ye]){const ke=(Ce[Ye]||'').toString().toLowerCase().split('/')[0];if(ke.endsWith(Ee.toLowerCase()))return ke}}return null},E.validateVCardObject=function(Ce){return Ce&&0<Object.keys(Ce).length},E.randomNumberBetween=function(Ce,Ee){return Math.floor(Math.random()*Ee)+Ce},E.sleep=function(Ce){return Me(this,void 0,void 0,function*(){return new Promise((Ee)=>{setTimeout(Ee,Ce)})})},E.getDiffs=function(Ce,Ee){if(Ce===void 0||Ee===void 0)return[];const De=Le.default(Ce,Ee);return De.map((we)=>{const Ye=we.path.reduce((Oe,Pe)=>{return'number'==typeof Pe?`${Oe}[${Pe}]`:`${Oe}.${Pe}`},'').replace('.','');if('_id'===Ye||'_rev'===Ye)return null;let ke='',Re=!1,Ie=!1,Ae=null,xe=null;return'A'===we.kind&&'N'===we.item.kind?(ke=`ADDED [${we.index}]`,Re=!0,xe=we.item.rhs):'A'===we.kind&&'D'===we.item.kind?(ke=`DELETED [${we.index}]`,Ie=!0,xe=we.item.lhs):'N'===we.kind?(ke='ADDED',Re=!0,xe=we.rhs):'D'===we.kind?(ke='DELETED',Ie=!0,xe=we.lhs):(ke='EDITED',Ae=we.lhs,xe=we.rhs),{type:ke,added:Re,deleted:Ie,path:Ye,lhs:Ae,rhs:xe}}).filter((we)=>null!==we)}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(14);E.BaseEventArgs=I.BaseEventArgs;var A=R(70);E.CommsEventArgs=A.CommsEventArgs;var N=R(73);E.UserActivityEventArgs=N.UserActivityEventArgs;var H=R(74);E.UserConnectionStatusEventArgs=H.UserConnectionStatusEventArgs;var B=R(72);E.RoomParticipantUpdateEventArgs=B.RoomParticipantUpdateEventArgs;var z=R(71);E.ConnectionStatusEventArgs=z.ConnectionStatusEventArgs;class W{}W._Request_RaiseAlert='request-raise-alert',W._Request_CloseAlert='request-close-alert',W._Request_UpdateUISuppression='request-update-ui-suppression',W._Request_RedrawAllUIs='_request-redraw-all-uis',W._Request_Logout='request-logout',W._Request_Component_Clear_Data='request-component-clear-data',W._Request_ThemeChange='request-theme-change',W.ConnectionStatusChange='connection-status-change',W.OtherUserConnectionStatusChange='other-user-connection-status-change',W.CurrentUserVCardUpdate='current-user-vcard-update',W.RoomParticipantUpdate='room-participant-update',W.UserActivity='user-activity',W.LoginResult='login-result',W.LogoutResult='logout-result',W.LoginFormResult='login-form-result',E.BaseEvents=W},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(126);E.ResponseCollectionState=I.ResponseCollectionState;var A=R(125);E.ResponderState=A.ResponderState;var N=R(127);E.ResponseStatus=N.ResponseStatus;var H=R(123);E.IncidentStatus=H.IncidentStatus;var B=R(122);E.IncidentAction=B.IncidentAction;var z=R(128);E.StateChangeType=z.StateChangeType;var W=R(124);E.ReportStatus=W.ReportStatus;var J=R(121);E.Icons=J.Icons},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=R(26),N=R(108),H=R(109),B=R(110),z=R(111),W=R(112),J=R(113),G=R(114),$=R(39),K=R(115),X=R(120),Q=R(40),Z=R(117),ee=R(118),te=R(119),ne=R(116);class ae extends A.BaseMessageType{}ae.HelloFromBot='hellofrombot',ae.NewIncident='newincident',ae.IncidentResponse='incidentresponse',ae.ChangeIncidentSeverity='changeincidentseverity',ae.CloseIncident='closeincident',ae.SetRole='setrole',ae.RemoveFromRole='removefromrole',ae.ChangeResponderState='changeresponderstate',ae.ChangeResponseCollectionState='changeresponsecollectionstate',ae.AcknowledgeIncidentUpdate='acknowledgeincidentupdate',ae.RequestReport='requestreport',ae.ReportReady='reportready',ae.ReportFailed='reportfailed',E.IncidentMessageType=ae;class se extends A.BaseBotCommand{}se.CanRequestIncident='canrequestincident',se.GetRoleUsers='getroleusers',se.GetLastSeen='getlastseen',E.IncidentBotCommands=se,E.get=function(de){return[new N.AcknowledgeIncidentUpdateHandler(de),new H.ChangeIncidentSeverityHandler(de),new B.ChangeResponderStateHandler(de),new z.ChangeResponseCollectionStateHandler(de),new W.CloseIncidentHandler(de),new J.CommsConnectionHandler(de),new G.HelloFromBotHandler(de),new $.IncidentResponseHandler(de),new K.NewIncidentHandler(de),new X.RoleSelectionHandler(de),new Q.RemoveFromRoleHandler(de),new Z.ReportFailedHandler(de),new ee.ReportReadyHandler(de),new te.RequestReportHandler(de),new ne.RaiseNewIncidentHandler(de)]}},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(B,z,W,J){return new(W||(W=Promise))(function(G,$){function K(Z){try{Q(J.next(Z))}catch(ee){$(ee)}}function X(Z){try{Q(J['throw'](Z))}catch(ee){$(ee)}}function Q(Z){Z.done?G(Z.value):new W(function(ee){ee(Z.value)}).then(K,X)}Q((J=J.apply(B,z||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(26),N=R(5);class H extends A.BaseHandler{constructor(B){super(B)}callCreateBotMessage(B,z){return I(this,void 0,void 0,function*(){const W=this.createBotMessage(B,z);if(!W)return null;const J=this.layer.getCurrentUser();return J?(W.version=H.VERSION,W.senderjid=J.jid,W.senderresource=this.layer.getCurrentUserResource(),W.sendername=J.displayName,W):null})}callHandleMessage(B){return I(this,void 0,void 0,function*(){this._ensureValidVersion(B),yield this.handleMessage(B)})}_ensureValidVersion(B){const z=N.getMessageType(B),W=B.data[z];if(!W||!W.version||W.version>H.VERSION){const J=`Invalid message version ${W.version} for message "${z}" - expected ${H.VERSION}`;throw this.layer.logger.error(J,B),new Error(J)}}}H.VERSION=1,E.BaseIncidentHandler=H},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(90);E.CTILComponent=I.CTILComponent},function(L,E,R){'use strict';function W(me,pe,ge){const he=ae(me,(fe)=>fe.responder.jid===pe);return he?ge&&he.responder.roleId!==ge?null:he:null}function te(me,pe,ge){const he=ge.find((Te)=>Te.id===pe.responder.roleId),fe=he&&he.id||'___other___',ye=he&&he.name||'Other';let Me=me.responses.find((Te)=>Te.id===fe);return Me||(Me={id:fe,name:ye,status:null,received:null,date:null,eta:0,responses:[],state:[],collectionState:[]},me.responses.push(Me)),Me}function ne(me,pe){const ge=me.responses.findIndex((he)=>he.responses.some(pe));return-1===ge?null:me.responses[ge]}function ae(me,pe){const ge=me.responses.findIndex((fe)=>fe.responses.some(pe));if(-1===ge)return null;const he=me.responses[ge].responses.findIndex(pe);return-1===he?null:me.responses[ge].responses[he]}function se(me,pe){return pe.map((ge)=>{return{received:null,status:null,date:null,eta:0,responder:oe(me,ge),state:[]}})}function de(me,pe,ge){const he=me.findIndex((fe)=>fe.state===pe.state);ge===ue.StateChangeType.Add?(()=>{-1===he&&me.push(pe)})():ge===ue.StateChangeType.Remove?(()=>{-1!==he&&me.splice(he,1)})():ge===ue.StateChangeType.Update?(()=>{-1!==he&&(me[he]=pe)})():void 0}function ie(me){return me.map((pe)=>{return{id:pe.id,name:pe.name,status:null,received:null,date:null,eta:0,responses:se(pe,pe.responders),state:[],collectionState:[]}})}function oe(me,pe){return pe?{roleId:me.id,jid:pe.jid,name:pe.name,telephone:pe.telephone||null}:null}function le(me){return me?{jid:me.jid,name:me.displayName||me.username,roleId:me.role&&me.role.id||null,telephone:me.telephone||null}:null}Object.defineProperty(E,'__esModule',{value:!0});const ue=R(7),_e=R(5),ce=[ue.ResponseStatus.Transmitted,ue.ResponseStatus.Received,ue.ResponseStatus.Displayed,ue.ResponseStatus.Acknowledged,ue.ResponseStatus.Unable,ue.ResponseStatus.Attending];E.generatePrePopulatedResponders=function(me,pe){return me.map((ge)=>{const he=pe.filter((fe)=>fe.role&&fe.role.id===ge.id).map((fe)=>{return{jid:fe.jid,name:fe.displayName||fe.jid,telephone:fe.telephone||null}});return{id:ge.id,name:ge.name,responders:he}})},E.generateNewIncident=function(me,pe,ge,he,fe,ye,Me,Te,Le,Se,ve){const Ce=!Le?null:he+Le,Ee=Se.length?ie(Se):[];return{id:me,status:ue.IncidentStatus.Open,opened:{jid:pe,name:ge,date:he},expirationDate:Ce,closed:null,closedReasonId:null,priority:fe,severity:ye,location:Te,patientType:Me,responses:Ee,actions:[],isTestIncident:ve}},E.getAndUpdateResponseCollection=function(me,pe,ge,he){let fe=me.responses.find((Me)=>Me.id===pe.responder.roleId)||null;if(!fe){if(!0===he)return null;fe=te(me,pe,ge)}let ye=fe.responses.find((Me)=>Me.responder&&Me.responder.jid===pe.responder.jid);if(!ye){if(!0===he)return null;ye=Object.assign({},pe),fe.responses.push(ye)}return ye.date=pe.date,ye.status=pe.status,ye.eta=pe.eta,pe.status===ue.ResponseStatus.Received&&null===ye.received&&(ye.received=pe.date),fe},E.aggregateResponseCollectionInformation=function(me){if(!me)return;let pe=null,ge=ue.ResponseStatus.Transmitted,he=null,fe=null,ye=[];me.responses.forEach((Me)=>{if((null==pe||Me.received<pe)&&(pe=Me.received),null!==Me.status){const Te=ce.indexOf(ge),Le=ce.indexOf(Me.status);Le>Te&&(ge=Me.status,he=Me.date,fe=Me.eta),Le===Te&&((null===he||Me.date<he)&&(he=Me.date),(null===fe||Me.eta<fe)&&(fe=Me.eta))}ye=ye.concat(Me.state||[])}),me.received=pe,me.status=ge,me.date=he,me.eta=fe||0,ye.sort((Me,Te)=>Te.date-Me.date),me.state=ye},E.createUserResponse=function(me,pe,ge,he){return pe?{status:ge,received:null,date:me,eta:he,responder:le(pe),state:[]}:null},E.findUserResponseCollection=function(me,pe){return ne(me,(ge)=>ge.responder.jid===pe)},E.findUserResponse=W,E.isConcludedResponse=function(me){const pe=[ue.ResponseStatus.Acknowledged,ue.ResponseStatus.Unable,ue.ResponseStatus.Attending];return pe.includes(me)},E.processResponseCollectionStateChange=function(me,pe,ge,he,fe,ye,Me){const Te={jid:fe,name:ye,date:Me,state:pe};null!==ge&&(Te.data=ge),de(me.collectionState,Te,he)},E.processResponderStateChange=function(me,pe,ge,he,fe,ye,Me,Te){const Le=W(me,pe);if(Le){const Se={jid:ye,name:Me,date:Te,state:ge};null!==he&&(Se.data=he),de(Le.state,Se,fe)}},E.orderIncidents=function(me,pe,ge=!1){const he=_e.deepCloneArray(me),fe=ge?Number.MAX_VALUE:Number.MIN_VALUE,ye=ge?'':String.fromCharCode(99999999999);return he.sort((Me,Te)=>{return'opened_date'===pe?Te.opened.date-Me.opened.date:'closed_date'===pe?(Te.closed&&Te.closed.date||fe)-(Me.closed&&Me.closed.date||fe):'expiration_date'===pe?(Te.expirationDate||fe)-(Me.expirationDate||fe):'priority'===pe?Me.priority.number-Te.priority.number:'severity'===pe?Me.severity.number-Te.severity.number:'patient_type'===pe?(Me.patientType&&Me.patientType.name||ye).localeCompare(Te.patientType&&Te.patientType.name||ye):'location'===pe?(Me.location&&Me.location.name||ye).localeCompare(Te.location&&Te.location.name||ye):0}),ge&&he.reverse(),he},E.filterIncidents=function(me,pe,ge){return me.filter((he)=>{return'status'!==pe||('open'===ge?he.status===ue.IncidentStatus.Open:'closed'!=ge||he.status===ue.IncidentStatus.Closed)})},E.truncateIncidents=function(me,pe,ge,he){let fe=_e.deepCloneArray(me);if(0<ge&&0<he){fe=fe.filter((Me)=>Me.opened.date>=he-1e3*(60*(60*ge)))}return 0<pe&&(fe=fe.splice(0,pe)),fe},E.orderIncidentRespondents=function(me,pe,ge=!1){const he=_e.deepCloneArray(me),fe=ge?Number.MIN_VALUE:Number.MAX_VALUE;return he.sort((ye,Me)=>{return'date'===pe?(ye.date||fe)-(Me.date||fe):'eta'===pe?ye.eta-Me.eta:'status'===pe?ce.indexOf(Me.status)-ce.indexOf(ye.status):'as_supplied'===pe?0:0}),ge&&he.reverse(),he},E.filterIncidentResponses=function(me,pe,ge){return me.filter((he)=>{return'status'!==pe||(()=>{const fe=ge.split('|');if(fe.includes('all'))return!0;const ye=fe.map((Me)=>{return _e.enumFromString(Me)});return ye.includes(he.status)})()})}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(5);var A;(function(H){H[H.Connectivity='connectivity']='Connectivity',H[H.MessageSent='message-sent']='MessageSent',H[H.MessageReceived='message-received']='MessageReceived',H[H.MessageUpdated='message-updated']='MessageUpdated',H[H.MessageChatMarker='message-chat-marker']='MessageChatMarker',H[H.ProcessingReceived='processing-received']='ProcessingReceived',H[H.ProcessingUpdated='processing-updated']='ProcessingUpdated',H[H.ProcessingChatMarker='processing-chat-marker']='ProcessingChatMarker',H[H.Status='status']='Status',H[H.Presence='presence']='Presence',H[H.Participation='participation']='Participation',H[H.Mam='mam']='Mam',H[H.CleanUp='clean-up']='CleanUp',H[H.XmppClient='xmpp-client']='XmppClient',H[H.Events='events']='Events',H[H.DataStorage='data-storage']='DataStorage',H[H.Other='other']='Other'})(A=E.LoggerTypes||(E.LoggerTypes={}));E.Logger=class{constructor(H=null){this._types=H||[],this._initialTypes=H}log(H,...B){this.shouldLog(H)&&console.log.call(null,...B)}info(H,...B){this.shouldLog(H)&&console.info.call(null,...B)}debug(H,...B){this.shouldLog(H)&&console.debug.call(null,...B)}error(...H){console.error.call(null,...H)}group(H,B=!1,z='',...W){this.shouldLog(H)&&(B?console.group.call(null,z,...W):console.groupCollapsed.call(null,z,...W))}groupEnd(H){this.shouldLog(H)&&console.groupEnd.call(null)}getTypes(){return this._types}hasInitialTypes(){return this._initialTypes&&0<this._initialTypes.length}getTypesAsEnumValues(){return this._types.map((H)=>I.enumFromString(H))}setTypes(H){this._types=H||[]}resetTypes(){this._types=this._initialTypes}shouldLog(H){return this._types&&this._types.length&&(!!this._types.includes('_all_')||this._types.includes(H.toString()))}}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N){super(),this.incidentId=N}}E.BaseIncidentEventArgs=A},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});E.BaseEventArgs=class{constructor(){this.eventDate=new Date().getTime()}}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(77);E.Metadata=I.Metadata;var A=R(76);E.I18nItem=A.I18nItem},function(L){L.exports=skate},function(L,E,R){'use strict';var I=this&&this.__decorate||function($,K,X,Q){var Z=arguments.length,ee=3>Z?K:null===Q?Q=Object.getOwnPropertyDescriptor(K,X):Q,te;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ee=Reflect.decorate($,K,X,Q);else for(var ne=$.length-1;0<=ne;ne--)(te=$[ne])&&(ee=(3>Z?te(ee):3<Z?te(K,X,ee):te(K,X))||ee);return 3<Z&&ee&&Object.defineProperty(K,X,ee),ee},A=this&&this.__awaiter||function($,K,X,Q){return new(X||(X=Promise))(function(Z,ee){function te(se){try{ae(Q.next(se))}catch(de){ee(de)}}function ne(se){try{ae(Q['throw'](se))}catch(de){ee(de)}}function ae(se){se.done?Z(se.value):new X(function(de){de(se.value)}).then(te,ne)}ae((Q=Q.apply($,K||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(2),z=R(7),W=R(5),J=R(4);class G extends H.CTILComponent{static get is(){return'ct-il-incident-response-pill'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}:host .response{position:relative;display:flex;align-items:center;font-size:14px;font-weight:400}:host .response .icon{flex:0 0 auto;display:flex;justify-content:center;align-items:center}:host .response .detail{flex:1;display:flex;justify-content:space-between}:host .response .detail .label{flex:1;text-align:left}:host .response .detail .time{flex:0 0 auto;text-align:right}:host .response.style-primary .icon{border-radius:15px;width:26px;height:26px;background-color:var(--response-status-empty-bg, #fff);border:var(--response-status-empty-border, 1px solid #ededed);color:var(--response-status-empty-color, #444)}:host .response.style-primary .detail .label{margin:0 5px}:host .response.style-primary.status-received .icon{background-color:var(--response-status-received-bg, #f2f2f2);border:var(--response-status-received-border, 1px solid #ededed);color:var(--response-status-received-color, #444)}:host .response.style-primary.status-acknowledged .icon{background-color:var(--response-status-acknowledged-bg, #797e80);border:var(--response-status-acknowledged-border, 1px solid #797e80);color:var(--response-status-acknowledged-color, #fff)}:host .response.style-primary.status-unable .icon{background-color:var(--response-status-declined-bg, #d0021c);border:var(--response-status-declined-border, 1px solid #d0021c);color:var(--response-status-declined-color, #fff)}:host .response.style-primary.status-attending .icon{background-color:var(--response-status-accepted-bg, #55950c);border:var(--response-status-accepted-border, 1px solid #55950c);color:var(--response-status-accepted-color, #fff)}:host .response.style-primary.status-arrived .icon{background-color:var(--response-status-arrived-bg, #55950c);border:var(--response-status-arrived-border, 1px solid #55950c);color:var(--response-status-arrived-color, #fff)}:host .response.style-primary.status-stand-in .icon{background-color:var(--response-status-stand-in-bg, #0fb1ca);border:var(--response-status-stand-in-border, 1px solid #0fb1ca);color:var(--response-status-stand-in-color, #fff)}:host .response.style-primary.status-off-duty .icon{background-color:var(--response-status-off-duty-bg, #9b9b9b);border:var(--response-status-off-duty-border, 1px solid #9b9b9b);color:var(--response-status-off-duty-color, #fff)}:host .response.style-secondary{padding:2px 10px;border-radius:15px;font-weight:400;background-color:var(--response-status-empty-bg, #fff);border:var(--response-status-empty-border, 1px solid #ededed);color:var(--response-status-empty-color, #444)}:host .response.style-secondary .detail{margin:0 5px}:host .response.style-secondary .detail .label{margin:0 5px}:host .response.style-secondary.icon-only{width:26px;height:26px;padding:0;justify-content:center}:host .response.style-secondary.status-received{background-color:var(--response-status-received-bg, #f2f2f2);border:var(--response-status-received-border, 1px solid #ededed);color:var(--response-status-received-color, #444)}:host .response.style-secondary.status-acknowledged{background-color:var(--response-status-acknowledged-bg, #797e80);border:var(--response-status-acknowledged-border, 1px solid #797e80);color:var(--response-status-acknowledged-color, #fff)}:host .response.style-secondary.status-unable{background-color:var(--response-status-declined-bg, #d0021c);border:var(--response-status-declined-border, 1px solid #d0021c);color:var(--response-status-declined-color, #fff)}:host .response.style-secondary.status-attending{background-color:var(--response-status-accepted-bg, #55950c);border:var(--response-status-accepted-border, 1px solid #55950c);color:var(--response-status-accepted-color, #fff)}:host .response.style-secondary.status-arrived{background-color:var(--response-status-arrived-bg, #55950c);border:var(--response-status-arrived-border, 1px solid #55950c);color:var(--response-status-arrived-color, #fff)}:host .response.style-secondary.status-stand-in{background-color:var(--response-status-stand-in-bg, #0fb1ca);border:var(--response-status-stand-in-border, 1px solid #0fb1ca);color:var(--response-status-stand-in-color, #fff)}:host .response.style-secondary.status-off-duty{background-color:var(--response-status-off-duty-bg, #9b9b9b);border:var(--response-status-off-duty-border, 1px solid #9b9b9b);color:var(--response-status-off-duty-color, #fff)}:host .response.style-simple{color:rgba(0,0,0,0.5)}:host .response.style-simple .icon{padding:5px 8px}:host .response.center .detail{justify-content:center}:host .response.center .detail .label{flex:none;text-align:right}:host .response.center .detail .time{flex:none;text-align:left}:host([collapsed]){display:inline-block}
        `}generateComponentMarkup(){if(null===this.status)return null;const $=''!==this.label,K=null!==this.date,X=['response',`style-${this.pillStyle}`,`status-${this._getResponseStatusClassName()}`];this.center&&X.push('center'),$||K||X.push('icon-only');const Q=this._getResponseStatusIcon();return window.__CTRender('div',{class:X.join(' ')},window.__CTRender('div',{class:'icon'},window.__CTRender(B.CTIcon,{width:this.iconWidth,height:this.iconHeight,icon:Q})),J.renderIf($||K,window.__CTRender('div',{class:'detail'},J.renderIf($,window.__CTRender('div',{class:'label'},this._getLabel())),J.renderIf(K,window.__CTRender('div',{class:'time'},W.formatDate(this.date,'HH:mm'))))))}_getResponseStatusClassName(){switch(this.status){case z.ResponseStatus.Transmitted:return'transmitted';case z.ResponseStatus.Received:case z.ResponseStatus.Displayed:return'received';case z.ResponseStatus.Acknowledged:return'acknowledged';case z.ResponseStatus.Unable:return'unable';case z.ResponseStatus.Attending:return'attending';case z.ResponseStatus.Arrived:return'arrived';case z.ResponseStatus.StandIn:return'stand-in';case z.ResponseStatus.OffDuty:return'off-duty';default:return'unknown';}}_getResponseStatusIcon(){switch(this.status){case z.ResponseStatus.Transmitted:return z.Icons.STATUSES.Transmitted;case z.ResponseStatus.Received:case z.ResponseStatus.Displayed:return z.Icons.STATUSES.Received;case z.ResponseStatus.Acknowledged:return z.Icons.STATUSES.Acknowledged;case z.ResponseStatus.Unable:return z.Icons.STATUSES.Unable;case z.ResponseStatus.Attending:return z.Icons.STATUSES.Attending;case z.ResponseStatus.Arrived:return z.Icons.STATUSES.Arrived;case z.ResponseStatus.StandIn:return z.Icons.STATUSES.StandIn;case z.ResponseStatus.OffDuty:return z.Icons.STATUSES.OffDuty;default:return z.Icons.STATUSES.Transmitted;}}_getLabel(){if(this.label&&this.label.length)return this.label;switch(this.status){case z.ResponseStatus.Transmitted:return'Transmitted';case z.ResponseStatus.Received:case z.ResponseStatus.Displayed:return'Received';case z.ResponseStatus.Acknowledged:return'Acknowledged';case z.ResponseStatus.Unable:return'Unable';case z.ResponseStatus.Attending:return'Attend';case z.ResponseStatus.Arrived:return'Arrived';case z.ResponseStatus.StandIn:return'Stand In';case z.ResponseStatus.OffDuty:return'Off Duty';default:return'';}}}I([N.prop({type:Object,attribute:!0,default:null})],G.prototype,'status',void 0),I([N.prop({type:String,attribute:!0,default:null})],G.prototype,'label',void 0),I([N.prop({type:N.NullableNumber,attribute:!0,default:null})],G.prototype,'date',void 0),I([N.prop({type:String,attribute:!0,default:'primary'})],G.prototype,'pillStyle',void 0),I([N.prop({type:String,attribute:!0,default:'14px'})],G.prototype,'iconWidth',void 0),I([N.prop({type:String,attribute:!0,default:'14px'})],G.prototype,'iconHeight',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],G.prototype,'center',void 0),E.CTILIncidentResponsePill=G,G.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(G,$,K,X){var Q=arguments.length,Z=3>Q?$:null===X?X=Object.getOwnPropertyDescriptor($,K):X,ee;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Z=Reflect.decorate(G,$,K,X);else for(var te=G.length-1;0<=te;te--)(ee=G[te])&&(Z=(3>Q?ee(Z):3<Q?ee($,K,Z):ee($,K))||Z);return 3<Q&&Z&&Object.defineProperty($,K,Z),Z},A=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(10),z=R(4),W=R(2);class J extends B.CTILComponent{static get is(){return'ct-il-online-status-pill'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:inline-flex}:host .indicator{position:relative;display:flex;align-items:center;padding:5px;border-radius:15px;font-size:14px;font-weight:300}:host .indicator.online{background:var(--primary-color, #15233b);color:var(--primary-font-color, #fff)}:host .indicator.offline{background:var(--primary-color-offline, #9b9b9b);color:var(--primary-font-color, #fff)}:host .indicator .label{margin:0 5px}
        `}generateComponentMarkup(){if(!this.status)return null;const G=this.status===H.ConnectionStatus.Connected,$=['indicator',G?'online':'offline'],K=G?H.Icons.COMMON.StatusOnline:H.Icons.COMMON.StatusOffline,X=G?'Online':'Offline';return window.__CTRender('div',{class:$.join(' ')},window.__CTRender('div',{class:'icon'},window.__CTRender(W.CTIcon,{width:'16',height:'16',icon:K})),z.renderIf(this.showLabel,window.__CTRender('div',{class:'label'},X)))}}I([N.prop({type:String,attribute:!0})],J.prototype,'status',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],J.prototype,'showLabel',void 0),E.CTILOnlineStatusPill=J,J.register()},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(44),A=R(25),N=R(61),H=R(33),B=R(24),z=R(62),W=R(60),J=R(32);if(!window.Promise)throw new Error('ct-xmpp-client.js has a dependency on Promise, did you forget to include the polyfill?');if(!window.PouchDB)throw new Error('ct-xmpp-client.js has a dependency on PouchDB, please ensure PouchDB is included before ct-xmpp-client.js');class G{constructor($,K,X){if(this._userDirectory=null,this._includeStanzaFilters=[],this._excludeStanzaFilters=[],this._pushNodeName=null,this._lastStatusId=null,this._pingInterval=null,this._reLoginTimeout=null,this._reLoginBackOff=1e3,this._joinedRooms={},this._saveDebounce={},this._initialised=!1,!$)throw new Error('An instance ID must be provided.');this._instanceId=$;let Q=localStorage.getItem(`${this._instanceId}_last_archive_id`);if(null===Q&&(Q='0'),this._lastArchiveId=Q,!K)throw new Error('XMPP server hostname must be provided.');this._serverTimeDiff=null,this._eventListeners={},this._options=G._merge({sendTimeout:3e5,debug:!1,perfLogging:!1,mucHost:null,uploadHost:null,echoHost:null,authAttachments:!1,mam:{auto:!0,defaultTimeLimit:2.628e9,pageSize:250},push:{enabled:!1,packageId:'',senderId:''},enablePing:!0,pingInterval:5e3,pingTimeout:1e4,connectTimeout:7e3,autoLogin:!1,autoReconnect:!0,autoMarkMessages:!0,encryption:!1,fileEncryption:!1,autoDownloadAttachmentTime:-1,autoPurgeOldMessagesAge:-1,autoPurgeOldMessagesCount:-1,streamResumption:!0,useEncodedJidAsResource:!1,adSpn:null,adSecurityPackage:null,adTokenPlaceholder:'[[AD_PASSWORD_TOKEN]]',updateUserDirectoryOnLogin:!1,enableMessageCarbons:!1,maxReconnectBackoff:3e5,stropheLogging:!1,forceIndexedDb:!1,bringToForegroundOnVoipPush:!0},X),this._endpoint=K,this._connection=null,this.connected=!1,this.loggedIn=!1,this._reLoggingIn=!1,this._loggingOut=!1,this._jid=null,this.resource=null,this._bareJid=null,this.username=null,this._userDirectory=new W.UsersDirectory(this._instanceId,this._options.debug),!0===this._options.stropheLogging&&(J.default.Strophe.log=(Z,ee)=>{this._log(`[${Z}]: ${ee}`)}),I.Promise.all([this._getInstallId(),this._initDbs()]).then(()=>{if(this._initialised=!0,this._log('XMPP client successfully initialised.'),this._dispatchEvent(G.EVENT_TYPES.INITIALISED,null),!0===this._options.autoLogin){const Z=[this._getCacheItem('user_jid'),this._getCacheItem('user_password')];I.Promise.all(Z).then((ee)=>{const te=ee[0],ne=ee[1];void 0!==te&&void 0!==ne&&this._reLogin()}).catch((ee)=>{this._onError('Unable to get jid/pw: '+ee)})}}).catch((Z)=>{throw new Error(Z)})}set sendTimeout($){$===this._options.sendTimeout||(this._options.sendTimeout=$)}get status(){return this._isMethodReady(!0),this._getCacheItem('connection_status')}get bareJid(){return this._bareJid}addIncludeStanzaFilter($){this._includeStanzaFilters.push($)}addExcludeStanzaFilter($){this._excludeStanzaFilters.push($)}_getInstallId(){const $='install_id';return new I.Promise((K,X)=>{const Q=localStorage.getItem(`${this._instanceId}_install_id`);if(null===Q){let Z=this;if('ios'===H.getPlatformName()){const ee=B.getSource('securesettings');ee.get((te)=>{if('string'==typeof te)Z._installId=te,localStorage.setItem(`${Z._instanceId}_install_id`,Z._installId),K();else{const ne=A.generateGuid();ee.set(()=>{Z._installId=ne,localStorage.setItem(`${Z._instanceId}_install_id`,Z._installId),K()},(ae)=>{X(ae)},$,ne)}},(te)=>{Z._log('Secure settings error:',te),X(te)},$)}else if('android'===H.getPlatformName()){const ee=B.getSource('device');this._installId=ee.uuid,localStorage.setItem(`${this._instanceId}_install_id`,this._installId),K()}else{const ee=A.generateGuid();Z._installId=ee,localStorage.setItem(`${this._instanceId}_install_id`,this._installId),K()}}else return this._installId=Q,K()})}_initDbs(){return new I.Promise(($,K)=>{const X={auto_compaction:!0,revs_limit:1};this._msgDb=new window.PouchDB(`${this._instanceId}_messages`,X),this._contactDb=new window.PouchDB(`${this._instanceId}_contacts`,X),this._cacheDb=new window.PouchDB(`${this._instanceId}_cache`,X),this._cache={},this._roomDb=new window.PouchDB(`${this._instanceId}_rooms`,X),this._participantDb=new window.PouchDB(`${this._instanceId}_participants`,X),!0===this._options.encryption?A.getEncryptionKey(this._instanceId).then((Q)=>{this._cacheDb.crypto({key:Q}),this._msgDb.crypto({key:Q}),this._contactDb.crypto({key:Q}),this._roomDb.crypto({key:Q}),this._participantDb.crypto({key:Q}),$()}).catch(K):(console.warn('Encryption has not been enabled! If you have auto-reconnect, auto-login or authenticated attachments enabled your password will be stored unencrypted! \uD83D\uDE31'),$())})}_setStatus($,K=!0,X=null){return new I.Promise((Q,Z)=>{if(this._lastStatusId===$)Q();else{const ee={id:$,label:null,reason:X};$===J.default.Strophe.Status.CONNECTING?ee.label='Connecting':$===J.default.Strophe.Status.CONNFAIL?ee.label='Connection failed':$===J.default.Strophe.Status.DISCONNECTING?ee.label='Disconnecting':$===J.default.Strophe.Status.DISCONNECTED?ee.label='Disconnected':$===J.default.Strophe.Status.CONNECTED?ee.label='Connected':$===J.default.Strophe.Status.AUTHFAIL?ee.label='Authentication failed.':$===J.default.Strophe.Status.ERROR?ee.label=X||'An unknown error occurred.':void 0;this._lastStatusId!==ee.id&&!1!==K&&this._dispatchEvent(G.EVENT_TYPES.STATUS,ee),this._lastStatusId=ee.id,this._setCacheItem('connection_status',ee).then(Q).catch(Z)}})}static _isReasonToReconnect($){if(!$||'string'!=typeof $)return!0;let K=!0;switch($.toLowerCase()){case'kicked by administrator':case'replaced by new connection':case'conflict':K=!1;}return K}static _translateCondition($){if(!$)return null;switch($.toLowerCase()){case'conflict':return'You already have an active session. Please log out of any previous sessions or wait for the previous login attempt to timeout.';case'system-shutdown':return'Remote server was shut down.';case'connection-timeout':return'The connection to the server timed out.';case'socket closed, probably due to no network connectivity.':case'invalid username or password':case'kicked by administrator':return $;default:return'Connection closed unexpectedly.';}}_connect($,K){return new I.Promise((X,Q)=>{this._connection&&this._connection.disconnect('make_sure'),this._connection=new J.default.Strophe.Connection(this._endpoint,{instance_id:this._instanceId}),this._connection.addHandler(this._onStanza.bind(this),null,'message'),this._connection.addHandler((te)=>{return this._onPresence(G.xmlToJson(te))},null,'presence');const Z=setTimeout(()=>{this._connection._doDisconnect(),Q('Connection took more than 5 seconds to be established, connection closed.')},this._options.connectTimeout),ee=!0===this._options.streamResumption?this._getCacheItem('stream_management_id'):I.Promise.resolve();ee.then((te)=>{this._connection.streamManagement.prevId=te;let ne=!1;this._connection.connect($,K,(ae,se)=>{if(!0!==this._reLoggingIn&&this._setStatus(ae,!0,se),!0==ne)return!1;switch(ae){case J.default.Strophe.Status.ERROR:case J.default.Strophe.Status.AUTHFAIL:case J.default.Strophe.Status.CONNFAIL:case J.default.Strophe.Status.DISCONNECTED:const de=G._translateCondition(se);let ie='Connection Disconnected';ae===J.default.Strophe.Status.ERROR&&(ie='Connection Error',this._onError(ie,de)),ae===J.default.Strophe.Status.AUTHFAIL&&(ie='Authentication Failed'),ae===J.default.Strophe.Status.CONNFAIL&&(ie='Connection Failed'),null!==de&&(ie+=': '+de),clearTimeout(Z),this.connected=!1,this._stopPing(),this._log('Disconnected:',se),!1===this._loggingOut&&!0===this._options.autoReconnect&&ae!==J.default.Strophe.Status.AUTHFAIL&&!0===G._isReasonToReconnect(se)&&(this._log('Attempting to re-login...'),this._reLogin()),ne=!0,Q({msg:ie,status:ae,condition:se});break;case J.default.Strophe.Status.CONNECTED:clearTimeout(Z),this.connected=!0,X(se);}})})})}_enableStreamManagement(){return new I.Promise(($,K)=>{if(!1===this.connected||null===this._connection)K('You must have an active connection to enable stream management');else{if(!this._connection.streamManagement)throw new Error('Stream management is required.');try{this._connection.addHandler((X)=>{return this._log('Stream resumption enabled!'),this._setCacheItem('stream_management_id',X.getAttribute('id')).then(()=>{$()}),!1},'urn:xmpp:sm:3','enabled'),this._connection.streamManagement.enable()}catch(X){console.error(X)}}})}_enableMessageCarbons(){return this.sendIq(null,'set',{enable:{$attributes:{xmlns:G.NAMESPACES.CARBONS},$value:''}})}_initialisePing(){return new I.Promise(($)=>{!0===this._options.enablePing&&(null!==this._pingInterval&&clearInterval(this._pingInterval),this._pingInterval=setTimeout(()=>{this._sendPing().then(()=>{this._initialisePing()}).catch(()=>{this._log('Ping failed.'),!0===this._options.autoReconnect&&(this._log('Auto-reconnect enabled, so let\'s try and reconnect!'),this._reLogin())})},this._options.pingInterval)),$()})}_sendPing(){return new I.Promise(($,K)=>{const X=setTimeout(()=>{this.connected=!1,this._setStatus(J.default.Strophe.Status.DISCONNECTED),!0===this._options.autoReconnect&&this._setStatus(J.default.Strophe.Status.CONNECTING),K()},this._options.pingTimeout);this.sendIq(this._domain,'get',{ping:{$attributes:{xmlns:G.NAMESPACES.PING}}}).then(()=>{clearTimeout(X),$()}).catch(K)})}_makeParticipantsOffline(){return new I.Promise(($,K)=>{this._participantDb.allDocs({include_docs:!0}).then((X)=>{const Q=X.rows.filter((Z)=>{return!Z.doc.language}).map((Z)=>{return Z.doc.online=!1,Z.doc});this._participantDb.bulkDocs(Q).then($).catch((Z)=>{this._onError(`Unable to bulk update participants to offline status.`,Z),K(Z)})}).catch((X)=>{this._onError(`Unable to get participants from database.`,X),K(X)})})}_makeContactsOffline(){return new I.Promise(($,K)=>{this.getContacts().then((X)=>{X.forEach((Q)=>{Q.online=!1}),this._contactDb.bulkDocs(X).then(function(){$()}).catch((Q)=>{this._onError(`Unable to bulk update contacts to offline status.`,Q),K(Q)})}).catch((X)=>{this._onError(`Unable to get contacts from database.`,X),K(X)})})}reLoginNow(){this._clearReLoginTimeout();const $=[this._getCacheItem('user_jid'),this._getCacheItem('user_password')];I.Promise.all($).then((K)=>{const X=K[0],Q=K[1];X!==void 0&&Q!==void 0&&(this._log(`Auto-logging in with JID '${X}'.`),this._setStatus(J.default.Strophe.Status.CONNECTING),this._login(X,Q,!0).then((Z)=>{this._reLoginBackOff=1e3,this._log(`Auto-login success.`),this._reLoggingIn=!1,this.connected=!0;const ee=[];for(let te in this._joinedRooms)ee.push(this.joinRoom(te));I.Promise.all(ee).then(()=>{this._setStatus(J.default.Strophe.Status.CONNECTED).then(()=>{this._dispatchEvent(G.EVENT_TYPES.AUTO_RECONNECTED,{resumed:Z})}).catch((te)=>{console.error('Couldn\'t set connection status:',te)})}).catch((te)=>{this._onError('Couldn\'t join all rooms on re-login, logging out.',te),this.logout()})}).catch((Z)=>{if(Z.status==J.default.Strophe.Status.AUTHFAIL){const ee={id:J.default.Strophe.Status.DISCONNECTED,label:'Authentication Failed.',wontReconnect:!0,reason:Z.condition};this._dispatchEvent(G.EVENT_TYPES.STATUS,ee)}else this._reLoginBackOff+=3e3,this._reLoginBackOff>this._options.maxReconnectBackoff&&(this._reLoginBackOff=this._options.maxReconnectBackoff),this._log(`Couldn't re-login, trying again in ${this._reLoginBackOff/1e3} seconds...`),this._reLogin()}))})}_reLogin(){if(!0!==this._loggingOut){if(this._reLoggingIn=!0,this._clearReLoginTimeout(),0<this._reLoginBackOff){const $={id:J.default.Strophe.Status.DISCONNECTED,label:'Disconnected',reconnectTime:this._reLoginBackOff};this._dispatchEvent(G.EVENT_TYPES.STATUS,$)}this._reLoginTimeout=setTimeout(()=>{this.reLoginNow()},this._reLoginBackOff)}}_clearReLoginTimeout(){null!==this._reLoginTimeout&&(clearTimeout(this._reLoginTimeout),this._reLoginTimeout=null)}_stopPing(){null!==this._pingInterval&&clearInterval(this._pingInterval)}_createPresenceObject(){return new I.Promise(($)=>{const K={$attributes:{from:this._jid,xmlns:G.NAMESPACES.JABBER_CLIENT}};K.show='chat',K.status='Available',this._getCacheItem('chat_status').then((X)=>{X!==void 0&&(X.status&&(K.show=X.status),X.label&&(K.status=X.label),X.metadata&&(K.metadata=G._merge({$attributes:{xmlns:G.NAMESPACES.CT_METADATA}},X.metadata))),$(K)})})}_sendPresence(){this._createPresenceObject().then(($)=>{if(this._connection.send(G.jsonToXml('presence',$)),!!this._options.mucHost)for(let K in this._joinedRooms){$.$attributes.to=`${K}@${this._options.mucHost}`,$.x={$attributes:{xmlns:G.NAMESPACES.MUC}};const X=G.jsonToXml('presence',$);this._connection.send(X)}})}getServerTime(){return this._isMethodReady(!0,!0),new I.Promise(($,K)=>{this.sendIq(this._domain,'get',{time:{$attributes:{xmlns:G.NAMESPACES.TIME}}}).then((X)=>{if(void 0!==X.iq.time&&X.iq.time.utc){const Q=new Date(X.iq.time.utc).valueOf(),Z=Date.now();this._serverTimeDiff=Q-Z}$(this._serverTimeDiff)}).catch(K)})}getSyncedTimestamp($){if(null===this._serverTimeDiff)return $;const K=Math.abs(this._serverTimeDiff);return 0<=this._serverTimeDiff?$+K:$-K}login($,K){return this._login($,K,!1)}_login($,K,X=!1){if(this._isMethodReady(!0),!$)throw new Error('Parameter \'jid\' must be provided.');if(!K)throw new Error('Parameter \'password\' must be provided.');return!0===this._reLoggingIn&&!1===X&&(this._clearReLoginTimeout(),this._reLoggingIn=!1),this._loggingOut=!1,new I.Promise((Q,Z)=>{this._getInstallId().then(()=>{this._getCacheItem('user_jid').then((ee)=>{if(!0===this.connected&&!0===this.loggedIn&&ee===J.default.Strophe.getBareJidFromJid($))Q(!1);else{const te=J.default.Strophe.getResourceFromJid($);if(null!==te)this.resource=te,this._jid=$,this._bareJid=J.default.getBareJidFromJid(this._jid);else{if(this._bareJid=$,!0===this._options.useEncodedJidAsResource)this.resource=btoa(this._bareJid);else{const se=localStorage.getItem(`${this._instanceId}_resource`);null===se?(this.resource=this._installId,localStorage.setItem(`${this._instanceId}_resource`,this.resource)):this.resource=se}this._jid=this._bareJid+'/'+this.resource}const ne=()=>{this.loggedIn=!0,localStorage.removeItem(`${this._instanceId}_logging_in`)};this.username=J.default.Strophe.getNodeFromJid(this._jid),this._domain=this._bareJid.split('@')[1];const ae=()=>{let se=!1;const de=null!==localStorage.getItem(`${this._instanceId}_logging_in`);de&&this._log('Previous login attempt failed, calling a force logout to clean-up.'),this.logout(de,!0).then(()=>{return this._embellishPasswordWithAdToken(K)}).then((ie)=>{return this._connect(this._jid,ie).then((oe)=>{se='resumed'===oe,localStorage.setItem(`${this._instanceId}_logging_in`,'true')})}).then(()=>{return!1==se?this._enableStreamManagement():I.Promise.resolve()}).then(()=>{return!1==se&&!0===this._options.enableMessageCarbons?this._enableMessageCarbons():I.Promise.resolve()}).then(()=>{return!1==se?this.getServerTime():I.Promise.resolve()}).then(()=>{return!1==se?this._setCacheItem('user_jid',this._bareJid):I.Promise.resolve()}).then(()=>{return new I.Promise((ie,oe)=>{!1==se&&(!0===this._options.autoReconnect||!0===this._options.autoLogin||!0===this._options.authAttachments)?this._setCacheItem('user_password',K,!0).then(ie).catch(oe):ie()})}).then(()=>{return se?void 0:I.Promise.all([this._makeContactsOffline(),this._makeParticipantsOffline()])}).then(()=>{return new I.Promise((ie)=>{H.isDevice()&&this._options.push.enabled?this._getPushToken().then((le)=>{return this.registerForPush(le)}).then(()=>{ie()}).catch((le)=>{this._log('Failed to register for push: '+le),ie()}):ie()})}).then(()=>{return this._initialisePing()}).then(()=>{return!0===this._options.updateUserDirectoryOnLogin?this.updateUserDirectory():I.Promise.resolve()}).then(()=>{return!1==se?this._getCacheItem('roster_version').then((ie)=>{return this.sendIq(this._bareJid,'get',{query:{$attributes:{xmlns:'jabber:iq:roster',ver:ie||''}}})}):I.Promise.resolve()}).then((ie)=>{return this._processRoster(ie)}).then(()=>{return new I.Promise((ie,oe)=>{if(!1==se&&!1!==this._options.mam.auto){const le=this.getLastArchiveId();this.listSubscriptions().then((ue)=>{const _e=[];ue.forEach((ce)=>{_e.push(this.queryMamByRoomName(ce.name,!0,le))}),I.Promise.all(_e).then(()=>{this.queryMam(null,le).then(ie).catch((ce)=>{this._onError(`Unable to query the MAM for missed messages.`,ce),oe(ce)})}).catch((ce)=>{this._onError(`Unable to query the MAM for missed messages in a subscribed room.`,ce),oe(ce)})}).catch((ue)=>{this._onError(`Unable to get a list of subscriptions.`,ue),oe(ue)})}else ie()})}).then(()=>{!1==se&&this._sendPresence(),ne(),Q(se)}).catch((ie)=>{null!==this._connection&&!0===this._connection.connected&&(this._connection.disconnect('fail_during_login'),this._connection=null),this._onError(`Unable to complete login process with JID '${$}'.`,ie.msg),Z(ie)})};void 0!==ee&&ee!==this._bareJid?this._clearDbsForNewUser().then(()=>{ae()}):ae()}}).catch(Z)}).catch(Z)})}logout($=!1,K=!1){return new I.Promise((X,Q)=>{const Z=()=>{this._joinedRooms={},this._reLoggingIn=!1,this.connected=!1,this.loggedIn=!1,this._stopPing(),this._clearReLoginTimeout(),localStorage.removeItem(`${this._instanceId}_logging_in`);const ee=[this._deleteCacheItem('stream_management_id')];!0!==K&&ee.push(this._deleteCacheItem('user_password')),I.Promise.all(ee).then(()=>{this._loggingOut=!1,X()}).catch(Q)};if(!0!==$&&(!1===this.connected||!0===this._loggingOut))X();else if(null!==this._connection&&!0===this._connection.connected&&!1===this._loggingOut){this._loggingOut=!0;const ee=()=>{this._stopPing(),this._clearReLoginTimeout(),this._connection.disconnect('user_logout'),this._connection=null,Z()};H.isDevice()&&this._options.push.enabled?this.disablePush().then(()=>{ee()}):ee()}else Z()})}resendMessage($){return this._isMethodReady(!0,!0),new I.Promise((K,X)=>{this.getMessageById($).then((Q)=>{this._log(`Resending message with ID '${$}':`,Q);const Z={$attributes:{id:Q._id,to:Q.recipient_id,from:Q.sender_id,type:Q.type,xmlns:G.NAMESPACES.JABBER_CLIENT},markable:{$attributes:{xmlns:G.NAMESPACES.CHAT_MARKERS}},body:Q.body,data:Q.data,attachments:[]};void 0!==Q.addresses&&(Z.addresses={$attributes:{xmlns:G.NAMESPACES.ADDRESS},address:Q.addresses}),Q.attachments.forEach((ee)=>{Z.attachments.push({name:ee.name,type:ee.type,size:''+ee.size,get:ee.get})}),this.sendStanza(Z).then(()=>{K(Q)}).catch(X)}).catch(X)})}sendStanza($,K=!0){return this._isMethodReady(!0,!0),new I.Promise((X,Q)=>{if(!0===this.connected&&null!==this._connection){let Z=null,ee=null,te=null,ne=null,ae=null,se=null;const de=()=>{this.removeEventListener(G.EVENT_TYPES.ACK_RECEIVED,ne),this.removeEventListener(G.EVENT_TYPES.ERROR,ee),this._connection.deleteHandler(ae),this._connection.deleteHandler(se)};ee=(ie)=>{ie.messageId===$.$attributes.id&&(clearTimeout(Z),de(),Q(ie.text.$value))},this.addEventListener(G.EVENT_TYPES.ERROR,ee),te=()=>{clearTimeout(Z),de(),X($)},ne=(ie)=>{ie===$.$attributes.id&&te()},ae=(ie)=>{const oe=ie.querySelector('message');return oe.getAttribute('id')!==$.$attributes.id||(te(),!1)},se=()=>{return te(),!1},Z=setTimeout(()=>{de(),Q(`Message was not received by the server within ${this._options.sendTimeout}ms.`)},this._options.sendTimeout);try{void 0===$.$attributes&&($.$attributes={}),void 0===$.$attributes.from&&($.$attributes.from=this._jid),void 0===$.$attributes.id&&($.$attributes.id=this.getUniqueId()),!0===K&&($.store={$attributes:{xmlns:G.NAMESPACES.HINTS},$value:''}),$.timestamp={$attributes:{xmlns:G.NAMESPACES.CT_CLIENT_TIMESTAMP},$value:Date.now()};const ie=G.jsonToXml('message',$);$.$attributes&&'groupchat'===$.$attributes.type?(this._connection.addHandler(ae,null,'message',null,null,$.$attributes.to),this._connection.addHandler(se,null,'message','groupchat',$.$attributes.id),this._connection.send(ie)):(this.addEventListener(G.EVENT_TYPES.ACK_RECEIVED,ne),this._connection.send(ie))}catch(ie){this._onError('Unable to send XMPP message',ie),Q(ie)}}else{const Z='You\'re not currently connected, please connect and try again.';this._onError(Z),Q(Z)}})}_sendMessageWithAttachments($,K){if(!this._options.uploadHost)throw new Error('Cannot send attachments without a upload host configured.');this._log(`Sending message with ID ${$._id} with attachements:`,K);let X=I.Promise.resolve({});return K.forEach((Q,Z)=>{X=X.then(()=>{return new I.Promise((ee,te)=>{const ne={$attributes:{id:this.getUniqueId(),to:this._options.uploadHost,from:this._jid,type:'get',xmlns:G.NAMESPACES.JABBER_CLIENT},request:{$attributes:{xmlns:G.NAMESPACES.HTTP_UPLOAD},filename:Q.name.replace('.encrypted',''),size:''+Q.size,"content-type":Q.type}};this.sendIq(this._options.uploadHost,'get',ne).then(ee).catch(te)})}).then((ee)=>{return new I.Promise((te)=>{!0===this._options.authAttachments?this._getCacheItem('user_password').then((ne)=>{return this._embellishPasswordWithAdToken(ne)}).then((ne)=>{te([ee,{Authorization:'Basic '+btoa(this._bareJid+':'+ne),"Content-Type":Q.type}])}):te([ee,{"Content-Type":Q.type}])})}).then((ee)=>{const te=ee[0],ne=ee[1];return new I.Promise((ae,se)=>{const de=te.iq.slot.put,ie=te.iq.slot.get;N.upload(Q.path,de,ie,ne).then(()=>{this._dispatchEvent(G.EVENT_TYPES.UPLOAD_SUCCESS,$),ae(['transferred',ie,de])}).catch((oe)=>{this._dispatchEvent(G.EVENT_TYPES.UPLOAD_FAILED,$);const le=`Couldn't successfully upload file '${Q.path}' to the server:`;this._onError(le,oe),se({error:le,message:$})})})}).then((ee)=>{const te=ee[0],ne=ee[1],ae=ee[2];return new I.Promise((se,de)=>{this.saveMessage($._id,(ie)=>{return ie.attachments[Z].state=te,ie.attachments[Z].get=ne,ie.attachments[Z].put=ae,H.isBrowser()&&(ie.attachments[Z].path=ne),ie}).then(se).catch(de)})})}),X.then(()=>{return this.resendMessage($._id)})}_prepareMessageAttachmentsForSend($,K){return this._log('Preparing to send the following attachments:',K),new I.Promise((X,Q)=>{const Z=[];K.forEach((ee)=>{Z.push(new I.Promise((te,ne)=>{this._log('Getting file information for file:',ee),N.getFileInfo(ee).then((ae)=>{this._log('Got file info for file:',ae),te(Object.assign({get:'',put:'',state:'transferring'},ae))}).catch(ne)}))}),I.Promise.all(Z).then((ee)=>{this._messageStanzaToDbObject({message:$},{mine:!0,attachments:ee}).then((te)=>{this._dispatchEvent(G.EVENT_TYPES.UPLOAD_STARTED,te),this._sendMessageWithAttachments(te,ee).then(X).catch(Q)}).catch(Q)})})}sendChatMessage($,K,X,Q=[],Z=!0){if(this._isMethodReady(!0,!0),!$)throw new Error('Parameter \'to\' is required.');if(this._options.mucHost&&-1<$.indexOf(this._options.mucHost))throw new Error('You are trying to send a peer-to-peer chat message to a room, please use the \'sendGroupChatMessage\' method instead.');return new I.Promise((ee,te)=>{const ne={$attributes:{id:this.getUniqueId(),from:this._jid,to:$,type:'chat',xmlns:G.NAMESPACES.JABBER_CLIENT}};!0===Z&&(ne.markable={$attributes:{xmlns:G.NAMESPACES.CHAT_MARKERS}}),null!==K&&(ne.body=K),null!==X&&(ne.data=X),1>Q.length?this.sendMessage(ne).then(ee).catch(te):this._prepareMessageAttachmentsForSend(ne,Q).then(ee).catch(te)})}sendMulticastMessage($,K,X,Q=[],Z=!0){return this._isMethodReady(!0,!0),new I.Promise((ee,te)=>{const ne={$attributes:{id:this.getUniqueId(),from:this._jid,to:`${this._options.multicastHost}`,type:'chat',xmlns:G.NAMESPACES.JABBER_CLIENT},addresses:{$attributes:{xmlns:G.NAMESPACES.ADDRESS},address:$.map((ae)=>{return{$attributes:ae}})}};!0===Z&&(ne.markable={$attributes:{xmlns:G.NAMESPACES.CHAT_MARKERS}}),null!==K&&(ne.body=K),null!==X&&(ne.data=X),1>Q.length?this.sendMessage(ne).then(ee).catch(te):this._prepareMessageAttachmentsForSend(ne,Q).then(ee).catch(te)})}sendGroupChatMessage($,K,X,Q=[],Z=!0,ee=!1){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');if(!$)throw new Error('Parameter \'roomName\' is required.');return new I.Promise((te,ne)=>{const ae={$attributes:{id:this.getUniqueId(),from:this._jid,to:`${$}@${this._options.mucHost}`,type:'groupchat',xmlns:G.NAMESPACES.JABBER_CLIENT}};!0===Z&&(ae.markable={$attributes:{xmlns:G.NAMESPACES.CHAT_MARKERS}}),null!==K&&(ae.body=K),null!==X&&(ae.data=X),!0!==ee&&(ae.exclude={$attributes:{xmlns:G.NAMESPACES.INFINITY_MAM,archive:'user'}}),1>Q.length?this.sendMessage(ae).then(te).catch(ne):this._prepareMessageAttachmentsForSend(ae,Q).then(te).catch(ne)})}sendMessage($){return new I.Promise((K,X)=>{this._messageStanzaToDbObject({message:$},{state:{sent:!1},mine:!0}).then((Q)=>{this.sendStanza($).then(()=>{this.saveMessage(Q._id,(Z)=>{return Z.state.sent=!0,Z}).then(K).catch(X)}).catch(X)}).catch(X)})}sendIq($,K,X,Q,Z){this._isMethodReady(!0,!0);const ee=Z===void 0?this.getUniqueId():Z;return new I.Promise((te,ne)=>{let ae=null;try{for(let se in ae={$attributes:{id:ee,type:K,from:this._connection.jid}},$&&(ae.$attributes.to=$),X)ae[se]=X[se]}catch(se){this._onError('Couldn\'t construct IQ message:',se),ne(se)}if(null!==ae){const se=G.jsonToXml('iq',ae);this._connection.sendIQ(se,(de)=>{try{te(G.xmlToJson(de))}catch(ie){this._onError('Couldn\'t convert IQ response to JSON.',ie),ne(ie)}},ne,Q)}})}getPrivateData(){this._isMethodReady(!0,!0),this._log('Fetching Private XML Data for:',this._bareJid);const $={privatexmldata:{$attributes:{xmlns:G.NAMESPACES.CT_PRIVATE_XML_STORAGE}}};return new I.Promise((K,X)=>{return this._getPrivateXMLStorage($).then((Q)=>{Q!==void 0&&Q.privatexmldata!==void 0&&Q.privatexmldata.json!==void 0?K(JSON.parse(Q.privatexmldata.json)):X('No private data found, or unable to fetch')})})}_getPrivateXMLStorage($){return this._log('Fetching Private XML Storage Data for: ',this._bareJid),new I.Promise((K,X)=>{this.sendIq(this._bareJid,'get',{query:Object.assign({$attributes:{xmlns:G.NAMESPACES.PRIVATE_XML_STORAGE}},$)}).then((Q)=>{this._log('Fetched Private XML Storage Data for:',this._bareJid),K(Q.iq.query)}).catch(()=>{X('Unable to send IQ for Private XML Storage')})})}setPrivateData($){this._isMethodReady(!0,!0),this._log('Setting Private XML data for:',this._bareJid);const K=JSON.stringify($),X={privatexmldata:{$attributes:{xmlns:G.NAMESPACES.CT_PRIVATE_XML_STORAGE},json:K}};return this._setPrivateXMLStorage(X)}_setPrivateXMLStorage($){const K={query:Object.assign({$attributes:{xmlns:G.NAMESPACES.PRIVATE_XML_STORAGE}},$)};return new I.Promise((X,Q)=>{this.sendIq(null,'set',K).then(()=>{X(),this._log('Set Private XML Storage for:',this._bareJid)}).catch(Q)})}_getvCard($){return this._log('\uD83C\uDCA1 Fetching vCard for:',$),new I.Promise((K,X)=>{this.sendIq($,'get',{vCard:{$attributes:{xmlns:'vcard-temp'}}}).then((Q)=>{this._log('Fetched vCard for:',$),K(Q.iq.vCard)}).catch(()=>{X('Unable to send IQ for vCard')})})}_setvCard($,K){this._log('\uD83C\uDCA1 Setting vCard for:',$);const X=new DOMParser().parseFromString(K,'text/xml'),Q=G.xmlToJson(X);return new I.Promise((Z,ee)=>{this.sendIq(null,'set',Q['#document']).then(()=>{Z(),this._log('\uD83C\uDCA1 Set vCard for:',$)}).catch(ee)})}addEventListener($,K){if(!G._validateEventType($))throw new Error('Invalid event type provided.');$===G.EVENT_TYPES.INITIALISED&&!0===this._initialised?K(null):(this._eventListeners[$]===void 0&&(this._eventListeners[$]=[]),this._eventListeners[$].push(K))}removeEventListener($,K){if(!G._validateEventType($))throw new Error('Invalid event type provided.');this._eventListeners[$]!==void 0&&this._eventListeners[$].forEach((X,Q)=>{X===K&&this._eventListeners[$].splice(Q,1)})}_searchDb($,K,X,Q,Z,ee){return new I.Promise((te,ne)=>{const ae=[];for(let se in K)0===se.indexOf('$')?-1<['$or','$and','$not','$nor','$all'].indexOf(se)&&Array.isArray(K[se])&&0<K[se].length&&K[se].forEach((de)=>{for(let ie in de)ae.push(ie)}):ae.push(se);0<ae.length&&$.createIndex({index:{fields:ae}}).then(()=>{let se={selector:K};Array.isArray(X)&&0<X.length&&(se.sort=X),Array.isArray(Q)&&0<Q.length&&(se.fields=Q),ee&&(se.skip=ee),Z&&(se.limit=Z),$.find(se).then((de)=>{te(de.docs)}).catch(ne)}).catch(ne)})}findMessages($,K,X,Q,Z){return this._isMethodReady(!0),this._searchDb(this._msgDb,$,K,X,Q,Z)}getAllMessageIds(){return this._isMethodReady(!0),new I.Promise(($,K)=>{this._msgDb.allDocs().then((X)=>{let Q=[];X.rows&&0<X.rows.length&&(Q=X.rows.map((Z)=>{return Z.id})),$(Q)}).catch(K)})}getChatHistory($,K,X,Q,Z){this._isMethodReady(!0);let ee={$or:[{sender_id:$},{recipient_id:$}]};return!0===X&&(ee['state.read']=!0),new I.Promise((te,ne)=>{this.findMessages(ee,K,null,Q,Z).then((ae)=>{const se=ae.sort((de,ie)=>{return de.ts-ie.ts});te(se)}).catch(ne)})}getMessagesById($){return this._msgDb.allDocs({include_docs:!0}).then((K)=>{return K.rows.filter((X)=>{return $.includes(X.id)})})}getMessageById($){if(this._isMethodReady(!0),!$)throw new Error(`A message ID must be provided.`);return this._msgDb.get($)}deleteMessage($,K=!0){return this._isMethodReady(!0),new I.Promise((X,Q)=>{if(!$)X();else{const Z=[];K&&void 0!==$.attachments&&$.attachments.forEach((ee)=>{void 0!==ee.path&&Z.push(new I.Promise((te)=>{N.deleteFile(ee.path).then(te).catch((ae)=>{this._onError(`Couldn't delete attachment: '${ee.name}':`,ae),te()})}))}),I.Promise.all(Z).then(()=>{this._msgDb.remove($).then(()=>{this._log('Message successfully deleted with ID:',$._id),X()}).catch((ee)=>{this._onError(`Couldn't delete message with ID '${$._id}'.`,ee),Q(ee)})}).catch((ee)=>{this._onError(`Couldn't delete attachment(s) for message with ID '${$._id}':`,ee),Q(ee)})}})}deleteMessageById($,K=!0){return this._isMethodReady(!0),this._log('Deleting message with ID:',$),new I.Promise((X,Q)=>{this.getMessageById($).then((Z)=>{this.deleteMessage(Z,K).then(X).catch(Q)}).catch((Z)=>{this._onError(`Couldn't get message with ID '${$}' to delete it.`,Z),Q(Z)})})}deleteMessages($){return this._isMethodReady(!0),new I.Promise((K,X)=>{this._searchDb(this._msgDb,$).then((Q)=>{this._log('\uD83D\uDDD1\uFE0F There are '+Q.length+' messages to delete');const Z=[];Q.forEach((ee)=>{Z.push(this.deleteMessage(ee))}),I.Promise.all(Z).then(K).catch((ee)=>{this._onError(`Couldn't delete messages from database.`,ee),X(ee)})})})}deleteMessagesByRoom($){return console.warn('This method is going to be DEPRECATED, please use \'deleteMessagesByRoomName\' instead.'),this.deleteMessages({$or:[{sender_id:$},{recipient_id:$}]})}deleteMessagesByRoomName($){if(!this._options.mucHost)throw new Error('mucHost must be provided as an option.');return this.deleteMessages({$or:[{sender_id:`${$}@${this._options.mucHost}`},{recipient_id:`${$}@${this._options.mucHost}`}]})}saveMessage($,K){return this._isMethodReady(!0),new I.Promise((X,Q)=>{this._saveObject(G.OBJECT_TYPES.MESSAGE,$,K,(Z)=>{X(Z)},(Z)=>{Q(Z)})})}_clearDbsForNewUser(){return new I.Promise(($,K)=>{this.destroyDbs(!1).then(()=>{this._dispatchEvent(G.EVENT_TYPES.AUTO_DBS_DESTROYED,null),$()}).catch(K)})}destroyDbs($=!0,K=!1){return this._log('\uD83D\uDCA3 Destroying all databases and data...'),new I.Promise((X,Q)=>{this._lastArchiveId=null,localStorage.removeItem(`${this._instanceId}_last_archive_id`),this.resource=null,localStorage.removeItem(`${this._instanceId}_resource`),localStorage.removeItem(`${this._instanceId}_counters`),!0!==K&&localStorage.removeItem(`${this._instanceId}_key`),localStorage.removeItem(`${this._instanceId}_logging_in`);const Z=[this._msgDb.destroy(),this._contactDb.destroy(),this._roomDb.destroy(),this._participantDb.destroy()];!1!==B.getSource('file')&&Z.push(N.deleteAttachments()),!0!==K&&Z.push(this._cacheDb.destroy()),Z.push(new I.Promise((ee,te)=>{this.initUserDirectory().then(()=>{localStorage.removeItem(`${this._instanceId}_ud_iv`),this._userDirectory.destroy().then(()=>{ee()}).catch(te)})})),I.Promise.all(Z).then(()=>{this._initDbs().then(()=>{!0===$&&this._dispatchEvent(G.EVENT_TYPES.DBS_DESTROYED,null),this._log('\u2705 Successfully destroyed all data.'),X()}).catch(Q)}).catch(Q)})}deleteAttachments(){return N.deleteAttachments()}setChatStatus($,K,X,Q){return this._isMethodReady(!0),new I.Promise((Z,ee)=>{if(G._validateChatStatus($)){const te={status:$,label:K,metadata:Q};te.label||($===G.CHAT_STATUSES.CHAT?te.label='Available':$===G.CHAT_STATUSES.AWAY?te.label='Away':$===G.CHAT_STATUSES.XA?te.label='Extended Away':$===G.CHAT_STATUSES.DND?te.label='Do Not Disturb':void 0),this._setCacheItem('chat_status',te).then(()=>{!0===X&&this._sendPresence(),Z(te)}).catch(ee)}else ee('Invalid chat status provided, one of \'away\', \'chat\', \'dnd\' or \'xa\' should be specified.')})}getChatStatus(){return this._isMethodReady(!0),this._getCacheItem('chat_status')}setClientState($){if(this._isMethodReady(!0,!0),!G._validateConstants(G.CLIENT_STATES,$))throw new Error('Invalid client state specified.');const K=G.jsonToXml($,{$attributes:{xmlns:G.NAMESPACES.CLIENT_STATE_INDICATION}});return this._connection.send(K)}findContacts($,K,X,Q,Z){return this._isMethodReady(!0),this._searchDb(this._contactDb,$,K,X,Q,Z)}getContacts(){return this._isMethodReady(!0),new I.Promise(($,K)=>{this._contactDb.allDocs({include_docs:!0}).then((X)=>{const Q=X.rows.filter((Z)=>{return!Z.doc.language}).map((Z)=>{return Z.doc});$(Q)}).catch((X)=>{this._onError(`Unable to get contacts from database.`,X),K(X)})})}_embellishPasswordWithAdToken($){if(!$)throw new Error('Password must be provided.');return new I.Promise((K,X)=>{if(!0===H.isElectron()&&!0===H.isWindows()&&this._options.adTokenPlaceholder&&this._options.adSecurityPackage&&this._options.adSpn&&-1<$.indexOf(this._options.adTokenPlaceholder)){const Q=B.getSource('sspiclient');!1===Q?X('Couldn\'t access sspiclient plugin.'):Q.Helper.getUserToken((Z)=>{K($.replace(this._options.adTokenPlaceholder,Z))},X,this._options.adSpn,this._options.adSecurityPackage)}else K($)})}_shouldMarkMessage($,K){let X=!0;return!1!==$.markable&&($.state.markers.every((Q)=>{if(Q.type===K){if('groupchat'===$.type&&Q.sender_resource===this.username)return X=!1,!1;if(Q.sender_id===this._jid)return X=!1,!1}return!0}),X)}_markMessage($,K,X=!0){return new I.Promise((Q,Z)=>{if(!0===$.mine||!1===this._shouldMarkMessage($,K))Q($);else{const ee={$attributes:{id:this.getUniqueId(),to:J.default.Strophe.getBareJidFromJid($.stanza.message.$attributes.from),from:this._connection.jid},timestamp:{$attributes:{xmlns:G.NAMESPACES.CT_CLIENT_TIMESTAMP},$value:Date.now()}};ee[K]={$attributes:{xmlns:G.NAMESPACES.CHAT_MARKERS,id:$._id}},'groupchat'===$.type&&(ee.$attributes.type='groupchat'),this.sendStanza(ee).then(()=>{this.saveMessage($._id,(te)=>{return te.state[K]=!0,te}).then((te)=>{!1!==X&&this._dispatchEvent(G.EVENT_TYPES.MESSAGE_UPDATED,te),Q(te)}).catch(Z)}).catch(Z)}})}markMessageRead($){return this._isMethodReady(!0,!0),this._markMessage($,G.MARKER_TYPES.READ)}markMessageReadById($){return this._isMethodReady(!0,!0),this.getMessageById($).then((K)=>{return this.markMessageRead(K)})}markMessageAcknowleged($){return this._isMethodReady(!0,!0),this._markMessage($,G.MARKER_TYPES.ACKNOWLEDGED)}markMessageAcknowledgedById($){return this._isMethodReady(!0,!0),this.getMessageById($).then((K)=>{return this.markMessageAcknowleged(K)})}_dispatchEvent($,K){if(!G._validateEventType($))throw new Error('Invalid event type provided.');this._eventListeners[$]!==void 0&&this._eventListeners[$].forEach((X)=>{X(K)})}createRoom($){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('mucHost must be provided as an option.');return new I.Promise((K,X)=>{const Q=`${$}@${this._options.mucHost}`;let Z={$attributes:{to:`${Q}/${this.username}`,xmlns:G.NAMESPACES.JABBER_CLIENT},x:{$attributes:{xmlns:G.NAMESPACES.MUC}}};this._connection.addHandler((ee)=>{const te=G.xmlToJson(ee);if(void 0!==te.$attributes&&'error'===te.$attributes.type){const ne=new Error(`Failed to create room '${$}'.`);this._onError(`Unable to create room with name '${$}'.`,ne),X(ne)}else this.sendIq(Q,'get',{query:{$attributes:{xmlns:G.NAMESPACES.MUC_OWNER}}}).then(()=>{this.sendIq(Q,'set',{query:{$attributes:{xmlns:G.NAMESPACES.MUC_OWNER},x:{$attributes:{xmlns:G.NAMESPACES.X_DATA,type:'submit'},field:[{$attributes:{var:'muc#roomconfig_whois'},value:'anyone'}]}}}).then(()=>{this._log(`Room '${$}' successfully created.`),K()}).catch(()=>X)}).catch(()=>X);return!1},G.NAMESPACES.MUC,'presence',null,null,`${Q}/${this.username}`,{ignoreNamespaceFragment:!0}),this._connection.send(G.jsonToXml('presence',Z))})}destroyRoom($){if(this._isMethodReady(!0,!0),!$)throw new Error('Parameter \'roomName\' must be provided.');if(!this._options.mucHost)throw new Error('mucHost must be provided as an option.');return new I.Promise((K,X)=>{this.sendIq(`${$}@${this._options.mucHost}`,'set',{query:{$attributes:{xmlns:G.NAMESPACES.MUC_OWNER},destroy:{}}}).then(()=>{K()}).catch(()=>X)})}listRooms($){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('mucHost must be provided as an option.');return new I.Promise((K,X)=>{const Q=()=>{this._roomDb.allDocs({include_docs:!0}).then((Z)=>{const ee=Z.rows.map((te)=>{return te.doc});K(ee)}).catch((Z)=>{this._onError(`Couldn't fetch list of rooms from database.`,Z),X(Z)})};!0===this.connected&&!1!==$?this.sendIq(this._options.mucHost,'get',{query:{$attributes:{xmlns:'http://jabber.org/protocol/disco#items'}}}).then((Z)=>{if(Z.iq&&Z.iq.query&&Z.iq.query.item){let ee=[];ee=Array.isArray(Z.iq.query.item)?Z.iq.query.item.map((te)=>{return{_id:te.$attributes.jid,name:J.default.Strophe.getNodeFromJid(te.$attributes.jid)}}):[{_id:Z.iq.query.item.$attributes.jid,name:J.default.Strophe.getNodeFromJid(Z.iq.query.item.$attributes.jid)}],this._roomDb.allDocs({include_docs:!0}).then((te)=>{const ne=[];te.rows.forEach((ae)=>{let se=ae.doc,de=null;ee.every((ie)=>{return ie._id!==se._id||(de=ie,!1)}),null===de&&ne.push(this._roomDb.remove(se))}),ee.forEach((ae)=>{const se=new I.Promise((de,ie)=>{this.saveRoom(ae._id,(oe)=>{return void 0===oe._id?oe={_id:ae._id,name:ae.name,ts:this.getSyncedTimestamp(Date.now()),updated_at:null}:(oe.name!==ae.name&&(oe.name=ae.name),oe.updated_at=this.getSyncedTimestamp(Date.now())),oe}).then(de).catch(ie)});ne.push(se)}),I.Promise.all(ne).then(()=>{Q()}).catch((ae)=>{this._onError('Couldn\'t merge list of rooms from server with locally stored list of rooms.',ae),X(ae)})}),K(ee)}else K([])}).catch(X):Q()})}listSubscriptions(){return this._isMethodReady(!0,!0),new I.Promise(($,K)=>{this._options.mucHost?this.sendIq(this._options.mucHost,'get',{subscriptions:{$attributes:{xmlns:G.NAMESPACES.MUC_SUB}}}).then((X)=>{let Q=[];X.iq&&X.iq.subscriptions&&X.iq.subscriptions.subscription&&(Array.isArray(X.iq.subscriptions.subscription)?Q=X.iq.subscriptions.subscription.map((Z)=>{if(Z.$attributes&&Z.$attributes.jid)return{name:J.default.Strophe.getNodeFromJid(Z.$attributes.jid),jid:Z.$attributes.jid}}):X.iq.subscriptions.subscription.$attributes&&X.iq.subscriptions.subscription.$attributes.jid&&(Q=[{name:J.default.Strophe.getNodeFromJid(X.iq.subscriptions.subscription.$attributes.jid),jid:X.iq.subscriptions.subscription.$attributes.jid}])),$(Q)}).catch(K):$([])})}joinRoom($){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');if(!$)throw new Error('Parameter \'roomName\' must be provided.');return new I.Promise((K,X)=>{const Q=`${$}@${this._options.mucHost}`;this._createPresenceObject().then((Z)=>{Z.$attributes.to=`${Q}/${this.username}`,Z.x={$attributes:{xmlns:G.NAMESPACES.MUC},history:{$attributes:{maxchars:0}}},this._connection.addHandler((ee)=>{try{const te=G.xmlToJson(ee);te.presence&&void 0===te.presence.error?this.saveRoom(Q,(ne)=>{return void 0===ne._id?ne={_id:Q,name:$,ts:this.getSyncedTimestamp(Date.now()),updated_at:null}:ne.name!==$&&(ne.name=$,ne.updated_at=this.getSyncedTimestamp(Date.now())),ne}).then((ne)=>{this._joinedRooms[$]=Date.now(),!1===this._options.mam.auto?K(ne):this.queryMamByRoomName($).then(()=>{K(ne)}).catch(X)}).catch(X):(this._onError(`Couldn't join room '${$}' with nick '${this.username}'.`,ee),X(ee))}catch(te){this._onError('Couldn\'t convert stanza XML to JSON',te),X(te)}return!1},G.NAMESPACES.JABBER_CLIENT,'presence',null,null,`${$}@${this._options.mucHost}/${this.username}`,{ignoreNamespaceFragment:!0}),this._connection.send(G.jsonToXml('presence',Z))})})}leaveRoom($){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');if(!$)throw new Error('Parameter \'roomName\' must be provided.');return new I.Promise((K)=>{const X={$attributes:{from:this._jid,xmlns:G.NAMESPACES.JABBER_CLIENT,to:`${$}@${this._options.mucHost}/${this.username}`,type:'unavailable'}};this._connection.send(G.jsonToXml('presence',X)),delete this._joinedRooms[$],K()})}subscribeToRoom($,K){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('mucHost must be provided as an option.');if(!$)throw new Error('Parameter \'roomName\' must be provided.');return new I.Promise((X,Q)=>{const Z={subscribe:{$attributes:{xmlns:G.NAMESPACES.MUC_SUB,nick:this.username}}};if(!K)for(let ee in K=[],G.MUC_NODES)K.push(G.MUC_NODES[ee]);0<K.length&&(Z.subscribe.event=[],K.forEach((ee)=>{Z.subscribe.event.push({$attributes:{node:ee}})})),this.sendIq(`${$}@${this._options.mucHost}`,'set',Z).then((ee)=>{ee.iq&&ee.iq.subscribe?X(ee):this._onError(`Couldn't subscribe to room '${$}.'`,ee)}).catch(Q)})}listSubscribedUsersForRoom($){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('mucHost must be provided as an option.');return new I.Promise((K,X)=>{this.sendIq(`${$}@${this._options.mucHost}`,'get',{subscriptions:{$attributes:{xmlns:G.NAMESPACES.MUC_SUB}}}).then((Q)=>{let Z=[];if(Q.iq&&void 0!==Q.iq.subscriptions)if(Array.isArray(Q.iq.subscriptions.subscription))Z=Q.iq.subscriptions.subscription.map((ee)=>{if(ee.$attributes&&void 0!==ee.$attributes.jid)return ee.$attributes.jid});else if(void 0!==Q.iq.subscriptions.subscription){const ee=Q.iq.subscriptions.subscription;ee.$attributes&&void 0!==ee.$attributes.jid&&(Z=[ee.$attributes.jid])}K(Z)}).catch(X)})}unsubscribeFromRoom($){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('mucHost must be provided as an option.');return new I.Promise((K,X)=>{this.sendIq(`${$}@${this._options.mucHost}`,'set',{unsubscribe:{$attributes:{xmlns:G.NAMESPACES.MUC_SUB}}}).then(K).catch(X)})}getRoomById($){if(this._isMethodReady(!0),!$)throw new Error(`A room ID must be provided.`);return this._log('Getting room with ID:',$),this._roomDb.get($)}findRooms($,K,X,Q,Z){return this._isMethodReady(!0),this._searchDb(this._roomDb,$,K,X,Q,Z)}saveRoom($,K){return this._isMethodReady(!0),new I.Promise((X,Q)=>{this._saveObject(G.OBJECT_TYPES.ROOM,$,K,(Z)=>{X(Z)},(Z)=>{Q(Z)})})}saveParticipant($,K){return this._isMethodReady(!0),new I.Promise((X,Q)=>{this._saveObject(G.OBJECT_TYPES.PARTICIPANT,$,K,(Z)=>{X(Z)},(Z)=>{Q(Z)})})}listParticipantsByRoom($){return this._isMethodReady(!0),this._searchDb(this._participantDb,{room_name:$})}getParticipantByRoomAndJid($,K){return this._isMethodReady(!0),new I.Promise((X,Q)=>{return this._searchDb(this._participantDb,{room_name:$,jid:K}).then((Z)=>{0<Z.length?X(Z[0]):X(null)}).catch(Q)})}purgeParticipantsByUpdatedAt($){return this._isMethodReady(!0),new I.Promise((K,X)=>{this._searchDb(this._participantDb,{updated_at:{$lt:$}}).then((Q)=>{const Z=Q.map((ee)=>{return this._participantDb.remove(ee)});I.Promise.all(Z).then(K).catch(X)}).catch((Q)=>{console.error(Q)})})}_requestMessagesFromMam($,K=null,X=!1,Q=null,Z,ee=this._options.mam.pageSize){const te=(se,de,ie,oe,le,ue=[],_e=null)=>{const ce={query:{$attributes:{xmlns:G.NAMESPACES.MAM,queryid:ie},x:{$attributes:{xmlns:'jabber:x:data',type:'submit'},field:[{$attributes:{var:'FORM_TYPE',type:'hidden'},value:G.NAMESPACES.MAM}]},set:{$attributes:{xmlns:G.NAMESPACES.RESULT_SET_MANAGEMENT},max:''+ee}}};if(this._log(`Querying the message archive for start date '${oe}' and end date '${le}'.`),null!==oe||!0===X){let me='';!0===X&&(me+='inf_conv_mode'),null!==oe&&(me+=oe.toISOString()),ce.query.x.field.push({$attributes:{var:'start'},value:me})}null!==le&&ce.query.x.field.push({$attributes:{var:'end'},value:le.toISOString()}),null!==_e&&(ce.query.set[!0===X?'before':'after']=_e),null!==Q&&ce.query.x.field.push({$attributes:{var:'with'},value:Q}),this._connection.addHandler((me)=>{const pe=G.xmlToJson(me);try{if(void 0!==pe.message.result&&void 0!==pe.message.result.forwarded&&void 0!==pe.message.result.forwarded.message){const he=pe.message.result.forwarded;void 0===pe.message.result.forwarded.message.archived&&void 0!==pe.message.result&&void 0!==pe.message.result.$attributes&&void 0!==pe.message.result.$attributes.id&&(he.message.archived={$attributes:{by:J.default.Strophe.getBareJidFromJid(he.message.$attributes.from),id:pe.message.result.$attributes.id,xmlns:G.NAMESPACES.MAM_TMP}}),ue.push(he)}}catch(he){return de(he),!1}const ge=void 0!==pe.message.fin&&void 0!==pe.message.fin.$attributes&&pe.message.fin.$attributes.xmlns===G.NAMESPACES.MAM;return!0==ge&&('true'==pe.message.fin.$attributes.complete||!0===X?(this._log(`Finished paging through result set, got a total of '${ue.length}' items.`),se(ue)):(this._log(`Paging through result set to get a total of '${pe.message.fin.set.count}' items.`),this._log(`Got '${ue.length}' items so far...`),te(se,de,ie,oe,le,ue,pe.message.fin.set.last))),!ge},G.NAMESPACES.JABBER_CLIENT,'message',null,null,$),this.sendIq($,'set',ce,null).catch((me)=>{this._onError('Couldn\'t query the MAM:',me),de(me)})};let ne=null,ae=null;if(null!==Z){const se=Date.now();if(Z>=se)throw new Error(`The start timestamp (${Z}) cannot be equal to or larger than the end timestamp (${se}).`);ne=new Date(Z),ae=new Date(se)}return new I.Promise((se,de)=>{te(se,de,this.getUniqueId(),ne,ae,[],K)})}queryMam($,K=null,X=null,Q,Z=!0){return this._isMethodReady(!0,!0),new I.Promise((ee,te)=>{const ne=Q||this._options.mam.defaultTimeLimit,ae=Date.now()-ne,se=this.getSyncedTimestamp(ae-6e4);this._log(`Starting the MAM query process...`),this._perfStart('requestMessagesFromMam','Starting the first request for MAM messages','color: blue;'),this._requestMessagesFromMam($,K,!1,X,se).then((de)=>{this._perfEnd('requestMessagesFromMam','Finished getting all messages from the MAM','color: blue;'),this._processMamStanzas(de,Z,!1).then(ee).catch(te)}).then(()=>{if(0<this._options.autoPurgeOldMessagesAge)return this.purgeMessagesOlderThan(this._options.autoPurgeOldMessagesAge)}).then(()=>{if(0<this._options.autoPurgeOldRetainMessageCount)return this.purgeOldestMessagesLeavingCount(this._options.autoPurgeOldRetainMessageCount)}).catch(te)})}_processMamStanzas($,K=!0,X=!1,Q=!1){return new I.Promise((Z,ee)=>{const te=[],ne=[];if(0===$.length)Z([]);else{this._perfStart('processMamMessages','Starting to process all messages received from the MAM','color: yellow; background: black;'),this._perfStart('preProcessMamMessages','Starting to pre-process all messages received from the MAM','color: darkgreen; background: grey;');let ae='0';$.forEach((oe)=>{const le={state:{sent:!0},fromMam:!1===X,injected:!0===X};let ue=!1;try{ue=void 0!==oe.message.timestamp}catch(ce){}if(!1==ue&&oe.delay&&oe.delay.$attributes.stamp){let ce=null;try{ce=new Date(oe.delay.$attributes.stamp).getTime()}catch(me){console.error('Couldn\'t parse stanza timestamp to integer.')}null!==ce&&(le.ts=ce)}const _e=this._getArchiveIdFromStanza(oe);_e>ae&&(ae=_e),G._isMarkerMessage(oe)?ne.push(oe):oe.message.$attributes&&('chat'===oe.message.$attributes.type||'groupchat'===oe.message.$attributes.type)&&te.push(this._messageDelta(oe,{},le))}),this._perfEnd('preProcessMamMessages','Finished pre-processing messages from the MAM.','color: darkgreen; background: grey;'),this._perfStart('postProcessMamMessages','Start post-processing messages received from the MAM','color: lightgreen; background: grey;'),this._perfStart('addMarkersToMamMessages','Adding markers to messages','color: brown; background: #E1E1E1;');const se=[];let de={};const ie={};for(let oe in ne.forEach((oe)=>{const le=G._getMarkerType(oe),ue=G._getMarkerMessageId(oe,le);ie[ue]||(ie[ue]=[]),ie[ue].push(oe)}),ie){const le=ie[oe];let ue=null;te.every((_e)=>{return _e._id!==oe||(ue=_e,!1)}),null===ue?se.push(new I.Promise((_e)=>{this.getMessageById(oe).then((ce)=>{le.forEach((me)=>{const pe=G._getMarkerType(me),ge=G._getMarkerMessageId(me,pe),he=this._updateMessageMarkers(me,pe,ce);!1===he?this._setLastArchiveId(this._getArchiveIdFromStanza(me)):te.push(he)}),_e()}).catch(()=>{this._log(`Not found message with id '${oe}', creating message placeholder...`);let ce=Object.assign({},G._messageSkeleton(),{_id:oe,placeholder:!0,markable:!0,type:null});le.forEach((me)=>{const pe=G._getMarkerType(me),ge=G._getMarkerMessageId(me,pe),he=this._updateMessageMarkers(me,pe,ce);!1!==he&&(ce=he)}),te.push(ce),_e()})})):le.forEach((_e)=>{const ce=G._getMarkerType(_e),me=G._getMarkerMessageId(_e,ce),pe=this._updateMessageMarkers(_e,ce,ue);!1!==pe&&(de[ue._id]=!0,ue=pe)})}I.Promise.all(se).then(()=>{if(this._log('Messages to save from the MAM:',te),0===te.length)Z([]);else{this._perfEnd('addMarkersToMamMessages','Finished adding markers to messages','color: brown; background: #E1E1E1;');const oe=[];!0===Q&&te.forEach((le,ue,_e)=>oe.push(this.saveMessage(le._id,(ce)=>{if(ce._id)return _e.splice(ue,1),delete le.state,Object.assign({},ce,le)}))),I.Promise.all(oe).then(()=>{this._msgDb.bulkDocs(te).then((ue)=>{this._setLastArchiveId(ae),this._msgDb.bulkGet({docs:ue}).then((_e)=>{const ce=_e.results.map((me)=>{const pe=me.docs[0].ok;return void 0===pe?null:(!1!==K&&(null===pe.updated_at||!0===de[pe._id]?this._dispatchEvent(G.EVENT_TYPES.NEW_MESSAGE,pe):this._dispatchEvent(G.EVENT_TYPES.MESSAGE_UPDATED,pe)),!0===this._options.autoMarkMessages&&this._markMessage(pe,G.MARKER_TYPES.RECEIVED,K),pe)});de={},this._perfEnd('postProcessMamMessages','Finished post-processing messages received from the MAM','color: lightgreen; background: grey;'),this._perfEnd('processMamMessages','Finished processing messages received from the MAM','color: yellow; background: black;'),Z(ce.filter((me)=>{return null!==me}))})}).catch((ue)=>{console.error(ue),ee(ue)})})}})}})}processXmlStanzaStringsFromMam($,K=!0){const X=new DOMParser,Q=$.map((ne)=>X.parseFromString(ne,'text/xml').childNodes[0]),Z=Q.map((ne)=>G.xmlToJson(ne)),ee={};Z.forEach((ne)=>{try{const ae=ne.message.$attributes.id,se=ne.message.$attributes.to.split('@')[0];ee[se]===void 0&&(ee[se]=[]),ee[se].push(ae)}catch(ae){console.error('The stanza wasn\'t in the expected format:',ae)}});const te=Object.keys(ee).map((ne)=>{return this.getMessagesById(ee[ne]).then((ae)=>{if(!(0<ae.length))return this._log(`Deleting all messages in room '${ne}' because it looks like there might be a gap in history...`),this.deleteMessagesByRoomName(ne)})});return I.Promise.all(te).then(()=>{return this._processMamStanzas(Z,K,!0)})}purgeOldMessages(){return this._isMethodReady(!0),this.purgeMessagesOlderThan(this._options.autoPurgeOldMessagesAge)}purgeMessagesOlderThan($){return this._isMethodReady(!0),this._log('\uD83D\uDDD1\uFE0F Removing messages older than: '+$),this.purgeMessagesFromBefore(this.getSyncedTimestamp(Date.now())-$)}purgeMessagesFromBefore($){return this._isMethodReady(!0),this._log('\uD83D\uDDD1\uFE0F Removing messages with timestamp before: '+new Date().toISOString()),this.deleteMessages({ts:{$lt:$}})}purgeOldestMessagesLeavingCount($){return this._isMethodReady(!0),this._log('\uD83D\uDDD1\uFE0F Want to restrict to: '+$+' messages in DB'),this._msgDb.info().then((K)=>{this._log('\uD83D\uDDD1\uFE0F There are: '+K.doc_count+' messages in DB');const X=K.doc_count-$;if(0<X)return this._log('\uD83D\uDDD1\uFE0F Going to delete: '+X+' messages from DB'),this.purgeOldestMessagesCount(X)})}purgeOldestMessagesCount($){return this._isMethodReady(!0),this._msgDb.createIndex({index:{fields:['ts']}}).then(()=>{this._msgDb.find({selector:{},sort:['ts'],limit:$,fields:['_id']}).then((K)=>{let X=I.Promise.resolve();return K.docs.forEach((Q)=>{X=X.then(()=>{return this._log('\uD83D\uDDD1\uFE0F Deleting message: '+Q._id),this.deleteMessageById(Q._id).then(()=>{this._log('\uD83D\uDDD1\uFE0F Deleted message: '+Q._id)})})}),X})})}_setLastArchiveId($){$>this._lastArchiveId&&(this._lastArchiveId=$,localStorage.setItem(`${this._instanceId}_last_archive_id`,$))}getLastArchiveId(){return this._lastArchiveId}getLastArchiveIdForRoom($){if(this._isMethodReady(!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');return new I.Promise((K,X)=>{const Q=`${$}@${this._options.mucHost}`;let Z='0';this.getChatHistory(Q).then((ee)=>{if(0<ee.length){const te=ee.sort((ae,se)=>{const de=se.updated_at-ae.updated_at;return 0==de?se.ts-ae.ts:de}),ne=te[0];Z=ne.archive_id}K(Z)}).catch(X)})}getFirstArchiveIdForRoom($){if(this._isMethodReady(!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');return new I.Promise((K,X)=>{const Q=`${$}@${this._options.mucHost}`;let Z='0';this.getChatHistory(Q).then((ee)=>{if(0<ee.length){const te=ee.sort((ae,se)=>{return ae.ts-se.ts}),ne=te[0];Z=ne.archive_id}K(Z)}).catch(X)})}queryMamByRoomName($,K=!0,X=null){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');return this._perfStart('queryMamByRoomName',`- Querying the MAM for room '${$}'`,'color: green;'),new I.Promise((Q,Z)=>{const ee=`${$}@${this._options.mucHost}`,te=(ne)=>{this.queryMam(ee,ne,null,null,K).then((ae)=>{this._perfEnd('queryMamByRoomName',`- Finished querying the MAM for message in room '${$}'.`,'color: green;'),Q(ae)}).catch(Z)};null===X?this.getLastArchiveIdForRoom($).then((ne)=>{te(ne)}).catch(Q):te(X)})}queryMamRoomHistoryByName($,K=null,X=5,Q=!0){if(this._isMethodReady(!0,!0),!this._options.mucHost)throw new Error('\'mucHost\' must be provided as an option.');return this._perfStart('queryMamRoomHistoryByName',`Querying MAM history for room '${$}'`,'color: purple;'),new I.Promise((Z,ee)=>{const te=`${$}@${this._options.mucHost}`;this._requestMessagesFromMam(te,K,!0,null,null,X).then((ne)=>{this._perfEnd('queryMamRoomHistoryByName',`Finished querying the MAM history for '${X}' messages in the '${$}' room.`,'color: purple;'),this._processMamStanzas(ne,Q,!1,!0).then(Z).catch(ee)}).then(()=>{if(0<this._options.autoPurgeOldMessagesAge)return this.purgeMessagesOlderThan(this._options.autoPurgeOldMessagesAge)}).then(()=>{if(0<this._options.autoPurgeOldRetainMessageCount)return this.purgeOldestMessagesLeavingCount(this._options.autoPurgeOldRetainMessageCount)}).catch(ee)})}queryMamByRecipient($,K=!0){return this._isMethodReady(!0,!0),new I.Promise((X,Q)=>{this.getChatHistory($).then((Z)=>{let ee=null;if(0<Z.length){const te=Z.sort((ae,se)=>{const de=se.updated_at-ae.updated_at;return 0==de?se.ts-ae.ts:de}),ne=te[0];ee=ne.archive_id}this.queryMam(null,ee,$,null,K).then(X).catch(Q)}).catch(()=>console.error)})}_saveObject($,K,X,Q,Z){let ee=null;if($===G.OBJECT_TYPES.MESSAGE?ee=this._msgDb:$===G.OBJECT_TYPES.CONTACT?ee=this._contactDb:$===G.OBJECT_TYPES.ROOM?ee=this._roomDb:$===G.OBJECT_TYPES.PARTICIPANT?ee=this._participantDb:$===G.OBJECT_TYPES.CACHE_ITEM?ee=this._cacheDb:void 0,null===ee)throw new Error(`The object type provided (${$}) is not valid.`);void 0===this._saveDebounce[$]&&(this._saveDebounce[$]={}),this._saveDebounce[$][K]?setTimeout(()=>{this._saveObject($,K,X,Q,Z)},250):(this._saveDebounce[$][K]=!0,ee.upsert(K,X).then((te)=>{void 0===te.rev?(delete this._saveDebounce[$][K],Q&&Q(null)):ee.get(K).then((ne)=>{delete this._saveDebounce[$][K],Q&&Q(ne)}).catch((ne)=>{this._onError(`Couldn't get ${$} with ID '${K}' after performing an update.`,ne),delete this._saveDebounce[$][K],Z&&Z(ne)})}).catch((te)=>{this._log(`Couldn't update ${$} with ID '${K}'.`,te),delete this._saveDebounce[$][K],Z&&Z(te)}))}doDownload($){return new I.Promise((K,X)=>{const Q=(Z)=>{N.download($,Z).then((ee)=>{var te=B.getSource('fileEncryption');H.isDevice()&&this._options.fileEncryption&&te?te.encrypt(function(ne){ee.source=ne,K(ee)},function(ne){X(ne)},ee.source):K(ee)}).catch(X)};!0===this._options.authAttachments?this._getCacheItem('user_password').then((Z)=>{return this._embellishPasswordWithAdToken(Z)}).then((Z)=>{Q({Authorization:'Basic '+btoa(this._bareJid+':'+Z)})}):Q(null)})}downloadAttachment($,K,X=!0){return this._isMethodReady(!0,!0),new I.Promise((Q,Z)=>{if(K>$.attachments.length-1)return Z('No such attachment: '+K);const ee=$.attachments[K];void 0===ee.path?this.doDownload(ee.get).then((te)=>{ee.path=te.source,ee.state='transferred',this.saveMessage($._id,(ne)=>{return ne.attachments[K]=ee,ne}).then((ne)=>{!1!==X&&this._dispatchEvent(G.EVENT_TYPES.MESSAGE_UPDATED,ne),Q()})}).catch(Z):Q()})}initUserDirectory(){return new I.Promise(($,K)=>{if(!0===this._userDirectory.initialised)$();else{let X=null,Q=localStorage.getItem(`${this._instanceId}_ud_iv`);if(null==Q){X=window.crypto.getRandomValues(new Uint8Array(16));let Z=[];for(let te=0;16>te;te++)Z.push(String.fromCharCode(X[te]));const ee=Z.join('');localStorage.setItem(`${this._instanceId}_ud_iv`,ee)}else{const Z=new Uint8Array(16);for(let ee=0;ee<Q.length;ee++)Z[ee]=Q.charCodeAt(ee);X=Z}A.getEncryptionKey(this._instanceId).then((Z)=>{this._userDirectory.initialise(Z,X,this._options.userDirectoryEncryptionBlockSize||2e3).then($).catch(K)})}})}updateUserDirectory(){return this.initUserDirectory().then(()=>{return this._log('\uD83D\uDC71\uD83C\uDFFC Updating user directory...'),this._getCacheItem('user_directory_hash').then(($)=>{const K={query:{$attributes:{xmlns:G.NAMESPACES.DIRECTORY}}};return $&&(K.query.$attributes.hash=$),this.sendIq(this._domain,'get',K).then((X)=>{try{const Q=X.iq.query.$attributes.url;return void 0===Q?`No change since last update.`:this._getCacheItem('user_password').then((Z)=>{return this._embellishPasswordWithAdToken(Z)}).then((Z)=>{return this._userDirectory.update(this._bareJid,Z,Q).then((ee)=>{return this._setCacheItem('user_directory_hash',ee.hash).then(()=>{return this._log('\u2705 User directory successfully updated.'),ee.msg})})})}catch(Q){return I.Promise.reject('Couldn\'t obtain directory URL from server.')}})})}).catch(($)=>{return this._getCacheItem('user_directory_hash').then((K)=>{return void 0===K?I.Promise.reject($):this._deleteCacheItem('user_directory_hash').then(()=>{return this.updateUserDirectory().then((X)=>{return I.Promise.resolve(X)}).catch((X)=>{return I.Promise.reject(X)})})})})}searchUsers($,K){return this.initUserDirectory().then(()=>{return this._userDirectory.search($,K)})}getAllUsers(){return this.initUserDirectory().then(()=>{return this._userDirectory.getAllUsers()})}getUserByJid($){return this.initUserDirectory().then(()=>{return this._userDirectory.getUserByJid($)})}downloadAttachments($,K=!0){return new I.Promise((X,Q)=>{if(Array.isArray($.attachments)&&0<$.attachments.length){let Z=I.Promise.resolve({});$.attachments.forEach((ee,te)=>{Z=Z.then(()=>{return new I.Promise((ne,ae)=>{ee.path===void 0?this.doDownload(ee.get).then((se)=>{$.attachments[te].path=se.source,$.attachments[te].mediaType=N.getMediaTypeFromExtension(se.source),$.attachments[te].state='transferred',ne()}).catch(ae):ne()})})}),Z.then(()=>{this.saveMessage($._id,()=>{return $}).then((ee)=>{!1!==K&&this._dispatchEvent(G.EVENT_TYPES.MESSAGE_UPDATED,ee),this._log(`Successfully updated message '${ee._id}' with attachments.`,ee),X(ee)}).catch((ee)=>{this._onError(`Unable to update message '${$._id}' with attachments:`,ee),Q(ee)})}).catch((ee)=>{this._onError('Unable to download all message attachments:',ee),Q(ee)})}else X($)})}_processNewMessage($,K,X=!0,Q=!0){return this._perfStart(`processNewMessage (${$.message.$attributes.id.split('-')[0]})`,'Starting to process a new message','color: purple;'),new I.Promise((Z,ee)=>{this._setLastArchiveId(this._getArchiveIdFromStanza($)),this._messageStanzaToDbObject($,K).then((te)=>{!1!==Q&&(null===te.updated_at?this._dispatchEvent(G.EVENT_TYPES.NEW_MESSAGE,te):this._dispatchEvent(G.EVENT_TYPES.MESSAGE_UPDATED,te));const ne=this.getSyncedTimestamp(new Date().getTime())-te.ts;return ne<this._options.autoDownloadAttachmentTime||-1==this._options.autoDownloadAttachmentTime?this.downloadAttachments(te,Q):te}).then((te)=>{$.message.markable&&!0===X&&!0===this._options.autoMarkMessages?this._markMessage(te,G.MARKER_TYPES.RECEIVED,Q).then((ne)=>{this._perfEnd(`processNewMessage (${$.message.$attributes.id.split('-')[0]})`,'Finished processing a new message','color: purple;'),Z(ne)}).catch(ee):(this._perfEnd(`processNewMessage (${$.message.$attributes.id.split('-')[0]})`,'Finished processing a new message','color: purple;'),Z(te))}).catch(ee)})}_processGroupMessage($,K,X=!0,Q=!0){const Z=G._merge({type:'groupchat',mine:J.default.Strophe.getBareJidFromJid($.message.$attributes.from)===this._bareJid||J.default.Strophe.getResourceFromJid($.message.$attributes.from)===this.username},K);return this._processNewMessage($,Z,X,Q)}_updateMessageMarkers($,K,X){if(!X._id)return!1;if(!X.markable)return!1;const Q=J.default.Strophe.getBareJidFromJid($.message.$attributes.from),Z=J.default.Strophe.getResourceFromJid($.message.$attributes.from),ee=X.state.markers.some((ne)=>{if(ne.type===K&&(ne.sender_id===Q&&ne.sender_resource===Z||ne.sender_resource===this.bareJid))return!0});if(!0===ee)return!1;const te={type:K,sender_id:Q,sender_resource:Z,recipient_id:$.message.$attributes.to,ts:this._getTimestampFromStanza($),priority:G.MARKER_PRIORITIES[K]};return X.state.markers.push(te),X.state.markers=X.state.markers.sort(function(ne,ae){return ne.priority===ae.priority?null!==ae.ts&&null!==ne.ts?ae.ts-ne.ts:void 0:ne.priority-ae.priority}),X.state[K]=!0,!0!==X.state.sent&&(X.state.sent=!0),X.updated_at=this.getSyncedTimestamp(Date.now()),X}static _getMarkerType($){let K=null;return $.message.received?K=G.MARKER_TYPES.RECEIVED:$.message.read?K=G.MARKER_TYPES.READ:$.message.acknowledged&&(K=G.MARKER_TYPES.ACKNOWLEDGED),K}static _getMarkerMessageId($,K){return $.message[K].$attributes!==void 0&&$.message[K].$attributes.id!==void 0?$.message[K].$attributes.id:null}_processMarkerMessage($,K=!0){return new I.Promise((X,Q)=>{this._setLastArchiveId(this._getArchiveIdFromStanza($));const Z=G._getMarkerType($);if(null!==Z){const ee=G._getMarkerMessageId($,Z);if(null!==ee){const te=J.default.Strophe.getBareJidFromJid($.message.$attributes.from),ne=J.default.Strophe.getResourceFromJid($.message.$attributes.from);this.saveMessage(ee,(ae)=>{return this._updateMessageMarkers($,Z,ae)}).then((ae)=>{if(null!==ae){const se={message_id:ae._id,message:ae,type:Z,sender_id:te,sender_resource:ne};!1!==K&&this._dispatchEvent(G.EVENT_TYPES.RECEIPT_RECEIVED,se),!1!==K&&this._dispatchEvent(G.EVENT_TYPES.MESSAGE_UPDATED,ae),X(se)}else X(null)}).catch(Q)}}})}_processErrorMessage($){return new I.Promise((K,X)=>{const Q=$.message.$attributes&&$.message.$attributes.id?$.message.$attributes.id:null;if(null!==Q){const Z=$.message.error&&$.message.error.text&&$.message.error.text.$value?$.message.error.text.$value:`The server returned an error for stanza with ID '${Q}'.`;this._onError(Z,Object.assign({},$.message.error,{messageId:Q})),this.saveMessage(Q,(ee)=>{return void 0!==ee._id&&(!0!==ee.state.read&&!0!==ee.state.received&&!0!==ee.state.acknowledged?ee.state.sent=!1:!0!==ee.state.sent&&(ee.state.sent=!0),ee)}).then(()=>{K({id:Q,msg:Z})}).catch(X)}else K()})}_processAckMessage($){return new I.Promise((K,X)=>{if($.message.ack&&$.message.ack.$attributes&&$.message.ack.$attributes['original-id']){const Q=$.message.ack.$attributes['original-id'];this._dispatchEvent(G.EVENT_TYPES.ACK_RECEIVED,Q),this.saveMessage(Q,(Z)=>{return void 0!==Z._id&&(!0!==Z.state.sent&&(Z.state.sent=!0),Z)}).then(K).catch(X)}else K()})}_onStanza($){this.connected=!0,this._setStatus(J.default.Strophe.Status.CONNECTED);try{const K=G.xmlToJson($);if(this._isFilteredOut(K))return!0;if(K.message.$attributes&&'chat'===K.message.$attributes.type&&void 0!==K.message.sent&&void 0!==K.message.sent.$attributes&&K.message.sent.$attributes.xmlns===G.NAMESPACES.CARBONS&&void 0!==K.message.sent.forwarded)this._processNewMessage(K.message.sent.forwarded,{state:{sent:!0}});else if(K.message.$attributes&&'chat'===K.message.$attributes.type)this._processNewMessage(K);else if(K.message.event&&K.message.event.items){const X=(Q)=>{G._isMarkerMessage(Q)?this._processMarkerMessage(Q):this._processGroupMessage(Q)};Array.isArray(K.message.event.items.item)?K.message.event.items.forEach((Q)=>{Q.message&&Q.message.$attributes&&'groupchat'===Q.message.$attributes.type?X(Q):Q.presence&&this._onPresence(Q)}):'object'==typeof K.message.event.items.item&&K.message.event.items.item.message&&K.message.event.items.item.message.$attributes&&'groupchat'===K.message.event.items.item.message.$attributes.type?X(K.message.event.items.item):'object'==typeof K.message.event.items.item&&K.message.event.items.item.presence&&this._onPresence(K.message.event.items.item)}else G._isMarkerMessage(K)?this._processMarkerMessage(K):K.message.$attributes&&'groupchat'===K.message.$attributes.type&&K.message.$attributes.id?this._processGroupMessage(K):K.message.$attributes&&'error'===K.message.$attributes.type?this._processErrorMessage(K):void 0!==K.message.ack&&this._processAckMessage(K)}catch(K){this._onError('An error occurred when processing an incoming message stanza:',K)}return!0}_isFilteredOut($){let K=!0;return 0<this._includeStanzaFilters.length&&(K=!1,this._includeStanzaFilters.some((X)=>{try{return X($)}catch(Q){return this._log('Include filter function failed: '+Q),this._onError('Include filter function failed: '+Q),!1}})&&(K=!0)),this._excludeStanzaFilters.some((X)=>{try{return X($)}catch(Q){return this._log('Exclude filter function failed: '+Q),this._onError('Exclude filter function failed: '+Q),!1}})&&(K=!1),!K}_messageIsGroupChat($){return this._options.mucHost&&$.$attributes&&'string'==typeof $.$attributes.from&&-1<$.$attributes.from.indexOf(this._options.mucHost)}_onPresence($){if($.presence!==void 0){const K=$.presence;if(K.$attributes!==void 0&&K.$attributes.from!==void 0){if('error'===K.$attributes.type)return this._onError('An error from the server was received in a presence stanza:',K),!0;const X=J.default.Strophe.getBareJidFromJid(K.$attributes.from);if(!X)return!0;if(X===this._bareJid)this.setChatStatus(K.show,K.status,!1,K.metadata);else{const Q=G.getDomainFromJid(X);this._options.mucHost===Q?this.saveParticipant(K.$attributes.from,(Z)=>{if(void 0!==Z._id)try{if(Z.show=K.show,Z.status=K.status,Z.online='unavailable'!==K.$attributes.type,Z.affiliation=K.x.item.$attributes.affiliation,Z.room_role=K.x.item.$attributes.role,Z.last_stanza=K,void 0!==K.metadata){const ee=K.metadata;delete ee.$attributes,Z.metadata=ee}Z.updated_at=this.getSyncedTimestamp(Date.now())}catch(ee){this._onError(`Presence stanza wasn't in the expected format when trying to update participant with ID '${Z._id}' and JID '${Z.jid}'.`,ee)}else try{if(Z._id=K.$attributes.from,Z.jid=J.default.Strophe.getBareJidFromJid(K.x.item.$attributes.jid),Z.is_current_user=Z.jid===this._jid,Z.username=J.default.Strophe.getNodeFromJid(Z.jid),Z.room_name=J.default.Strophe.getNodeFromJid(K.$attributes.from),Z.affiliation=K.x.item.$attributes.affiliation,Z.room_role=K.x.item.$attributes.role,Z.online='unavailable'!==K.$attributes.type,Z.show=K.show,Z.status=K.status,Z.ts=this.getSyncedTimestamp(Date.now()),void 0!==K.metadata){const ee=K.metadata;delete ee.$attributes,Z.metadata=ee}Z.updated_at=null,Z.last_stanza=K}catch(ee){this._onError(`Presence stanza wasn't in the expected format when trying to create a new participant with ID '${Z._id}' and JID '${Z.jid}'.`,ee)}return Z}).then((Z)=>{null===Z.updated_at?this._dispatchEvent(G.EVENT_TYPES.NEW_PARTICIPANT,Z):this._dispatchEvent(G.EVENT_TYPES.PARTICIPANT_UPDATED,Z)}).catch((Z)=>{this._onError('Couldn\'t upsert participant database.',Z)}):this._saveObject(G.OBJECT_TYPES.CONTACT,X,(Z)=>{if(void 0!==Z&&(Z.online='unavailable'!==K.$attributes.type,void 0!==K.show&&(Z.show=K.show),void 0!==K.status&&(Z.status=K.status),void 0!==K.metadata)){const ee=K.metadata;delete ee.$attributes,Z.metadata=ee}return Z},(Z)=>{let ee=!1;K.x&&K.x.$attributes&&K.x.$attributes.xmlns&&K.x.$attributes.xmlns===G.NAMESPACES.VCARD_UPDATE&&void 0!==K.x.photo&&'string'==typeof K.x.photo&&(void 0===Z.avatarHash||Z.avatarHash!==K.x.photo)&&(ee=!0,this._log('\uD83C\uDCA1 Avatar update for:',X),this._log('\uD83C\uDCA1 New avatar hash:',K.x.photo),this.updatevCardForContact(X).then(()=>{this._saveObject(G.OBJECT_TYPES.CONTACT,X,(te)=>{return te.avatarHash=K.x.photo,te},(te)=>{this._dispatchEvent(G.EVENT_TYPES.PRESENCE_UPDATE,te)},(te)=>{this._onError('Couldn\'t update contact with vCard: ',te)})}).catch((te)=>{this._onError('Couldn\'t get updated vCard for contact: ',te)})),!1==ee&&this._dispatchEvent(G.EVENT_TYPES.PRESENCE_UPDATE,Z)},(Z)=>{this._onError('Couldn\'t upsert contacts database.',Z)})}}}return!0}getContactByJid($){return this._isMethodReady(!0),new I.Promise((K,X)=>{this.findContacts({id:$}).then((Q)=>{let Z=Q[0];void 0===Z?X('No contact found: '+$):K(Z)}).catch(X)})}updatevCardForContact($){return this._isMethodReady(!0,!0),this._log('\uD83C\uDCA1 Updating vCard for Contact:',$),new I.Promise((K,X)=>{this.findContacts({id:$}).then((Q)=>{let Z=Q[0];return void 0===Z?void(this._log('\uD83C\uDCA1 No contact:',$),X('No contact found: '+$)):Z}).then(()=>{this._getvCard($).then((Z)=>{if(void 0!==Z){const ee=z.VCardSimple.fromXml(Z);void 0===ee?(this._log('\uD83C\uDCA1 Bad vCard:',$),X('Bad vCard')):this._saveObject(G.OBJECT_TYPES.CONTACT,$,(te)=>{return te.vCard=ee.toJSON(),te},(te)=>{this._log('\uD83C\uDCA1 vCard Updated:',$),K(te)},(te)=>{this._log('\uD83C\uDCA1 Couldn\'t save contact:',$),X('Couldn\'t save contact: '+te)})}else this._log('\uD83C\uDCA1 No vCard:',$),K(null)}).catch(X)}).catch(X)})}_processRoster($){return new I.Promise((K,X)=>{if(void 0===$||void 0===$.iq||void 0===$.iq.query)K();else if(void 0!==$.iq.query.$attributes&&void 0!==$.iq.query.$attributes.ver&&this._setCacheItem('roster_version',$.iq.query.$attributes.ver).catch(X),void 0!==$.iq.query.item){const Q=Array.isArray($.iq.query.item)?$.iq.query.item:[$.iq.query.item],Z=[];Q.forEach((ee)=>{if(void 0!==ee.$attributes.jid){const te={id:ee.$attributes.jid,subscription:ee.$attributes.subscription,online:!1};void 0!==ee.group&&('string'==typeof ee.group?te.groups=[ee.group]:Array.isArray(ee.group)&&(te.groups=ee.group)),Z.push(te)}}),this._contactDb.allDocs({include_docs:!0}).then((ee)=>{const te=[];ee.rows.forEach((ne)=>{let ae=ne.doc,se=null;Z.every((de,ie)=>{return de.id!==ae.id||(se=de,delete Z[ie],!1)}),null===se?te.push(this._contactDb.remove(ae)):(ae.subscription!==se.subscription||!G._arraysEqual(ae.groups,se.groups))&&(ae=G._merge(ae,se),this._log('MERGED CONTACT:',ae),te.push(this._contactDb.post(ae)))}),Z.forEach((ne)=>{this._log('ADDING NEW CONTACT:',ne),te.push(new I.Promise((ae,se)=>{this._saveObject(G.OBJECT_TYPES.CONTACT,ne.id,()=>{return ne},(de)=>{this._log('CONTACT ADDED:',ne.id),ae(de)},(de)=>{this._log('CONTACT ADD FAILED:'+ne.id+': '+de),se(de)})}))}),I.Promise.all(te).then(K).catch((ne)=>{this._onError('Couldn\'t merge contacts from server with locally sorted contacts.',ne),X(ne)})})}else K()})}getvCardsForAllContacts(){return this._isMethodReady(!0,!0),this._log('\uD83C\uDCA1 Fetching all vCards...'),new I.Promise(($,K)=>{this.getContacts().then((X)=>{const Q=[];X.forEach((Z)=>{this._log('\uD83C\uDCA1 Fetching vCard for:',Z.id),Q.push(new I.Promise((te)=>{this.updatevCardForContact(Z.id).then(()=>{this._log('\uD83C\uDCA1 Fetched vCard for:',Z.id),te()}).catch(()=>{te()})}))}),I.Promise.all(Q).then($).catch(K)})})}getOurvCard(){return this._isMethodReady(!0,!0),this._log('\uD83C\uDCA1 Fetching vCard for:',this._bareJid),new I.Promise(($,K)=>{this._getvCard(this._bareJid).then((X)=>{if(void 0===X||1>X.length)return K('No vCard');const Q=z.VCardSimple.fromXml(X);void 0===Q?(this._log('\uD83C\uDCA1 Bad vCard: ',this._bareJid),K('Bad vCard')):(this._log('\uD83C\uDCA1 Fetched vCard: ',Q.toJSON()),$(Q.toJSON()))}).catch(K)})}saveOurvCard($){return this._isMethodReady(!0,!0),this._log('\uD83C\uDCA1 Saving vCard for:',this._bareJid),new I.Promise((K,X)=>{const Q=z.VCardSimple.fromJSON($);this._setvCard(this._bareJid,Q.toXML(!0)).then(()=>{this._log('\uD83C\uDCA1 Saved vCard for:',this._bareJid),K()}).catch(X)})}_onError($,K){console.error($,K||''),this._dispatchEvent(G.EVENT_TYPES.ERROR,K)}_setCacheItem($,K,X=!1){return new I.Promise((Q,Z)=>{const ee=()=>{this._saveObject(G.OBJECT_TYPES.CACHE_ITEM,$,(te)=>{return te.value!==K&&(te.value=K,te.secret=!0===X,te)},(te)=>{const ne=te.value;!1===te.secret&&(this._cache[$]=ne),Q(te.value)},(te)=>{this._onError(`Couldn't set cache item '${$}' with value '${K}'.`),Z(te)})};this._getCacheItem($).then((te)=>{te===K?Q(te):ee()}).catch(ee)})}_getCacheItem($,K=0){return new I.Promise((Q)=>{this._cache[$]===void 0?this._cacheDb.get($).then((Z)=>{if(this._options.encryption&&!Z.hasOwnProperty('value'))++K,K===5?Q():setTimeout(()=>{this._getCacheItem($,K).then(Q)},100);else{const ee=Z.value;!1===Z.secret&&(this._cache[$]=ee),Q(ee)}}).catch(()=>{Q()}):Q(this._cache[$])})}_deleteCacheItem($){return new I.Promise((K,X)=>{this._cacheDb.get($).then((Q)=>{this._cacheDb.remove(Q).then(()=>{delete this._cache[$],K()}).catch(X)}).catch(()=>{K()})})}_messageDelta($,K,X){const Q=$.message.$attributes.from,Z=J.default.Strophe.getBareJidFromJid(Q),ee=J.default.Strophe.getResourceFromJid(Q);if(void 0!==K._id)$!==K.stanza&&(K.stanza=$),void 0!==$.message.body&&$.message.body!==K.body&&(K.body=$.message.body),null===K.type&&(K.type=$.message.$attributes.type),'groupchat'===K.type&&(K.state.sent=!0),null===K.jid&&(K.jid=Q),null===K.sender_id&&(K.sender_id=Z),null===K.sender_resource&&(K.sender_resource=ee),null===K.recipient_id&&(K.recipient_id=$.message.$attributes.to),void 0!==$.message.data&&$.message.data!==K.data&&(K.data=$.message.data),(null===K.ts||$.message.timestamp&&1<$.message.timestamp.length)&&(K.ts=this._getTimestampFromStanza($)),null===K.mine&&(K.mine=Z===this._bareJid),K.placeholder=!1,K.archive_id=this._getArchiveIdFromStanza($),K.updated_at=this.getSyncedTimestamp(Date.now()),K=G._merge(K,X);else{let te=[];void 0!==$.message.attachments&&(Array.isArray($.message.attachments)?te=$.message.attachments:te.push($.message.attachments));let ne={_id:$.message.$attributes.id,stanza:$,archive_id:this._getArchiveIdFromStanza($),jid:Q,sender_id:Z,sender_resource:ee,recipient_id:$.message.$attributes.to,body:$.message.body||null,updated_at:null,ts:this._getTimestampFromStanza($),state:{sent:null,markers:[],received:null,read:null,acknowledged:null},data:$.message.data||{},attachments:te,type:$.message.$attributes.type||'chat',mine:Z===this._bareJid,markable:void 0!==$.message.markable,fromMam:!1,injected:!1,placeholder:!1},ae=[];void 0!==$.message.addresses&&(Array.isArray($.message.addresses.address)?ae=$.message.addresses.address:ae.push($.message.addresses.address)),K=Object.assign({},G._messageSkeleton(),{_id:$.message.$attributes.id,stanza:$,archive_id:this._getArchiveIdFromStanza($),jid:Q,sender_id:Z,sender_resource:ee,recipient_id:$.message.$attributes.to,body:$.message.body,ts:this._getTimestampFromStanza($),data:$.message.data,attachments:te,type:$.message.$attributes.type,mine:Z===this._bareJid,markable:void 0!==$.message.markable,addresses:ae})}return $.message.$attributes&&'groupchat'===$.message.$attributes.type&&(K.type='groupchat',K.mine=J.default.Strophe.getBareJidFromJid($.message.$attributes.from)===this._bareJid||J.default.Strophe.getResourceFromJid($.message.$attributes.from)===this.username),G._merge(K,X)}static _messageSkeleton(){return{_id:null,stanza:null,archive_id:null,jid:null,sender_id:null,sender_resource:null,recipient_id:null,body:null,updated_at:null,ts:null,state:{sent:null,markers:[],received:null,read:null,acknowledged:null},data:{},attachments:[],type:'chat',mine:null,markable:!1,fromMam:!1,placeholder:!1,injected:!1}}_messageStanzaToDbObject($,K){return new I.Promise((X,Q)=>{if($.message!==void 0&&$.message.$attributes!==void 0)this.saveMessage($.message.$attributes.id,(Z)=>{return this._messageDelta($,Z,K)}).then(X).catch((Z)=>{this._onError('Unable to convert message stanza to DB object.',Z),Q(Z)});else{const Z='No message part present in the stanza.';this._onError(Z),Q(Z)}})}_getTimestampFromStanza($){let K=null;if(void 0!==$.message&&void 0!==$.message.timestamp)if(Array.isArray($.message.timestamp)){const X=$.message.timestamp.filter((Q)=>{return void 0!==Q.$attributes&&Q.$attributes.xmlns===G.NAMESPACES.CT_SERVER_TIMESTAMP});void 0!==X[0]&&(K=parseInt(X[0].$value))}else void 0!==$.message.timestamp.$value&&(K=parseInt($.message.timestamp.$value));return null===K&&(K=this.getSyncedTimestamp(Date.now())),K}_getArchiveIdFromStanza($){let K=null;if($.message.archived!==void 0){const X=Array.isArray($.message.archived)?$.message.archived[0]:$.message.archived;X.$attributes!==void 0&&X.$attributes.id!==void 0&&(K=X.$attributes.id)}return K}_log($,K){!0===this._options.debug&&console.debug('['+new Date().toString()+'] ',$,K||'')}getUniqueId(){return this._isMethodReady(!0,!0),this._connection.getUniqueId(`${this._instanceId}-${performance.now()}`)}sendBotCommand($,K,X,Q=5e3){return this._isMethodReady(!0,!0),new I.Promise((Z,ee)=>{const te=this.getUniqueId(),ne={$attributes:{to:$,type:'normal'},call:{$attributes:{xmlns:G.NAMESPACES.INFINITY_BOT,"request-id":te,type:'get',name:K}}};let ae=null;try{ae=JSON.stringify(X)}catch(de){this._onError('Couldn\'t stringify JSON:',de)}null!==ae&&(ne.call.json={$attributes:{xmlns:'urn:xmpp:json:0'},$value:ae});let se=null;this._connection.addHandler((de)=>{clearTimeout(se),se=null;const ie=G.xmlToJson(de);if(void 0!==ie.message&&void 0!==ie.message.$attributes&&'error'===ie.message.$attributes.type){const oe=void 0!==ie.message.error&&void 0!==ie.message.error.text?ie.message.error.text.$value:'An unexpected error occurred';ee(oe)}else if(void 0!==ie.message&&void 0!==ie.message.call&&void 0!==ie.message.call.$attributes&&'result'===ie.message.call.$attributes.type&&ie.message.call.$attributes['request-id']===te){if(void 0!==ie.message.call.json&&void 0!==ie.message.call.json.$value){let oe=null;try{oe=JSON.parse(ie.message.call.json.$value)}catch(le){this._onError('Couldn\'t parse JSON from bot command response:',le),ee(le)}Z(oe)}return!1}return!0},G.NAMESPACES.INFINITY_BOT,'message',null,null,$,{matchBare:!0}),this.sendStanza(ne,!1).then(()=>{se=setTimeout(()=>{this._onError(`Didn't get a response from the bot within ${Q}ms.`,{operationName:K}),ee('Your request took longer then expected, please try again.')},Q)}).catch((de)=>{this._onError('Couldn\'t send bot command:',de),ee(de)})})}_pushHandler($){this._log('Push Received: ',$)}_getPushToken(){return new I.Promise(($,K)=>{var X=null;if('android'===H.getPlatformName()?X={senderID:this._options.push.senderId}:'ios'===H.getPlatformName()&&(X={badge:'true',sound:'true',alert:'true'}),null!==X)if(this._options.push.voip&&'ios'===H.getPlatformName()){var Q=this,Z=B.getSource('VoIPPushNotification');if(!1!==Z){var ee=Z.init();ee.on('registration',function(ne){Q._log('Registered for push: ',ne.deviceToken),Q._setCacheItem('push_token',ne.deviceToken).then(()=>{$(ne.deviceToken)})}),ee.on('notification',function(ne){var ae=B.getSource('insomnia');ae&&!1!==Q._options.bringToForegroundOnVoipPush&&(ae.switchOnScreenAndForeground(),Q._pushHandler(ne))}),ee.on('error',function(ne){Q._log('VOIP Push Error: '+ne)})}else Q._log('Could not find VOIP Push plugin'),K('Could not find VOIP Push plugin')}else{var te=B.getSource('notification');if(!1!==te){this._log('Registering for push notifications...');var Q=this;te.registerForPush(function(ne){Q._log('Registered for push:',ne),te.on('pushReceived',function(ae){Q._pushHandler(ae)}),Q._setCacheItem('push_token',ne).then(()=>{$(ne)})},function(ne){Q._log('Error registering for push:',ne),K(ne)},X)}else Q._log('Could not find Push plugin'),K('Could not find Push plugin')}})}registerForPush($){if(!H.isDevice())throw new Error('This platform does not support push notifications.');return new I.Promise((K,X)=>{this.sendIq(null,'set',{push:{$attributes:{xmlns:G.NAMESPACES.CT_PUSH},notification:{package:this._options.push.packageId,type:'ios'===H.getPlatformName()?'apns':'gcm',token:$,installation_id:this._installId}}}).then((Q)=>{let Z=null;try{Z=Q.iq.push.notification.$attributes.jid,this._pushNodeName=Q.iq.push.notification.$attributes.node}catch(ee){this._onError('Couldn\'t enable push notifications.',ee),X(ee)}null!==Z&&this._setCacheItem('push_jid',Z).then(()=>{this.enablePush().then(K).catch(X)})}).catch((Q)=>{this._onError('Couldn\'t register for push notifications:',Q),X(Q)})})}enablePush(){return new I.Promise(($,K)=>{this._getCacheItem('push_jid').then((X)=>{X===void 0?(this._onError('\'registerForPush\' must be called before \'enablePush\'.'),K()):this.sendIq(null,'set',{enable:{$attributes:{xmlns:G.NAMESPACES.PUSH,jid:X,node:this._pushNodeName}}}).then($).catch((Q)=>{this._onError('Unable to enable push notifications:',Q),K(Q)})})})}disablePush(){return new I.Promise(($,K)=>{this._getCacheItem('push_jid').then((X)=>{X===void 0?$():this.sendIq(null,'set',{disable:{$attributes:{xmlns:G.NAMESPACES.PUSH,jid:X,node:this._pushNodeName}}}).then($).catch((Q)=>{this._onError('Unable to disable push notifications:',Q),K(Q)})})})}_perfStart($,K,X){!0!==this._options.perfLogging||(console.log(`%c[START: ${$}] ${K}`,X),console.time($))}_perfEnd($,K,X){!0!==this._options.perfLogging||(console.log(`%c[END: ${$}] ${K}`,X),console.timeEnd($))}static jsonToXml($,K){return G._parseJsonNode(K,G._createElement($,K.$attributes))}static _parseJsonNode($,K){for(let X in $){let Q=$[X];if(0!==X.indexOf('$')){if(Array.isArray(Q)&&0<Q.length)Q.forEach((Z)=>{let ee=G._createElement(X,Z.$attributes);ee=G._parseJsonNode(Z,ee),K.appendChild(ee)});else{const Z='object'==typeof Q&&null!==Q?Q.$attributes:void 0;let ee=G._createElement(X,Z);if('object'==typeof Q&&null!==Q&&0<Object.keys(Q).length)ee=G._parseJsonNode(Q,ee);else if('string'==typeof Q){const te=G.doc.createTextNode(Q);ee.appendChild(te)}K.appendChild(ee)}}else if('$value'==X){const Z=G.doc.createTextNode(Q);K.appendChild(Z)}else if('$cdata'==X){const Z=G.doc.createCDATASection(Q);K.appendChild(Z)}}return K}static xmlToJson($){return G._parseXmlNode($,{})}static _parseXmlNode($,K){let X={};if(void 0!==$.attributes&&0<$.attributes.length){X.$attributes={};for(let Q=0;Q<$.attributes.length;Q++){const Z=$.attributes[Q];X.$attributes[Z.nodeName]=Z.value}}if(0<$.childNodes.length)for(let Q=0;Q<$.childNodes.length;Q++){const Z=$.childNodes[Q];if(3===Z.nodeType)void 0===X.$attributes?X=Z.textContent:X.$value=Z.textContent;else if(4===Z.nodeType)X.$cdata=Z.textContent;else{if('\n'===X)continue;G._parseXmlNode(Z,X)}}return void 0!==K[$.nodeName]&&!1===Array.isArray(K[$.nodeName])&&(K[$.nodeName]=[K[$.nodeName]]),Array.isArray(K[$.nodeName])?K[$.nodeName].push(X):K[$.nodeName]=X,K}static _createElement($,K){null===G.doc&&(G.doc=document.implementation.createDocument('ct:xmpp:client','infinity',null));const X=G.doc.createElement($);if(K!==void 0&&0<Object.keys(K).length)for(let Q in K)X.setAttribute(Q,K[Q]);return X}static _getContactFromRosterByJid($,K){let X=null;return void 0!==K&&void 0!==K.contacts&&0<K.contacts.length&&K.contacts.forEach((Q)=>{Q.jid===$&&(X=Q)}),X}static _isObject($){return $&&'object'==typeof $&&!Array.isArray($)}static _merge($,...K){if(!K.length)return $;const X=K.shift();if(G._isObject($)&&G._isObject(X))for(const Q in X)G._isObject(X[Q])?($[Q]||Object.assign($,{[Q]:{}}),G._merge($[Q],X[Q])):Object.assign($,{[Q]:X[Q]});return G._merge($,...K)}static _arraysEqual($,K){if(!Array.isArray($)||!Array.isArray(K))return $===K;if($.length!==K.length)return!1;for(let X=$.length;X--;)if($[X]!==K[X])return!1;return!0}static _validateEventType($){return G._validateConstants(G.EVENT_TYPES,$)}static _validateChatStatus($){return G._validateConstants(G.CHAT_STATUSES,$)}static _validateConstants($,K){for(let X in $)if($[X]===K)return!0;return!1}static getDomainFromJid($){const K=J.default.Strophe.getBareJidFromJid($);return K.split('@')[1]}static _isMarkerMessage($){return $.message.received&&$.message.received.$attributes&&$.message.received.$attributes.xmlns===G.NAMESPACES.CHAT_MARKERS||$.message.read&&$.message.read.$attributes&&$.message.read.$attributes.xmlns===G.NAMESPACES.CHAT_MARKERS||$.message.acknowledged&&$.message.acknowledged.$attributes&&$.message.acknowledged.$attributes.xmlns===G.NAMESPACES.CHAT_MARKERS}static getNodeFromJid($){return J.default.Strophe.getNodeFromJid($)}static pickFile($={}){return N.pickFile($)}_isMethodReady($=!0,K=!1){if(!0===$&&!0!==this._initialised)throw new Error(`XMPP client has not yet been fully initialised.`);if(!0===K&&!1===this.connected)throw new Error(`An active connection is required to perform this action.`)}}G.doc=null,G.MARKER_TYPES={RECEIVED:'received',READ:'read',ACKNOWLEDGED:'acknowledged'},G.EVENT_TYPES={INITIALISED:'initialised',STATUS:'status',NEW_MESSAGE:'newmessage',ERROR:'error',MESSAGE_UPDATED:'messageupdated',PRESENCE_UPDATE:'presenceupdate',NEW_PARTICIPANT:'newparticipant',PARTICIPANT_UPDATED:'participantupdated',RECEIPT_RECEIVED:'receiptreceived',AUTO_RECONNECTED:'autoreconnected',DBS_DESTROYED:'dbsdestroyed',AUTO_DBS_DESTROYED:'autodbsdestroyed',ACK_RECEIVED:'ackreceived',UPLOAD_STARTED:'uploadstarted',UPLOAD_SUCCESS:'uploadsuccess',UPLOAD_FAILED:'uploadfailed'},G.CHAT_STATUSES={AWAY:'away',CHAT:'chat',DND:'dnd',XA:'xa'},G.NAMESPACES={MUC:'http://jabber.org/protocol/muc',MUC_SUB:'urn:xmpp:mucsub:0',MUC_OWNER:'http://jabber.org/protocol/muc#owner',X_DATA:'jabber:x:data',DISCO_INFO:'http://jabber.org/protocol/disco#info',DISCO_ITEMS:'http://jabber.org/protocol/disco#items',JABBER_CLIENT:'jabber:client',MAM:'urn:xmpp:mam:0',MAM_TMP:'urn:xmpp:mam:tmp',RESULT_SET_MANAGEMENT:'http://jabber.org/protocol/rsm',CHAT_MARKERS:'urn:xmpp:chat-markers:0',CT_METADATA:'ct:metadata:0',HINTS:'urn:xmpp:hints',CT_CLIENT_TIMESTAMP:'ct:client-timestamp:0',CT_SERVER_TIMESTAMP:'urn:commontime:infinity:timestamps',HTTP_UPLOAD:'urn:xmpp:http:upload',PING:'urn:xmpp:ping',CLIENT_STATE_INDICATION:'urn:xmpp:csi:0',ADDRESS:'http://jabber.org/protocol/address',VCARD_UPDATE:'vcard-temp:x:update',TIME:'urn:xmpp:time',INFINITY_BOT:'urn:commontime:infinity:api',PRIVATE_XML_STORAGE:'jabber:iq:private',CT_PRIVATE_XML_STORAGE:'ct:private-xml-data',CT_PUSH:'urn:commontime:infinity:push',PUSH:'urn:xmpp:push:0',DIRECTORY:'urn:commontime:infinity:directory',CARBONS:'urn:xmpp:carbons:2',INFINITY_MAM:'urn:commontime:infinity:mam'},G.MUC_NODES={PRESENCE:'urn:xmpp:mucsub:nodes:presence',MESSAGES:'urn:xmpp:mucsub:nodes:messages',AFFILIATIONS:'urn:xmpp:mucsub:nodes:affiliations',CONFIG:'urn:xmpp:mucsub:nodes:config',SUBJECT:'urn:xmpp:mucsub:nodes:subject',SYSTEM:'urn:xmpp:mucsub:nodes:system'},G.MARKER_PRIORITIES={received:3,read:2,acknowledged:1},G.OBJECT_TYPES={MESSAGE:'message',CONTACT:'contact',ROOM:'room',PARTICIPANT:'participant',CACHE_ITEM:'cache_item',OBJECT_URL:'object_url'},G.CLIENT_STATES={ACTIVE:'active',INACTIVE:'inactive'},E.CtXmppClient=G,window.CtXmppClient=G},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(27);class A extends I.ViewBase{constructor(N){super(N)}}E.IncidentViewBase=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(3),A=R(7),N=R(1),H=R(11),B=R(5),z=R(4),W=R(31),J=R(30),G=R(17),$=R(2);class K{static getDefaultOptions(X){return B.mergeDeep({},{layout:'inline',showPriority:!0,showSeverity:!0,showPatientType:!0,showLocation:!0,showCreator:!0,showSeverityChange:!0,showOpenDuration:!0,showClosedTime:!0,showCurrentUserResponse:!1,allowSeverityChange:!1,allowClose:!1},X||{})}static generateHeader(X,Q,Z){const ee=['header',Z.layout];return Q.status===A.IncidentStatus.Closed&&ee.push('closed'),Q.isTestIncident&&ee.push('test'),window.__CTRender('div',{class:ee.join(' ')},window.__CTRender('div',{class:'header-group header-group-start'},this._severity(X,Q,Z)),window.__CTRender('div',{class:'header-group header-group-details'},this._location(X,Q,Z),this._priority(X,Q,Z),this._patientType(X,Q,Z),this._creator(X,Q,Z),this._severityChange(X,Q,Z),this._spacer(),this._openedDuration(X,Q,Z,'desktop')),window.__CTRender('div',{class:'header-group header-group-end'},this._actions(X,Q,Z),this._closedTime(X,Q,Z),this._currentUserResponse(X,Q,Z)))}static generateMobileHeader(X,Q,Z,ee,te){const ne=['header','mobile'];ee&&ne.push('expanded'),Q.status===A.IncidentStatus.Closed&&ne.push('closed'),Q.isTestIncident&&ne.push('test');const ae=[];return ae.push(window.__CTRender('div',{class:'mobile-header-row',onClick:()=>te&&te()},this._severity(X,Q,Z),this._location(X,Q,Z),this._openedDuration(X,Q,Z,'mobile'),this._closedTime(X,Q,Z))),ee&&(ae.push(window.__CTRender('div',{class:'mobile-header-row'},this._currentUserResponse(X,Q,Z),this._priority(X,Q,Z),this._patientType(X,Q,Z),this._creator(X,Q,Z),this._severityChange(X,Q,Z))),this._shouldRenderActions(Q,Z)&&ae.push(window.__CTRender('div',{class:'mobile-header-row'},this._actions(X,Q,Z)))),window.__CTRender('div',{class:ne.join(' ')},ae)}static _priority(X,Q,Z){return Z.showPriority?Q.priority?!1===Q.priority.display?null:window.__CTRender('div',{class:'header-item data-item priority'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading'},'Type'),window.__CTRender('div',{class:'text'},Q.priority.name))):null:null}static _severity(X,Q,Z){return Z.showSeverity?window.__CTRender('div',{class:'header-item severity'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender(J.CTILIncidentSeverityPill,{incident:Q}))):null}static _patientType(X,Q,Z){return Z.showPatientType?Q.patientType?window.__CTRender('div',{class:'header-item data-item patient-type'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading'},'Patient'),window.__CTRender('div',{class:'text'},Q.patientType.name))):null:null}static _location(X,Q,Z){return Z.showLocation?Q.location?window.__CTRender('div',{class:'header-item data-item location'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading'},'Where'),window.__CTRender('div',{class:'text'},Q.location.name))):null:null}static _creator(X,Q,Z){return Z.showCreator?window.__CTRender('div',{class:'header-item data-item creator'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading'},'Raised By'),window.__CTRender('div',{class:'text'},Q.opened.name))):null}static _severityChange(X,Q,Z){if(!Z.showSeverityChange)return null;const ee=(Q.actions||[]).filter((ae)=>ae.action===A.IncidentAction.ChangeSeverity);ee.sort((ae,se)=>se.date-ae.date);const te=ee[0]||null;if(!te)return null;const ne=`${te.data} ${B.formatDate(te.date,'HH:mm')}`;return window.__CTRender('div',{class:'header-item data-item severity-change'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading'},'Status'),window.__CTRender('div',{class:'text'},ne)))}static _openedDuration(X,Q,Z,ee){return Q.status!==A.IncidentStatus.Open||null===Q.opened?void 0:'desktop'===ee?window.__CTRender('div',{class:'header-item data-item opened'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading'},'Open'),window.__CTRender('div',{class:'text'},window.__CTRender(W.CTILTimeDiffDisplay,{ts:Q.opened.date})))):'mobile'===ee?window.__CTRender('div',{class:'header-item data-item opened'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender(W.CTILTimeDiffDisplay,{ts:Q.opened.date,showLabel:!1}),window.__CTRender('div',{class:'label'},'Mins'))):null}static _closedTime(X,Q){if(Q.status!==A.IncidentStatus.Closed&&null===Q.closed)return null;const ee=Q.closedReasonId&&(X.layer.config.closeReasons||[]).find((ne)=>ne.id===Q.closedReasonId),te=!ee?'Closed':ee.label||'Closed';return window.__CTRender('div',{class:'header-item data-item closed'},window.__CTRender('div',{class:'header-item-content'},window.__CTRender('div',{class:'heading right'},te),window.__CTRender('div',{class:'text'},B.formatDate(Q.closed.date,'HH:mm'))))}static _currentUserResponse(X,Q,Z){if(!Z.showCurrentUserResponse)return null;const ee=X.layer.getCurrentUser(),te=!ee?null:H.findUserResponse(Q,ee.jid),ne=null===te?A.ResponseStatus.OffDuty:te.status||A.ResponseStatus.Transmitted,ae=ne===A.ResponseStatus.Acknowledged?'Ack':null;return window.__CTRender('div',{class:'header-item data-item user-response'},window.__CTRender('div',{class:'header-item-content'},z.renderIf(!!ee,window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'primary',status:ne,label:ae,collapsed:!0}))))}static _actions(X,Q,Z){return this._shouldRenderActions(Q,Z)?window.__CTRender('div',{class:'header-item actions'},this._renderActions(X,Q,Z)):null}static _spacer(){return window.__CTRender('div',{class:'header-item header-spacer'})}static _shouldRenderActions(X,Q){if(X.status===A.IncidentStatus.Closed)return!1;let Z=!1;return Q.allowSeverityChange&&X.severity.changes&&X.severity.changes.length&&(Z=!0),this._allowCloseIncident(X,Q)&&(Z=!0),Z}static _renderActions(X,Q,Z){const ee=X.layer.getConnectionStatus(),te=ee===I.ConnectionStatus.Connected,ne=[];return Z.allowSeverityChange&&(Q.severity.changes||[]).forEach((ae)=>{ne.push(window.__CTRender($.CTButton,{type:'secondary',disabled:!te,onClick:()=>K._raiseSeverityChange(X,Q,ae)},ae.name))}),this._allowCloseIncident(Q,Z)&&ne.push(window.__CTRender($.CTButton,{type:'secondary',disabled:!te,onClick:()=>K._raiseClose(X,Q)},'Close')),ne}static _allowCloseIncident(X,Q){if('boolean'==typeof Q.allowClose)return Q.allowClose;if('string'==typeof Q.allowClose){if(['true','all'].includes(Q.allowClose.toLowerCase()))return!0;if('test-only'===Q.allowClose.toLowerCase())return X.isTestIncident;if('non-test'===Q.allowClose.toLowerCase())return!X.isTestIncident}return!1}static _raiseSeverityChange(X,Q,Z){const ee=Z.confirmationTitle||Z.name,te=Z.confirmationMessage;if(!!te){const ae=new I.DefaultAlerts(X),se=ae.AlertYesNoQuestion(ee,te,1,{yes:()=>{X.emitEvent(N.IncidentEvents._Request_ChangeIncidentSeverity,new N.ChangeIncidentSeverityEventArgs(Q.id,Z))}});X.launchModal(se)}else X.emitEvent(N.IncidentEvents._Request_ChangeIncidentSeverity,new N.ChangeIncidentSeverityEventArgs(Q.id,Z))}static _raiseClose(X,Q){X.emitEvent(N.IncidentEvents._Request_LaunchCloseIncidentModal,Q)}}E.IncidentHeader=K},function(L,E){'use strict';E.__esModule=!0,E.inherits=function(A,N){var H=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},B=Object.create(A.prototype);for(var z in H)B[z]=H[z];return B.constructor=N,N.prototype=B,N}},function(L,E,R){'use strict';var I=this&&this.__decorate||function(G,$,K,X){var Q=arguments.length,Z=3>Q?$:null===X?X=Object.getOwnPropertyDescriptor($,K):X,ee;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Z=Reflect.decorate(G,$,K,X);else for(var te=G.length-1;0<=te;te--)(ee=G[te])&&(Z=(3>Q?ee(Z):3<Q?ee($,K,Z):ee($,K))||Z);return 3<Q&&Z&&Object.defineProperty($,K,Z),Z},A=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(134),z=R(1),W=R(5);class J extends H.CTILComponent{constructor(){super(...arguments),this._initialized=!1}static get is(){return'ct-il-incident-display'}initialize(){return A(this,void 0,void 0,function*(){if(this.view){const G=this.viewOptions?JSON.parse(this.viewOptions):{};this._view||(this._view=B.getView(this.view,this,G)),this._view&&(yield this._view.initialize(),this._initialized=!0,this.forceRedraw())}})}setupListeners(){this.addListener(z.IncidentEvents.IncidentUpdated,(G)=>{G.incident.id===this.incident.id&&this.debounce('update',()=>A(this,void 0,void 0,function*(){this.incident=W.deepCloneObject(G.incident)}))}),this._view&&this._view.setupListeners()}get generateComponentStyles(){return null}generateComponentMarkup(){if(!this._initialized)return null;if(!this._view)return null;if(!this.incident)return null;const G=this.layer.translateIncidentDetails(this.incident);return window.__CTRender('div',{class:`incident-display view-${this.view}`},window.__CTRender('style',null,this._view.renderStyles()),this._view.renderIncident(G))}}I([N.prop({type:String,attribute:!0})],J.prototype,'view',void 0),I([N.prop({type:String,attribute:!0})],J.prototype,'viewOptions',void 0),I([N.prop({type:Object,attribute:!1,default:null})],J.prototype,'incident',void 0),E.CTILIncidentDisplay=J,J.register()},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=window,N=window;E.getSource=function(H){if(A[H]!==void 0)return A[H];if(void 0!==A.cordova&&void 0!==A.cordova[H])return A.cordova[H];if(void 0!==A.cordova&&void 0!==A.cordova.plugins&&void 0!==A.cordova.plugins[H])return A.cordova.plugins[H];if(void 0!==A.plugins&&void 0!==A.plugins[H])return A.plugins[H];if(void 0!==navigator&&void 0!==navigator[H])return navigator[H];if(void 0!==N.require){let B=!1;try{return B=N.require(H),B}catch(z){if(!1==B||void 0===B){const W=H.replace(/\-/g,'').toLowerCase();try{return N.require('@commontimeltd/com.commontime.'+W)}catch(J){return!1}}return!1}}else return console.warn(`Plugin '${H}' is not available.`),!1}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const H=R(24),B=R(173);E.isNumber=function(z){return!isNaN(parseFloat(z))&&isFinite(z)},E.generateGuid=function(){let z=Date.now();return window.performance&&'function'==typeof window.performance.now&&(z+=performance.now()),'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(W){const J=0|(z+16*Math.random())%16;return z=Math.floor(z/16),('x'==W?J:8|3&J).toString(16)})},E.getEncryptionKey=function(z){return new Promise((W,J)=>{const G=H.getSource('securesettings');if(!1!==G)G.getOrCreateCryptographicKey(function(K){const Q=B.Buffer.from(function(Z){let ee=[];for(let te=0;te<Z.length;te+=2)ee.push(parseInt(Z.substr(te,2),16));return ee}(K));W(Q)},J,z,256);else{console.warn('Oh no! \uD83D\uDE31 Your databases are encrypted but the key couldn\'t be secured because this platform doesn\'t support secure settings.');const K=localStorage.getItem(`${z}_key`);if(null!==K){const X=B.Buffer.from(JSON.parse(K));W(X)}else{let X=[],Q;if(window.crypto&&window.crypto.getRandomValues){var $=new Uint8Array(32);for(window.crypto.getRandomValues($),Q=0;32>Q;Q++)X[Q]=$[Q]}else for(let ee=0;32>ee;ee++)X[ee]=Math.floor(256*Math.random());localStorage.setItem(`${z}_key`,JSON.stringify(X));const Z=B.Buffer.from(X);W(Z)}}})}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class A{}A.XmppChat='xmppchat',E.BaseMessageType=A;E.BaseBotCommand=class{};E.BaseIQ=class{},E.get=function(){return[]};var B=R(75);E.BaseHandler=B.BaseHandler},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class I{constructor(A){this.hostComponent=A}redrawComponent(){this.hostComponent.forceRedraw()}addListener(A,N){this.hostComponent.addListener(A,N)}addListeners(A,N){this.hostComponent.addListeners(A,N)}emitEvent(A,N){this.hostComponent.emitEvent(A,N)}emitComponentEvent(A,N){this.hostComponent.emitComponentEvent(A,N)}get layer(){return this.hostComponent.layer}}E.ViewBase=I},function(L,E,R){'use strict';function I(ye){var Me=ye?{v:ye}:{};return(0,N.inherits)(H,(0,A.createTokenClass)(),Me)}E.__esModule=!0,E.AMPERSAND=E.CLOSEPAREN=E.CLOSEANGLEBRACKET=E.CLOSEBRACKET=E.CLOSEBRACE=E.OPENPAREN=E.OPENANGLEBRACKET=E.OPENBRACKET=E.OPENBRACE=E.WS=E.TLD=E.SYM=E.UNDERSCORE=E.SLASH=E.MAILTO=E.PROTOCOL=E.QUERY=E.POUND=E.PLUS=E.NUM=E.NL=E.LOCALHOST=E.PUNCTUATION=E.DOT=E.COLON=E.AT=E.DOMAIN=E.Base=void 0;var A=R(46),N=R(22),H=(0,A.createTokenClass)();H.prototype={toString:function(){return this.v+''}};var B=I(),z=I('@'),W=I(':'),J=I('.'),G=I(),$=I(),K=I('\n'),X=I(),Q=I('+'),Z=I('#'),ee=I(),te=I('mailto:'),ne=I('?'),ae=I('/'),se=I('_'),de=I(),ie=I(),oe=I(),le=I('{'),ue=I('['),_e=I('<'),ce=I('('),me=I('}'),pe=I(']'),ge=I('>'),he=I(')'),fe=I('&');E.Base=H,E.DOMAIN=B,E.AT=z,E.COLON=W,E.DOT=J,E.PUNCTUATION=G,E.LOCALHOST=$,E.NL=K,E.NUM=X,E.PLUS=Q,E.POUND=Z,E.QUERY=ne,E.PROTOCOL=ee,E.MAILTO=te,E.SLASH=ae,E.UNDERSCORE=se,E.SYM=de,E.TLD=ie,E.WS=oe,E.OPENBRACE=le,E.OPENBRACKET=ue,E.OPENANGLEBRACKET=_e,E.OPENPAREN=ce,E.CLOSEBRACE=me,E.CLOSEBRACKET=pe,E.CLOSEANGLEBRACKET=ge,E.CLOSEPAREN=he,E.AMPERSAND=fe},function(L){var R=function(){return this}();try{R=R||Function('return this')()||(1,eval)('this')}catch(I){'object'==typeof window&&(R=window)}L.exports=R},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(4),z=R(5);class W extends H.CTILComponent{static get is(){return'ct-il-incident-severity-pill'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{font-size:inherit}:host .severity{display:inline-flex;align-items:center;min-width:8.5em;padding:0.3em 1em;margin:0;border-radius:0 20px 20px 0;color:#fff}:host .severity .time{font-weight:700;margin:0 0.5em 0 0}:host .severity .label{font-weight:400}
        `}generateComponentMarkup(){if(!this.incident)return null;const J=B.buildStyles({backgroundColor:this.incident.severity.colorCode});return window.__CTRender('div',{class:'severity',style:J},window.__CTRender('span',{class:'time'},z.formatDate(this.incident.opened.date,'HH:mm')),window.__CTRender('span',{class:'label'},this.incident.severity.name))}}I([N.prop({type:Object,attribute:!1})],W.prototype,'incident',void 0),E.CTILIncidentSeverityPill=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(z,W,J,G){var $=arguments.length,K=3>$?W:null===G?G=Object.getOwnPropertyDescriptor(W,J):G,X;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)K=Reflect.decorate(z,W,J,G);else for(var Q=z.length-1;0<=Q;Q--)(X=z[Q])&&(K=(3>$?X(K):3<$?X(W,J,K):X(W,J))||K);return 3<$&&K&&Object.defineProperty(W,J,K),K},A=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10);class B extends H.CTILComponent{constructor(){super(...arguments),this._updateTimeout=null}static get is(){return'ct-il-time-diff-display'}initialize(){return A(this,void 0,void 0,function*(){clearTimeout(this._updateTimeout),this._updateTimeout=setTimeout(()=>this._update(),1e3*this.refreshInterval)})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block;font-size:inherit;font-weight:inherit}
        `}generateComponentMarkup(){if(null!==this.ts){const z=this.layer.getSyncedTimestamp(),W=Math.min(z,this.ts),J=Math.max(z,this.ts),$=Math.floor((J-W)/1e3/60),K=1>$?'< 1':$.toString(),X=this.showLabel?1>=$?' min':' mins':'';return window.__CTRender('span',null,K,X)}}disconnectedCallback(){clearTimeout(this._updateTimeout)}_update(){this.forceRedraw(),clearTimeout(this._updateTimeout),this._updateTimeout=setTimeout(()=>this._update(),1e3*this.refreshInterval)}}I([N.prop({type:N.NullableNumber,attribute:!0,default:null})],B.prototype,'ts',void 0),I([N.prop({type:Number,attribute:!0,default:15})],B.prototype,'refreshInterval',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],B.prototype,'showLabel',void 0),E.CTILTimeDiffDisplay=B,B.register()},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(58),A=R.n(I),N=R(59);E['default']=R.i(N.a)(A.a)},function(L,E){'use strict';function I(){const J=window.navigator.userAgent;return /Android/i.test(J)?'android':/iPhone|iPad|iPod/i.test(J)?'ios':/Electron/i.test(J)?'electron':/Chrome/i.test(J)?'chrome':/Safari/i.test(J)?'safari':/Edge/i.test(J)?'edge':z.MSInputMethodContext&&W.documentMode?'ie':null}Object.defineProperty(E,'__esModule',{value:!0});const z=window,W=document;E.getPlatformName=I,E.isElectron=function(){return'electron'===I()},E.isWindows=function(){return-1!==navigator.userAgent.toUpperCase().indexOf('WINDOWS')},E.isDevice=function(){const J=I();return'android'===J||'ios'===J},E.isBrowser=function(){const J=I();return'chrome'===J||'safari'===J||'ie'===J||'edge'===J}},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q};Object.defineProperty(E,'__esModule',{value:!0});const A=R(16),N=R(0),H=R(79);window.__CTRender=window.skate.h;const B=[H.OverridingStylesMixin,H.ComponentStylesMixin,H.RenderMixin],z=B.reduce((J,G)=>G(J),A.Component);class W extends z{renderHtml(J,G){(void 0===J||null===J)&&(J='');const $=-1!==J.indexOf('<')||-1!==J.indexOf('>')||-1!==J.indexOf('&lt;')||-1!==J.indexOf('&gt;');if(!$)return J;const K=`html_${G||performance.now().toString().replace('.','')}`,X=A.h('span',{id:K,class:'user-html',style:{display:'inline-block'}});return this.onRenderComplete(()=>{if(this.shadowRoot){const Q=this.shadowRoot.querySelector(`#${K}`);Q&&(Q.innerHTML=J)}},!0),X}onRenderComplete(J,G=!1){this.addEventListener('render-complete',function $(){J(),G&&this.removeEventListener('render-complete',$)})}renderedCallback(){super.renderedCallback(),this.dispatchEvent(new CustomEvent('render-complete'))}forceRedraw(){this._renderTrigger=new Date().getTime()}static register(){if(null===this.is)return void console.error('Could not register component, please ensure that it has a static is property');const J=customElements.get(this.is);J||customElements.define(this.is,this)}}W.is=null,I([N.prop({type:Number,attribute:!1,default:0})],W.prototype,'_renderTrigger',void 0),E.CTBaseComponent=W},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class I{static addInstance(A,N){I.ensureRegistrationsObject(),window.__CTLayers[A]={instance:N,isReady:!1}}static getInstance(A){I.ensureRegistrationsObject();const N=window.__CTLayers[A];return!N?null:N.instance}static onReady(A,N){I.ensureRegistrationsObject();const H=window.__CTLayers[A],B=!!H&&H.isReady;B?setTimeout(()=>{N()},0):document.addEventListener(`base-layer-ready:${A}`,()=>{setTimeout(()=>{N()},0)})}static fireReady(A){I.ensureRegistrationsObject();const N=window.__CTLayers[A];!N||(N.isReady=!0),document.dispatchEvent(new CustomEvent(`base-layer-ready:${A}`,{detail:{layer:N.instance}}))}static ensureRegistrationsObject(){window.__CTLayers||(window.__CTLayers={})}}E.LayerRegistration=I,window.CtLayerRegistration=I},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(68);E.IQError=I.IQError;var A=R(69);E.NotConnectedError=A.NotConnectedError},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(15);var A;(function(B){B[B.PLEASE_WAIT='Please wait...']='PLEASE_WAIT',B[B.ERROR='Error']='ERROR',B[B.ERROR_OCCURED='An error occurred']='ERROR_OCCURED',B[B.YES='Yes']='YES',B[B.NO='No']='NO',B[B.OKAY='Okay']='OKAY'})(A||(A={}));class N{static _create(){return new I.Metadata(H,A)}static get instance(){return this._instance||(this._instance=this._create())}}N._instance=null,E.DefaultAlertsMetadata=N;class H{constructor(B){this._translationProvider=B,this._metadata=N.instance}AlertWaiting(B){return{id:this.generateId(),raisedOn:new Date().getTime(),priority:1,type:'info',title:this._translate(A.PLEASE_WAIT),body:B,showLoadingAnimation:!0}}AlertErrorWithOkayButton(B=this._translate(A.ERROR),z=this._translate(A.OKAY),W=1,J={}){return{id:this.generateId(),raisedOn:new Date().getTime(),priority:W,type:'error',title:B,body:z,buttons:[{text:this._translate(A.OKAY),action:J.okay,type:'primary'}]}}AlertYesNoQuestion(B,z,W=0,J={}){return{id:this.generateId(),raisedOn:new Date().getTime(),priority:W,type:'question',title:B,body:z,buttons:[{text:this._translate(A.NO),action:J.no,type:'primary'},{text:this._translate(A.YES),action:J.yes,type:'primary'}]}}AlertQuestion(B,z,W=0,J){return{id:this.generateId(),raisedOn:new Date().getTime(),priority:W,type:'question',title:B,body:z,buttons:J}}AlertAcknowledge(B,z,W=0,J={},G=this._translate(A.OKAY)){return{id:this.generateId(),raisedOn:new Date().getTime(),priority:W,type:'success',title:B,body:z,buttons:[{text:G,action:J.okay,type:'primary'}]}}generateId(){return'alert_'+new Date().getTime().toString()}_translate(B){return this._translationProvider.translateI18nItem(this._metadata.getI18nItem(B))}}E.DefaultAlerts=H},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A.COMMON={StatusOnline:{viewBox:'0 0 1024 1024',paths:['M470.923457,555.52087 L517.156966,555.52087 L678.97425,987.033627 L309.106173,987.033627 L470.923457,555.52087 Z M581.144144,581.041767 L537.561355,537.458979 C548.780687,526.239647 555.684891,510.828477 555.684891,493.87619 C555.684891,459.848327 528.068075,432.231511 494.040212,432.231511 C459.950704,432.231511 432.395532,459.848327 432.395532,493.87619 C432.395532,510.828477 439.238091,526.239647 450.457423,537.458979 L406.874635,581.041767 C384.559261,558.726393 370.750852,527.904054 370.750852,493.87619 C370.750852,425.75882 425.922841,370.586831 494.040212,370.586831 C562.095938,370.586831 617.329571,425.75882 617.329571,493.87619 C617.329571,527.904054 603.459518,558.726393 581.144144,581.041767 Z M494.040212,185.652792 L493.916922,185.652792 C664.179527,185.652792 802.14032,323.67523 802.14032,493.87619 C802.14032,579.007493 767.680944,656.063343 711.892509,711.851778 L668.309721,668.268989 C712.940469,623.638241 740.495641,561.993561 740.495641,493.937835 C740.495641,357.764738 630.213309,247.359117 494.040212,247.359117 C357.80547,247.359117 247.461493,357.764738 247.461493,493.937835 C247.461493,561.993561 274.95502,623.638241 319.647413,668.268989 L276.064625,711.851778 C220.337834,656.063343 185.816814,579.007493 185.816814,493.87619 C185.816814,323.67523 323.777607,185.652792 494.040212,185.652792 Z M494.040212,0.718753674 C766.386406,0.718753674 987.197648,221.529996 987.197648,493.87619 C987.197648,630.049288 931.964016,753.338647 842.702519,842.600143 L799.119731,799.017354 C877.22354,720.97519 925.552969,613.097001 925.552969,493.87619 C925.552969,255.557859 732.296898,62.3634333 494.040212,62.3634333 C255.72188,62.3634333 62.5274544,255.557859 62.5274544,493.87619 C62.5274544,613.097001 110.733594,720.97519 188.899048,799.017354 L145.316259,842.600143 C56.0547631,753.338647 0.882774838,630.049288 0.882774838,493.87619 C0.882774838,221.529996 221.632372,0.718753674 494.040212,0.718753674 Z']},StatusOffline:{viewBox:'0 0 1024 1024',paths:['M586.678306,210.286115 C562.139482,203.996961 536.419525,200.652792 509.916922,200.652792 L510.040212,200.652792 C339.777607,200.652792 201.816814,338.67523 201.816814,508.87619 C201.816814,535.342777 205.153389,561.028843 211.426433,585.537988 L264.560722,532.403699 C263.833299,524.67956 263.461493,516.852047 263.461493,508.937835 C263.461493,372.764738 373.80547,262.359117 510.040212,262.359117 C517.95418,262.359117 525.7807,262.732021 533.503206,263.461215 L586.678306,210.286115 Z M806.86787,425.990261 C814.213724,452.364232 818.14032,480.162284 818.14032,508.87619 C818.14032,594.007493 783.680944,671.063343 727.892509,726.851778 L684.309721,683.268989 C728.940469,638.638241 756.495641,576.993561 756.495641,508.937835 C756.495641,498.546495 755.853446,488.305204 754.606559,478.251572 L806.86787,425.990261 Z','M729.725748,67.238671 C663.573003,34.2656239 588.970927,15.7187537 510.040212,15.7187537 C237.632372,15.7187537 16.8827748,236.529996 16.8827748,508.87619 C16.8827748,587.810373 35.420918,662.415536 68.3909758,728.573445 L114.711707,682.252714 C91.4312107,629.204161 78.5274544,570.558265 78.5274544,508.87619 C78.5274544,270.557859 271.72188,77.3634333 510.040212,77.3634333 C571.684303,77.3634333 630.316005,90.2960769 683.367584,113.596835 L729.725747,67.2386739 L729.725748,67.238671 Z M948.986253,283.87188 C983.639793,351.333945 1003.19765,427.822772 1003.19765,508.87619 C1003.19765,645.049288 947.964016,768.338647 858.702519,857.600143 L815.119731,814.017354 C893.22354,735.97519 941.552969,628.097001 941.552969,508.87619 C941.552969,445.074231 927.701805,384.506419 902.844202,330.013931 L948.98625,283.871881 L948.986253,283.87188 Z','M568.387956,664.470175 L694.97425,1002.03363 L325.106173,1002.03363 L381.675174,851.182956 L568.387956,664.470175 Z M38.537334,1018.85532 L3.14468065,983.537334 L984.462666,0.144680652 L1019.85532,35.462666 L38.537334,1018.85532 Z']},LoadingSpinner:{viewBox:'0 0 1024 1024',paths:['M1005.714 512c0 272.571-221.143 493.714-493.714 493.714s-493.714-221.143-493.714-493.714c0-248 182.857-453.143 420.571-488.571v130.286c-166.857 33.714-292.571 181.714-292.571 358.286 0 201.714 164 365.714 365.714 365.714s365.714-164 365.714-365.714c0-176.571-125.714-324.571-292.571-358.286v-130.286c237.714 35.429 420.571 240.571 420.571 488.571z']},Menu:{viewBox:'0 0 1024 1024',paths:['M64 192h896v128h-896v-128z','M64 448h896v128h-896v-128z','M64 704h896v128h-896v-128z']},ChevronDown:{viewBox:'0 0 1024 1024',paths:['M614.286 420.571q0 7.429-5.714 13.143l-266.286 266.286q-5.714 5.714-13.143 5.714t-13.143-5.714l-266.286-266.286q-5.714-5.714-5.714-13.143t5.714-13.143l28.571-28.571q5.714-5.714 13.143-5.714t13.143 5.714l224.571 224.571 224.571-224.571q5.714-5.714 13.143-5.714t13.143 5.714l28.571 28.571q5.714 5.714 5.714 13.143z']},ChevronLeft:{viewBox:'0 0 1024 1024',paths:['M669.143 172l-303.429 303.429 303.429 303.429q10.857 10.857 10.857 25.714t-10.857 25.714l-94.857 94.857q-10.857 10.857-25.714 10.857t-25.714-10.857l-424-424q-10.857-10.857-10.857-25.714t10.857-25.714l424-424q10.857-10.857 25.714-10.857t25.714 10.857l94.857 94.857q10.857 10.857 10.857 25.714t-10.857 25.714z']},ChevronRight:{viewBox:'0 0 1024 1024',paths:['M632.571 501.143l-424 424q-10.857 10.857-25.714 10.857t-25.714-10.857l-94.857-94.857q-10.857-10.857-10.857-25.714t10.857-25.714l303.429-303.429-303.429-303.429q-10.857-10.857-10.857-25.714t10.857-25.714l94.857-94.857q10.857-10.857 25.714-10.857t25.714 10.857l424 424q10.857 10.857 10.857 25.714t-10.857 25.714z']},ChevronUp:{viewBox:'0 0 1024 1024',paths:['M614.286 676.571q0 7.429-5.714 13.143l-28.571 28.571q-5.714 5.714-13.143 5.714t-13.143-5.714l-224.571-224.571-224.571 224.571q-5.714 5.714-13.143 5.714t-13.143-5.714l-28.571-28.571q-5.714-5.714-5.714-13.143t5.714-13.143l266.286-266.286q5.714-5.714 13.143-5.714t13.143 5.714l266.286 266.286q5.714 5.714 5.714 13.143z']},ClearTextbox:{viewBox:'0 0 1024 1024',paths:['M1014.662 822.66c-0.004-0.004-0.008-0.008-0.012-0.010l-310.644-310.65 310.644-310.65c0.004-0.004 0.008-0.006 0.012-0.010 3.344-3.346 5.762-7.254 7.312-11.416 4.246-11.376 1.824-24.682-7.324-33.83l-146.746-146.746c-9.148-9.146-22.45-11.566-33.828-7.32-4.16 1.55-8.070 3.968-11.418 7.31 0 0.004-0.004 0.006-0.008 0.010l-310.648 310.652-310.648-310.65c-0.004-0.004-0.006-0.006-0.010-0.010-3.346-3.342-7.254-5.76-11.414-7.31-11.38-4.248-24.682-1.826-33.83 7.32l-146.748 146.748c-9.148 9.148-11.568 22.452-7.322 33.828 1.552 4.16 3.97 8.072 7.312 11.416 0.004 0.002 0.006 0.006 0.010 0.010l310.65 310.648-310.65 310.652c-0.002 0.004-0.006 0.006-0.008 0.010-3.342 3.346-5.76 7.254-7.314 11.414-4.248 11.376-1.826 24.682 7.322 33.83l146.748 146.746c9.15 9.148 22.452 11.568 33.83 7.322 4.16-1.552 8.070-3.97 11.416-7.312 0.002-0.004 0.006-0.006 0.010-0.010l310.648-310.65 310.648 310.65c0.004 0.002 0.008 0.006 0.012 0.008 3.348 3.344 7.254 5.762 11.414 7.314 11.378 4.246 24.684 1.826 33.828-7.322l146.746-146.748c9.148-9.148 11.57-22.454 7.324-33.83-1.552-4.16-3.97-8.068-7.314-11.414z']},CircleCross:{viewBox:'0 0 1024 1024',paths:['M512 0c-282.77 0-512 229.23-512 512s229.23 512 512 512 512-229.23 512-512-229.23-512-512-512zM512 928c-229.75 0-416-186.25-416-416s186.25-416 416-416 416 186.25 416 416-186.25 416-416 416z','M672 256l-160 160-160-160-96 96 160 160-160 160 96 96 160-160 160 160 96-96-160-160 160-160z']},Info:{viewBox:'0 0 1024 1024',paths:['M448 304c0-26.4 21.6-48 48-48h32c26.4 0 48 21.6 48 48v32c0 26.4-21.6 48-48 48h-32c-26.4 0-48-21.6-48-48v-32z','M640 768h-256v-64h64v-192h-64v-64h192v256h64z','M512 0c-282.77 0-512 229.23-512 512s229.23 512 512 512 512-229.23 512-512-229.23-512-512-512zM512 928c-229.75 0-416-186.25-416-416s186.25-416 416-416 416 186.25 416 416-186.25 416-416 416z']},RequiredField:{viewBox:'0 0 1024 1024',paths:['M1022.442 406.048c-4.274-13.2-16.566-22.142-30.442-22.142l-343.458-0.012-106.122-325.128c-4.296-13.164-16.572-22.072-30.42-22.072s-26.124 8.908-30.42 22.072l-106.12 325.128-343.46 0.012c-13.876 0-26.168 8.942-30.444 22.142-4.274 13.2 0.446 27.65 11.688 35.784l277.736 200.922-106.056 325.026c-4.298 13.174 0.37 27.618 11.568 35.784 11.198 8.162 26.378 8.194 37.606 0.070l277.902-201.006 277.9 201.004c5.598 4.048 12.176 6.072 18.754 6.072 6.62 0 13.236-2.048 18.854-6.142 11.198-8.166 15.868-22.61 11.568-35.784l-106.056-325.024 277.734-200.922c11.242-8.132 15.962-22.582 11.688-35.784z']},ShowPassword:{viewBox:'0 0 1024 1024',paths:['M512 192c-223.318 0-416.882 130.042-512 320 95.118 189.958 288.682 320 512 320 223.312 0 416.876-130.042 512-320-95.116-189.958-288.688-320-512-320zM764.45 361.704c60.162 38.374 111.142 89.774 149.434 150.296-38.292 60.522-89.274 111.922-149.436 150.296-75.594 48.218-162.89 73.704-252.448 73.704-89.56 0-176.858-25.486-252.452-73.704-60.158-38.372-111.138-89.772-149.432-150.296 38.292-60.524 89.274-111.924 149.434-150.296 3.918-2.5 7.876-4.922 11.86-7.3-9.96 27.328-15.41 56.822-15.41 87.596 0 141.382 114.616 256 256 256 141.382 0 256-114.618 256-256 0-30.774-5.452-60.268-15.408-87.598 3.978 2.378 7.938 4.802 11.858 7.302v0zM512 416c0 53.020-42.98 96-96 96s-96-42.98-96-96 42.98-96 96-96 96 42.982 96 96z']},AlertQuestion:{viewBox:'0 0 1024 1024',paths:['M512 786.286v-109.714q0-8-5.143-13.143t-13.143-5.143h-109.714q-8 0-13.143 5.143t-5.143 13.143v109.714q0 8 5.143 13.143t13.143 5.143h109.714q8 0 13.143-5.143t5.143-13.143zM658.286 402.286q0-50.286-31.714-93.143t-79.143-66.286-97.143-23.429q-138.857 0-212 121.714-8.571 13.714 4.571 24l75.429 57.143q4 3.429 10.857 3.429 9.143 0 14.286-6.857 30.286-38.857 49.143-52.571 19.429-13.714 49.143-13.714 27.429 0 48.857 14.857t21.429 33.714q0 21.714-11.429 34.857t-38.857 25.714q-36 16-66 49.429t-30 71.714v20.571q0 8 5.143 13.143t13.143 5.143h109.714q8 0 13.143-5.143t5.143-13.143q0-10.857 12.286-28.286t31.143-28.286q18.286-10.286 28-16.286t26.286-20 25.429-27.429 16-34.571 7.143-46.286zM877.714 512q0 119.429-58.857 220.286t-159.714 159.714-220.286 58.857-220.286-58.857-159.714-159.714-58.857-220.286 58.857-220.286 159.714-159.714 220.286-58.857 220.286 58.857 159.714 159.714 58.857 220.286z']},AlertWarning:{viewBox:'0 0 1024 1024',paths:['M585.143 785.714v-108.571c0-10.286-8-18.857-18.286-18.857h-109.714c-10.286 0-18.286 8.571-18.286 18.857v108.571c0 10.286 8 18.857 18.286 18.857h109.714c10.286 0 18.286-8.571 18.286-18.857zM584 572l10.286-262.286c0-3.429-1.714-8-5.714-10.857-3.429-2.857-8.571-6.286-13.714-6.286h-125.714c-5.143 0-10.286 3.429-13.714 6.286-4 2.857-5.714 8.571-5.714 12l9.714 261.143c0 7.429 8.571 13.143 19.429 13.143h105.714c10.286 0 18.857-5.714 19.429-13.143zM576 38.286l438.857 804.571c12.571 22.286 12 49.714-1.143 72s-37.143 36-62.857 36h-877.714c-25.714 0-49.714-13.714-62.857-36s-13.714-49.714-1.143-72l438.857-804.571c12.571-23.429 37.143-38.286 64-38.286s51.429 14.857 64 38.286z']},Search:{viewBox:'0 0 1024 1024',paths:['M658.286 475.429c0-141.143-114.857-256-256-256s-256 114.857-256 256 114.857 256 256 256 256-114.857 256-256zM950.857 950.857c0 40-33.143 73.143-73.143 73.143-19.429 0-38.286-8-51.429-21.714l-196-195.429c-66.857 46.286-146.857 70.857-228 70.857-222.286 0-402.286-180-402.286-402.286s180-402.286 402.286-402.286 402.286 180 402.286 402.286c0 81.143-24.571 161.143-70.857 228l196 196c13.143 13.143 21.143 32 21.143 51.429z']},Filter:{viewBox:'0 0 1024 1024',paths:['M869.49 192l-293.49 293.49v296.542l-128 32v-328.542l-293.49-293.49h714.98zM1024 128h-1024l384 384v384l256-64v-320l384-384z']},UserIconEmpty:{viewBox:'0 0 1024 1024',paths:['M686.286 448c80.571 23.429 191.429 102.857 191.429 362.857 0 117.714-87.429 213.143-194.857 213.143h-488c-107.429 0-194.857-95.429-194.857-213.143 0-260 110.857-339.429 191.429-362.857-28.571-45.143-45.143-98.286-45.143-155.429 0-161.143 131.429-292.571 292.571-292.571s292.571 131.429 292.571 292.571c0 57.143-16.571 110.286-45.143 155.429zM438.857 73.143c-121.143 0-219.429 98.286-219.429 219.429s98.286 219.429 219.429 219.429 219.429-98.286 219.429-219.429-98.286-219.429-219.429-219.429zM682.857 950.857c66.857 0 121.714-62.286 121.714-140 0-180-60.571-292.571-173.714-298.286-51.429 45.143-118.286 72.571-192 72.571s-140.571-27.429-192-72.571c-113.143 5.714-173.714 118.286-173.714 298.286 0 77.714 54.857 140 121.714 140h488z']},PlusSign:{viewBox:'0 0 1024 1024',paths:['M804.571 420.571v109.714q0 22.857-16 38.857t-38.857 16h-237.714v237.714q0 22.857-16 38.857t-38.857 16h-109.714q-22.857 0-38.857-16t-16-38.857v-237.714h-237.714q-22.857 0-38.857-16t-16-38.857v-109.714q0-22.857 16-38.857t38.857-16h237.714v-237.714q0-22.857 16-38.857t38.857-16h109.714q22.857 0 38.857 16t16 38.857v237.714h237.714q22.857 0 38.857 16t16 38.857z']},Tick:{viewBox:'0 0 1024 1024',paths:['M864 128l-480 480-224-224-160 160 384 384 640-640z']},TickHollow:{viewBox:'0 0 1024 1024',paths:['M397.434 917.696l-397.868-391.6 197.378-194.27 200.49 197.332 429.62-422.852 197.378 194.27-626.998 617.12zM107.912 526.096l289.524 284.962 518.656-510.482-89.036-87.632-429.62 422.852-200.49-197.334-89.034 87.634z']},Cross:{viewBox:'0 0 1024 1024',paths:['M1014.662 822.66c-0.004-0.004-0.008-0.008-0.012-0.010l-310.644-310.65 310.644-310.65c0.004-0.004 0.008-0.006 0.012-0.010 3.344-3.346 5.762-7.254 7.312-11.416 4.246-11.376 1.824-24.682-7.324-33.83l-146.746-146.746c-9.148-9.146-22.45-11.566-33.828-7.32-4.16 1.55-8.070 3.968-11.418 7.31 0 0.004-0.004 0.006-0.008 0.010l-310.648 310.652-310.648-310.65c-0.004-0.004-0.006-0.006-0.010-0.010-3.346-3.342-7.254-5.76-11.414-7.31-11.38-4.248-24.682-1.826-33.83 7.32l-146.748 146.748c-9.148 9.148-11.568 22.452-7.322 33.828 1.552 4.16 3.97 8.072 7.312 11.416 0.004 0.002 0.006 0.006 0.010 0.010l310.65 310.648-310.65 310.652c-0.002 0.004-0.006 0.006-0.008 0.010-3.342 3.346-5.76 7.254-7.314 11.414-4.248 11.376-1.826 24.682 7.322 33.83l146.748 146.746c9.15 9.148 22.452 11.568 33.83 7.322 4.16-1.552 8.070-3.97 11.416-7.312 0.002-0.004 0.006-0.006 0.010-0.010l310.648-310.65 310.648 310.65c0.004 0.002 0.008 0.006 0.012 0.008 3.348 3.344 7.254 5.762 11.414 7.314 11.378 4.246 24.684 1.826 33.828-7.322l146.746-146.748c9.148-9.148 11.57-22.454 7.324-33.83-1.552-4.16-3.97-8.068-7.314-11.414z']},MenuDots:{viewBox:'0 0 1024 1024',paths:['M384 192c0-70.692 57.308-128 128-128s128 57.308 128 128c0 70.692-57.308 128-128 128s-128-57.308-128-128zM384 512c0-70.692 57.308-128 128-128s128 57.308 128 128c0 70.692-57.308 128-128 128s-128-57.308-128-128zM384 832c0-70.692 57.308-128 128-128s128 57.308 128 128c0 70.692-57.308 128-128 128s-128-57.308-128-128z']},User:{viewBox:'0 0 1024 1024',paths:['M576 706.612v-52.78c70.498-39.728 128-138.772 128-237.832 0-159.058 0-288-192-288s-192 128.942-192 288c0 99.060 57.502 198.104 128 237.832v52.78c-217.102 17.748-384 124.42-384 253.388h896c0-128.968-166.898-235.64-384-253.388z']},Users:{viewBox:'0 0 1408 1024',paths:['M768 705.306v-13.256c92.524-35.408 160-145.59 160-276.050 0-159.058-100.29-288-224-288-123.712 0-224 128.942-224 288 0 130.46 67.476 240.642 160 276.050v13.256c-217.102 8.874-384 62.21-384 126.694v128h896v-128c0-64.484-166.898-117.82-384-126.694z','M1152 448.592v-5.078c73.032-20.754 128-111.146 128-219.514 0-123.712-71.634-224-160-224s-160 100.288-160 224c0 108.37 54.968 198.76 128 219.514v5.078c-31.81 1.172-62.054 4.074-89.878 8.412-6.28 68.208-28.092 131.24-61.738 182.996h471.616v-96c0-49.414-112.006-90.1-256-95.408z','M409.878 457.004c-27.824-4.338-58.070-7.24-89.878-8.412v-5.078c73.032-20.754 128-111.146 128-219.514 0-123.712-71.634-224-160-224s-160 100.288-160 224c0 108.37 54.968 198.76 128 219.514v5.078c-143.994 5.308-256 45.994-256 95.408v96h471.618c-33.646-51.756-55.458-114.788-61.74-182.996z']}}})(I=E.Icons||(E.Icons={}))},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(1),B=R(11),z=R(5);class W extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.IncidentResponse,this.eventType=[H.IncidentEvents._Request_RespondToIncident]}createBotMessage(J){return{incidentid:J.incidentId,response:J.response.toString(),eta:J.eta,autoresponse:J.autoResponse}}handleFailedBotResponse(J,G){return I(this,void 0,void 0,function*(){return new Promise(($)=>I(this,void 0,void 0,function*(){if('incident_update_denied'===G.data.reason){const K=G.data.reasonMessage||'Incident update denied.';this.layer.emit(H.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Cannot update Incident',K,1)),yield this._dismissIncidentAlert(J.incidentId),$(!1)}}))})}handleMessage(J){return I(this,void 0,void 0,function*(){const G=J.data[this.messageKey],$=yield this.layer.getIncidentById(G.incidentid);if($){const K=yield this.layer.getUserByJid(G.senderjid);if(K){const X=z.enumFromString(G.response),Q=B.createUserResponse(J.ts,K,X,G.eta);yield this._addIncidentResponse($,Q),yield this.layer.updateUsersLastSeenMappings()}}})}handleEvent(J,G){return I(this,void 0,void 0,function*(){if(J===H.IncidentEvents._Request_RespondToIncident){const $=G,K=yield this.layer.getIncidentById($.incidentId);if(!K)return;const X=this.layer.getCurrentUser();if(!X)return;try{const Q={incidentId:K.id,response:$.responseStatus,eta:$.eta,autoResponse:$.autoResponse};yield this.layer.sendMessageViaBot(A.IncidentMessageType.IncidentResponse,Q)}catch(Q){this.layer.error('Error sending response',Q)}}})}_addIncidentResponse(J,G){return I(this,void 0,void 0,function*(){const $=this.layer.getCurrentUser();if($&&$.jid===G.responder.jid){const Q=B.isConcludedResponse(G.status);Q&&(yield this._dismissIncidentAlert(J.id))}const K=B.getAndUpdateResponseCollection(J,G,this.layer.config.roles,this.layer.config.behaviour.restrictToPreConfiguredResponses);if(K){B.aggregateResponseCollectionInformation(K),yield this.layer.store.updateIncident(J);const X=B.findUserResponse(J,G.responder.jid);this.layer.emit(H.IncidentEvents.IncidentUpdated,new H.IncidentEventArgs(J)),this.layer.emit(H.IncidentEvents.IncidentResponse,new H.IncidentResponseEventArgs(J,X)),$&&$.jid===G.responder.jid&&B.isConcludedResponse(X.status)&&(yield this._dismissIncidentAlert(J.id))}})}_dismissIncidentAlert(J){return I(this,void 0,void 0,function*(){yield this.layer.store.removePendingAlert(J),this.layer.emit(H.IncidentEvents.IncidentAlertChange)})}}E.IncidentResponseHandler=W},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(9),N=R(8),H=R(1);class B extends A.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=N.IncidentMessageType.RemoveFromRole,this.eventType=[H.IncidentEvents._Request_LeaveRole]}createBotMessage(z){return{roleid:z.role.id,rolename:z.role.name,removeuserjid:z.removeUser&&z.removeUser.jid||null,newuserjid:z.newUser&&z.newUser.jid||null,newusername:z.newUser&&z.newUser.displayName||null}}handleMessage(z){return I(this,void 0,void 0,function*(){const W=this.layer.getCurrentUser();if(!W)return;const J=z.data[this.messageKey];if(this._shouldKickUser(W,J.removeuserjid,J.roleid,z.ts)){const G=this.layer.config.roles.find(($)=>$.id===J.roleid);if(!G)throw new Error(`Unable to find role with id: ${J.roleid} (role name: ${J.rolename})`);J.newuserjid&&this._showKickedOffMessage(G,W,J.newusername),yield this.layer.comms.leaveRole(),yield this.layer.logout()}else yield this.layer.updateAllStateFromBot()})}handleEvent(z){return I(this,void 0,void 0,function*(){if(z===H.IncidentEvents._Request_LeaveRole){const J=this.layer.getCurrentUser();if(!J||!J.role)return;const G={role:J.role,removeUser:J};yield this.layer.sendMessageViaBot(N.IncidentMessageType.RemoveFromRole,G)}})}_shouldKickUser(z,W,J,G){return W&&W!==z.jid?!1:z.role&&z.role.id===J&&!!z.isOnCall&&(z.cameOnCall&&z.cameOnCall>G?!1:!0)}_showKickedOffMessage(z,W,J){const G=this.layer.getLabel('LABEL_USER_KICKED_TITLE',{role:z&&z.name||'',currentUser:W.displayName,newUser:J})||'Attention',$=this.layer.getLabel('LABEL_USER_KICKED_MESSAGE',{role:z&&z.name||'',currentUser:W.displayName,newUser:J})||'You have been replaced in this role by another user.',K=this.defaultAlerts.AlertAcknowledge(G,$,1,{},'Acknowledge');this.layer.emit(H.IncidentEvents._Request_RaiseAlert,K)}}E.RemoveFromRoleHandler=B},function(L,E,R){'use strict';function A(z){if(!z)return null;const W=[B.ResponseStatus.Unable,B.ResponseStatus.Attending,B.ResponseStatus.Acknowledged];return W.includes(z.status)?z.status:null}function N(z){return z===B.ResponseStatus.Unable?'Unable:':z===B.ResponseStatus.Attending?'Attend:':z===B.ResponseStatus.Acknowledged?'Ack:':''}Object.defineProperty(E,'__esModule',{value:!0});const H=R(3),B=R(7);E.incidentResponseCollectionToRoleResponse=function(z,W,J,G){const $=W.responses[0]||null,K=null!==$&&!!$.responder,X=G.find((_e)=>_e.name===W.name),Q=X&&X.attender,Z=K&&J&&J.find((_e)=>_e.jid===$.responder.jid),te=J&&J.some((_e)=>K&&_e.jid===$.responder.jid&&_e.role.id===$.responder.roleId),ne=Z&&Z.connectionStatus===H.ConnectionStatus.Connected,ae=K?$.responder.name||$.responder.jid||'-':'Off Duty',se=K?$.responder.telephone||'-':'',de=A($),ie=null===de?null:$.date,oe=N(de),le=$&&($.state||[]).find((_e)=>_e.state===B.ResponderState.Arrived)||null,ue=(W.collectionState||[]).find((_e)=>_e.state===B.ResponseCollectionState.StandInArranged)||null;return{jid:K&&$.responder.jid,isAttender:Q,wasOnCall:K,isCurrentlyOnCall:te,isOnline:ne,roleId:W.id,roleName:W.name,onCallUserName:ae,onCallUserTelephone:se,transmittedDate:K&&z.opened.date||null,receivedDate:K&&$.received||null,responseDate:ie,responseType:de,responseLabel:oe,arrivedDate:le&&le.date||null,standInDate:ue&&ue.date||null}}},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(4),z=R(2);class W extends N.CTLayerComponent{constructor(){super(...arguments),this._rippleTimeout=null}static get is(){return'ct-button'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}@keyframes ripple{100%{transform:scale(2);opacity:0}}:host{display:block;position:relative}:host button{position:relative;background:transparent;color:#000;padding:0.55em 1em;border:1px solid transparent;border-radius:0;font-family:inherit;font-size:inherit;font-weight:inherit;outline:none;cursor:pointer;overflow:hidden;width:100%;height:100%}:host button .button-content{pointer-events:none;display:inline-flex;justify-content:center;align-items:center}:host button .button-content .icon{display:block}:host button .button-content .label{display:block}:host button .button-content .icon+.label{margin:0 0 0 5px}:host button .ripple{background-color:white;border-radius:50%;opacity:0.4;transform:scale(0.01);position:absolute;pointer-events:none}:host button .ripple.animate{animation:ripple 0.6s ease-out}:host button.primary{background-color:var(--button-primary-bg, #000);border:var(--button-primary-border, 1px solid #000);color:var(--button-primary-text, #fff)}:host button.primary .ripple{background-color:var(--button-primary-ripple, #fff)}:host button.secondary{background-color:var(--button-secondary-bg, rgba(0,0,0,0));border:var(--button-secondary-border, 1px solid #000);color:var(--button-secondary-text, #000)}:host button.secondary .ripple{background-color:var(--button-secondary-ripple, #000)}:host button.tertiary{background-color:var(--button-tertiary-bg, #ddd);border:var(--button-tertiary-border, 1px solid #ddd);color:var(--button-tertiary-text, #000)}:host button.tertiary .ripple{background-color:var(--button-tertiary-ripple, #fff)}:host button.invert-primary{background:var(--button-invert-primary-bg, #fff);border:var(--button-invert-primary-border, 1px solid #fff);color:var(--button-invert-primary-text, #2c394e)}:host button.invert-primary .ripple{background-color:var(--button-invert-primary-ripple, #2c394e)}:host button.invert-secondary{background:var(--button-invert-secondary-bg, rgba(0,0,0,0));border:var(--button-invert-secondary-border, 1px solid #fff);color:var(--button-invert-secondary-text, #fff)}:host button.invert-secondary .ripple{background-color:var(--button-invert-secondary-ripple, #fff)}:host button.selected{background-color:var(--button-selected-bg, #15233b);border:var(--button-selected-border, 1px solid #15233b);color:var(--button-selected-text, #fff)}:host button.selected .ripple{background-color:var(--button-selected-ripple, #fff)}:host button.cancel{background-color:var(--button-cancel-bg, rgba(0,0,0,0));border:var(--button-cancel-border, 1px solid #fff);color:var(--button-cancel-text, #000)}:host button.cancel .ripple{background-color:var(--button-cancel-ripple, #000)}:host button.warning{background-color:var(--button-warning-bg, #fdb851);border:var(--button-warning-border, #fdb851);color:var(--button-warning-text, #fff)}:host button.warning .ripple{background-color:var(--button-warning-ripple, #fff)}:host button.dangerous{background-color:var(--button-dangerous-bg, #f24647);border:var(--button-dangerous-border, #f24647);color:var(--button-dangerous-text, #fff)}:host button.dangerous .ripple{background-color:var(--button-dangerous-ripple, #fff)}:host button.headerBack{background-color:#231f20;border:none;color:white}:host button.headerBack .ripple{background-color:white}:host button.transparent{background-color:transparent;border:none}:host button.large{padding:1.25em 1em}:host button[disabled]{opacity:0.5;cursor:not-allowed}
        `}generateComponentMarkup(){const J=[this.type];this.selected&&J.push('selected'),this.large&&J.push('large'),this.isWaiting&&J.push('waiting'),this.isTransparent&&J.push('transparent');const G=H.Icons.COMMON.LoadingSpinner,$=B.buildStyles();return!this.width||($.width=this.width),!this.textColor||($.color=this.textColor),window.__CTRender('button',{class:J.join(' '),style:$,disabled:this.isWaiting||this.disabled,onClick:(K)=>this.handleButtonClick(K)},window.__CTRender('div',{class:'button-content'},B.renderIf(!this.isWaiting&&!!this.icon,window.__CTRender(z.CTIcon,{icon:this.icon,color:this.iconColor,width:this.iconWidth,height:this.iconHeight,class:'icon'})),B.renderIfElse(this.isWaiting,window.__CTRender(z.CTIcon,{icon:G,color:this.iconColor,width:this.iconHeight,height:this.iconHeight,spin:!0,class:'icon'}),window.__CTRender('div',{class:'label'},window.__CTRender('slot',null)))))}handleButtonClick(J){if(!this.disabled&&(this._ripple(J.offsetX,J.offsetY,J.target),'function'==typeof this.onClick)){const G=Object.create(J,{target:{value:this}});this.onClick(G)}}_ripple(J,G,$){const K=$.querySelector('.ripple');K&&K.remove();const X=$.clientWidth,Q=$.clientHeight,Z=Math.max(X,Q);clearTimeout(this._rippleTimeout),this._rippleTimeout=setTimeout(()=>{const ne=document.createElement('span');ne.classList.add('ripple'),ne.style.width=`${Z}px`,ne.style.height=`${Z}px`,ne.style.left=`${J-Z/2}px`,ne.style.top=`${G-Z/2}px`,$.insertBefore(ne,$.firstChild),ne.addEventListener('animationend',()=>{ne.remove()}),ne.classList.add('animate')},0)}}I([N.prop({type:String,attribute:!0,default:'primary'})],W.prototype,'type',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],W.prototype,'selected',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],W.prototype,'disabled',void 0),I([N.prop({type:String,attribute:!0,default:null})],W.prototype,'width',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],W.prototype,'large',void 0),I([N.prop({type:String,attribute:!0})],W.prototype,'textColor',void 0),I([N.prop({type:String,attribute:!0,default:'auto'})],W.prototype,'iconColor',void 0),I([N.prop({type:String,attribute:!0,default:'18px'})],W.prototype,'iconWidth',void 0),I([N.prop({type:String,attribute:!0,default:'18px'})],W.prototype,'iconHeight',void 0),I([N.prop({type:Function,attribute:!0})],W.prototype,'onClick',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],W.prototype,'isTransparent',void 0),I([N.prop({type:Object,attribute:!1,default:null})],W.prototype,'icon',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],W.prototype,'isWaiting',void 0),E.CTButton=W,W.register()},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(15);var A;(function(N){N[N.TODAY='Today']='TODAY',N[N.YESTERDAY='Yesterday']='YESTERDAY',N[N.ARE_YOU_SURE='Are you sure?']='ARE_YOU_SURE',N[N.PLEASE_WAIT='Please wait...']='PLEASE_WAIT',N[N.AUTHENTICATING='Authenticating...']='AUTHENTICATING',N[N.SYNCING='Syncing with server...']='SYNCING',N[N.LOGIN_ERROR_TITLE='Error logging in']='LOGIN_ERROR_TITLE',N[N.LOGIN_ERROR_GENERIC='Check your connectivity and credentials and try again.']='LOGIN_ERROR_GENERIC',N[N.USER_NOT_FOUND='User {{username}} was not found.']='USER_NOT_FOUND',N[N.FETCH_ERROR='Error fetching data']='FETCH_ERROR',N[N.LOGIN_TIMEOUT='Logging in took longer than expected. Please check your connectivity and log in again.']='LOGIN_TIMEOUT',N[N.LOGOUT_ERROR_TITLE='Error logging out']='LOGOUT_ERROR_TITLE'})(A=E.CommonI18nKeys||(E.CommonI18nKeys={})),E.CommonMetadata=new I.Metadata('Common',A)},function(L,E,R){(function(I,A){var N;(function(H,B){L.exports=B()})(this,function(){'use strict';function H(Qe){return'function'==typeof Qe||'object'==typeof Qe&&null!==Qe}function B(Qe){return'function'==typeof Qe}function G(){return'undefined'==typeof Oe?X():function(){Oe(Q)}}function X(){var Qe=setTimeout;return function(){return Qe(Q,1)}}function Q(){for(var Qe=0;Qe<xe;Qe+=2){var Ze=qe[Qe],et=qe[Qe+1];Ze(et),qe[Qe]=void 0,qe[Qe+1]=void 0}xe=0}function ee(Qe,Ze){var et=arguments,nt=this,at=new this.constructor(ne);void 0===at[We]&&Se(at);var st=nt._state;return st?function(){var dt=et[st-1];Ne(function(){return Me(st,at,dt,nt._result)})}():ge(nt,at,Qe,Ze),at}function te(Qe){var Ze=this;if(Qe&&'object'==typeof Qe&&Qe.constructor===Ze)return Qe;var et=new Ze(ne);return _e(et,Qe),et}function ne(){}function ae(){return new TypeError('You cannot resolve a promise with itself')}function se(){return new TypeError('A promises callback cannot return that same promise.')}function de(Qe){try{return Qe.then}catch(Ze){return $e.error=Ze,$e}}function ie(Qe,Ze,et,nt){try{Qe.call(Ze,et,nt)}catch(at){return at}}function oe(Qe,Ze,et){Ne(function(nt){var at=!1,st=ie(et,Ze,function(dt){at||(at=!0,Ze===dt?me(nt,dt):_e(nt,dt))},function(dt){at||(at=!0,pe(nt,dt))},'Settle: '+(nt._label||' unknown promise'));!at&&st&&(at=!0,pe(nt,st))},Qe)}function le(Qe,Ze){Ze._state===Ve?me(Qe,Ze._result):Ze._state===Ge?pe(Qe,Ze._result):ge(Ze,void 0,function(et){return _e(Qe,et)},function(et){return pe(Qe,et)})}function ue(Qe,Ze,et){Ze.constructor===Qe.constructor&&et===ee&&Ze.constructor.resolve===te?le(Qe,Ze):et===$e?(pe(Qe,$e.error),$e.error=null):void 0===et?me(Qe,Ze):B(et)?oe(Qe,Ze,et):me(Qe,Ze)}function _e(Qe,Ze){Qe===Ze?pe(Qe,ae()):H(Ze)?ue(Qe,Ze,de(Ze)):me(Qe,Ze)}function ce(Qe){Qe._onerror&&Qe._onerror(Qe._result),he(Qe)}function me(Qe,Ze){Qe._state!==Je||(Qe._result=Ze,Qe._state=Ve,0!==Qe._subscribers.length&&Ne(he,Qe))}function pe(Qe,Ze){Qe._state!==Je||(Qe._state=Ge,Qe._result=Ze,Ne(ce,Qe))}function ge(Qe,Ze,et,nt){var at=Qe._subscribers,st=at.length;Qe._onerror=null,at[st]=Ze,at[st+Ve]=et,at[st+Ge]=nt,0===st&&Qe._state&&Ne(he,Qe)}function he(Qe){var Ze=Qe._subscribers,et=Qe._state;if(0!==Ze.length){for(var nt=void 0,at=void 0,st=Qe._result,dt=0;dt<Ze.length;dt+=3)nt=Ze[dt],at=Ze[dt+et],nt?Me(et,nt,at,st):at(st);Qe._subscribers.length=0}}function fe(){this.error=null}function ye(Qe,Ze){try{return Qe(Ze)}catch(et){return Ke.error=et,Ke}}function Me(Qe,Ze,et,nt){var at=B(et),st,dt,ot,lt;if(!at)st=nt,ot=!0;else if(st=ye(et,nt),st===Ke?(lt=!0,dt=st.error,st.error=null):ot=!0,Ze===st)return void pe(Ze,se());Ze._state!==Je||(at&&ot?_e(Ze,st):lt?pe(Ze,dt):Qe===Ve?me(Ze,st):Qe===Ge&&pe(Ze,st))}function Te(Qe,Ze){try{Ze(function(nt){_e(Qe,nt)},function(nt){pe(Qe,nt)})}catch(et){pe(Qe,et)}}function Le(){return Xe++}function Se(Qe){Qe[We]=Xe++,Qe._state=void 0,Qe._result=void 0,Qe._subscribers=[]}function ve(Qe,Ze){this._instanceConstructor=Qe,this.promise=new Qe(ne),this.promise[We]||Se(this.promise),Ae(Ze)?(this._input=Ze,this.length=Ze.length,this._remaining=Ze.length,this._result=Array(this.length),0===this.length?me(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&me(this.promise,this._result))):pe(this.promise,be())}function be(){return new Error('Array Methods must be provided an Array')}function we(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor')}function Ye(){throw new TypeError('Failed to construct \'Promise\': Please use the \'new\' operator, this object constructor cannot be called as a function.')}function ke(Qe){this[We]=Le(),this._result=this._state=void 0,this._subscribers=[],ne!==Qe&&('function'!=typeof Qe&&we(),this instanceof ke?Te(this,Qe):Ye())}var Ie=Array.isArray?Array.isArray:function(Qe){return'[object Array]'===Object.prototype.toString.call(Qe)};var Ae=Ie,xe=0,Oe=void 0,Pe=void 0,Ne=function(Ze,et){qe[xe]=Ze,qe[xe+1]=et,xe+=2,2==xe&&(Pe?Pe(Q):ze())},He='undefined'==typeof window?void 0:window,je=He||{},Ue=je.MutationObserver||je.WebKitMutationObserver,Fe='undefined'==typeof self&&'undefined'!=typeof I&&'[object process]'==={}.toString.call(I),Be='undefined'!=typeof Uint8ClampedArray&&'undefined'!=typeof importScripts&&'undefined'!=typeof MessageChannel,qe=Array(1e3),ze=void 0;ze=Fe?function(){return function(){return I.nextTick(Q)}}():Ue?function(){var Qe=0,Ze=new Ue(Q),et=document.createTextNode('');return Ze.observe(et,{characterData:!0}),function(){et.data=Qe=++Qe%2}}():Be?function(){var Qe=new MessageChannel;return Qe.port1.onmessage=Q,function(){return Qe.port2.postMessage(0)}}():void 0!==He||0?X():function(){try{var Ze=R(177);return Oe=Ze.runOnLoop||Ze.runOnContext,G()}catch(et){return X()}}();var We=Math.random().toString(36).substring(16),Je=void 0,Ve=1,Ge=2,$e=new fe,Ke=new fe,Xe=0;return ve.prototype._enumerate=function(){for(var Qe=this.length,Ze=this._input,et=0;this._state===Je&&et<Qe;et++)this._eachEntry(Ze[et],et)},ve.prototype._eachEntry=function(Qe,Ze){var et=this._instanceConstructor,nt=et.resolve;if(nt===te){var at=de(Qe);if(at===ee&&Qe._state!==Je)this._settledAt(Qe._state,Ze,Qe._result);else if('function'!=typeof at)this._remaining--,this._result[Ze]=Qe;else if(et===ke){var st=new et(ne);ue(st,Qe,at),this._willSettleAt(st,Ze)}else this._willSettleAt(new et(function(dt){return dt(Qe)}),Ze)}else this._willSettleAt(nt(Qe),Ze)},ve.prototype._settledAt=function(Qe,Ze,et){var nt=this.promise;nt._state===Je&&(this._remaining--,Qe===Ge?pe(nt,et):this._result[Ze]=et),0===this._remaining&&me(nt,this._result)},ve.prototype._willSettleAt=function(Qe,Ze){var et=this;ge(Qe,void 0,function(nt){return et._settledAt(Ve,Ze,nt)},function(nt){return et._settledAt(Ge,Ze,nt)})},ke.all=function(Qe){return new ve(this,Qe).promise},ke.race=function(Qe){var Ze=this;return Ae(Qe)?new Ze(function(et,nt){for(var at=Qe.length,st=0;st<at;st++)Ze.resolve(Qe[st]).then(et,nt)}):new Ze(function(et,nt){return nt(new TypeError('You must pass an array to race.'))})},ke.resolve=te,ke.reject=function(Qe){var Ze=this,et=new Ze(ne);return pe(et,Qe),et},ke._setScheduler=function(Qe){Pe=Qe},ke._setAsap=function(Qe){Ne=Qe},ke._asap=Ne,ke.prototype={constructor:ke,then:ee,catch:function(Ze){return this.then(null,Ze)}},ke.polyfill=function(){var Qe;if('undefined'!=typeof A)Qe=A;else if('undefined'!=typeof self)Qe=self;else try{Qe=Function('return this')()}catch(nt){throw new Error('polyfill failed because global object is unavailable in this environment')}var Ze=Qe.Promise;if(Ze){var et=null;try{et=Object.prototype.toString.call(Ze.resolve())}catch(nt){}if('[object Promise]'===et&&!Ze.cast)return}Qe.Promise=ke},ke.Promise=ke,ke})}).call(E,R(174),R(29))},function(L,E,R){'use strict';function I(){return function(W){this.j=[],this.T=W||null}}E.__esModule=!0,E.stateify=E.TokenState=E.CharacterState=void 0;var N=R(22),H=I();H.prototype={defaultTransition:!1,on:function(J,G){if(J instanceof Array){for(var $=0;$<J.length;$++)this.j.push([J[$],G]);return this}return this.j.push([J,G]),this},next:function(J){for(var G=0;G<this.j.length;G++){var $=this.j[G],K=$[0],X=$[1];if(this.test(J,K))return X}return this.defaultTransition},accepts:function(){return!!this.T},test:function(J,G){return J===G},emit:function(){return this.T}};var B=(0,N.inherits)(H,I(),{test:function(J,G){return J===G||G instanceof RegExp&&G.test(J)}}),z=(0,N.inherits)(H,I(),{jump:function(J){var G=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,$=this.next(new J(''));return $===this.defaultTransition?($=new this.constructor(G),this.on(J,$)):G&&($.T=G),$},test:function(J,G){return J instanceof G}});E.CharacterState=B,E.TokenState=z,E.stateify=function(W,J,G,$){for(var K=0,X=W.length,Q=J,Z=[],ee;K<X&&(ee=Q.next(W[K]));)Q=ee,K++;if(K>=X)return[];for(;K<X-1;)ee=new B($),Z.push(ee),Q.on(W[K],ee),Q=ee,K++;return ee=new B(G),Z.push(ee),Q.on(W[X-1],ee),Z}},function(L,E){'use strict';E.__esModule=!0,E.createTokenClass=function(){return function(A){A&&(this.v=A)}}},function(L,E,R){'use strict';var I=this&&this.__decorate||function($,K,X,Q){var Z=arguments.length,ee=3>Z?K:null===Q?Q=Object.getOwnPropertyDescriptor(K,X):Q,te;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ee=Reflect.decorate($,K,X,Q);else for(var ne=$.length-1;0<=ne;ne--)(te=$[ne])&&(ee=(3>Z?te(ee):3<Z?te(K,X,ee):te(K,X))||ee);return 3<Z&&ee&&Object.defineProperty(K,X,ee),ee},A=this&&this.__awaiter||function($,K,X,Q){return new(X||(X=Promise))(function(Z,ee){function te(se){try{ae(Q.next(se))}catch(de){ee(de)}}function ne(se){try{ae(Q['throw'](se))}catch(de){ee(de)}}function ae(se){se.done?Z(se.value):new X(function(de){de(se.value)}).then(te,ne)}ae((Q=Q.apply($,K||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(10),z=R(1),W=R(7),J=R(2);class G extends B.CTILComponent{static get is(){return'ct-il-close-incident-modal'}initialize(){return A(this,void 0,void 0,function*(){this.connectionStatus=this.layer.getConnectionStatus()})}setupListeners(){this.addListener(z.IncidentEvents._Request_LaunchCloseIncidentModal,($)=>{const K=(this.layer.config.closeReasons||[]).findIndex((X)=>X.default);-1!==K&&(this.selectionIdx=K,this.isValid=!0),this._launch($)}),this.addListener(z.IncidentEvents.ConnectionStatusChange,($)=>{this.connectionStatus=$.status})}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:none;width:100%;height:100%;background:var(--modal-overlay, rgba(0,0,0,0.5));position:fixed;z-index:1000;padding:20px;overflow:auto}:host .container{display:flex;flex-direction:column;margin:auto;width:100%;max-width:420px;background:var(--modal-bg, #fff)}:host .container .title{display:flex;justify-content:center;font-size:15px;text-transform:uppercase;padding:10px;text-align:center;background:var(--alert-error-bg, #c80031);color:var(--alert-error-text, #fff)}:host .container .content .close-reason{display:flex;flex-direction:row;align-items:center;padding:10px;background:#f0f0f0}:host .container .content .close-reason .label{margin-right:10px;flex:none}:host .container .content .close-reason .choices{flex:1 1}:host .container .content .message{padding:20px 50px;font-size:18px;font-weight:300;text-align:center}:host .container .buttons{padding:10px 5px;flex:0 0 auto;display:flex;flex-direction:row;justify-content:space-between}:host .container .buttons ct-button{flex:1;margin:0 5px}@media screen and (max-width: 640px){:host .container .content .close-reason .label{font-size:12px}}:host([showing]){display:flex}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:`container ${this.connectionStatus}`},window.__CTRender('div',{class:'title'},'Close Incident'),window.__CTRender('div',{class:'content'},this._renderChoices(),this._renderMessage()),window.__CTRender('div',{class:'buttons'},window.__CTRender(J.CTButton,{type:'primary',onClick:()=>this._close()},'No'),window.__CTRender(J.CTButton,{type:'primary',disabled:!this.isValid||this.connectionStatus===H.ConnectionStatus.Disconnected,onClick:()=>this._closeIncident()},'Yes')))}_renderChoices(){if(!0===this.incident.isTestIncident)return null;const $=(this.layer.config.closeReasons||[]).filter((K)=>!0!==K.unavailable).map((K,X)=>{return{key:X,value:K.buttonLabel||K.label}});return 1<$.length?window.__CTRender('div',{class:'close-reason'},window.__CTRender('div',{class:'label'},'Reason'),window.__CTRender('div',{class:'choices'},window.__CTRender(J.CTSelectionList,{options:$,onSelect:(K)=>this._onSelection(K),selected:this.selectionIdx}))):null}_renderMessage(){const $=this.getLabel('LABEL_CONFIRM_CLOSE_INCIDENT',{priority:this.incident.priority&&this.incident.priority.name||'',severity:this.incident.severity&&this.incident.severity.name||'',patientType:this.incident.patientType&&this.incident.patientType.name||'',location:this.incident.location&&this.incident.location.name||''})||'You are about to close this incident. Is this correct?';return window.__CTRender('div',{class:'message'},this.renderHtml($))}_launch($){$&&$.status===W.IncidentStatus.Open?(this.showing=!0,this.incident=$):(this.showing=!0,this.incident=null)}_onSelection($){this.selectionIdx=$,this.isValid=!0}_closeIncident(){if(this.incident){const $=(this.layer.config.closeReasons||[])[this.selectionIdx];$&&this.emitEvent(z.IncidentEvents._Request_CloseIncident,new z.CloseIncidentEventArgs(this.incident.id,$))}this._close()}_close(){this.showing=!1}}I([N.prop({type:Boolean,attribute:!0,default:!1})],G.prototype,'showing',void 0),I([N.prop({type:Object,attribute:!1})],G.prototype,'incident',void 0),I([N.prop({type:N.NullableNumber,attribute:!1})],G.prototype,'selectionIdx',void 0),I([N.prop({type:Boolean,attribute:!1})],G.prototype,'isValid',void 0),I([N.prop({type:String,attribute:!1,default:H.ConnectionStatus.Disconnected})],G.prototype,'connectionStatus',void 0),E.CTILCloseIncidentModal=G,G.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(Q,Z,ee,te){var ne=arguments.length,ae=3>ne?Z:null===te?te=Object.getOwnPropertyDescriptor(Z,ee):te,se;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ae=Reflect.decorate(Q,Z,ee,te);else for(var de=Q.length-1;0<=de;de--)(se=Q[de])&&(ae=(3>ne?se(ae):3<ne?se(Z,ee,ae):se(Z,ee))||ae);return 3<ne&&ae&&Object.defineProperty(Z,ee,ae),ae},A=this&&this.__awaiter||function(Q,Z,ee,te){return new(ee||(ee=Promise))(function(ne,ae){function se(oe){try{ie(te.next(oe))}catch(le){ae(le)}}function de(oe){try{ie(te['throw'](oe))}catch(le){ae(le)}}function ie(oe){oe.done?ne(oe.value):new ee(function(le){le(oe.value)}).then(se,de)}ie((te=te.apply(Q,Z||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(10),z=R(7),W=R(1),J=R(11),G=R(5),$=R(4),K=R(2);class X extends B.CTILComponent{constructor(){super(...arguments),this.TIMER_ID='incidentModalTimer',this.previousData=null}static get is(){return'ct-il-incident-alert'}initialize(){return A(this,void 0,void 0,function*(){const Q=this.layer.getConnectionStatus();yield this._handleConnectionStatus(Q)})}setupListeners(){this.addListener(W.IncidentEvents.ConnectionStatusChange,(Q)=>A(this,void 0,void 0,function*(){yield this._handleConnectionStatus(Q.status)})),this.addListener(W.IncidentEvents.IncidentUpdated,(Q)=>A(this,void 0,void 0,function*(){this.incident&&this.incident.id===Q.incident.id&&this.debounce('update',()=>{this._establishIncidentToDisplay()})})),this.addListener(W.IncidentEvents.IncidentClosed,(Q)=>A(this,void 0,void 0,function*(){this.incident&&this.incident.id===Q.incident.id&&this.debounce('update',()=>{this._establishIncidentToDisplay()})})),this.addListener(W.IncidentEvents.IncidentAlertChange,()=>A(this,void 0,void 0,function*(){this.debounce('update',()=>{this._establishIncidentToDisplay()})})),this.addListener(W.IncidentEvents.OnCallUsersChange,()=>A(this,void 0,void 0,function*(){this.forceRedraw()}))}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{height:100%;width:100%;display:flex;flex-direction:column;transform:translateY(100%);will-change:transform;transition:transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);visibility:hidden;position:fixed;top:0;z-index:1}:host .container{position:relative;height:100%;width:100%;display:flex;flex-direction:column;padding:5px;font-size:20px}:host .container .watermark,:host .container .fade-overlay{display:block;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}:host .container .watermark{z-index:1;color:#ffffff;opacity:0.1}:host .container .watermark .icon{position:absolute;bottom:20px;right:0}:host .container .fade-overlay{z-index:2;background:linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 60%, currentColor 75%)}:host .container .header{display:flex;justify-content:space-between;align-items:center;color:#ffffff;font-size:12px;font-weight:300;flex:none;padding:10px 15px;z-index:3}:host .container .header .user{margin:0 0 0 auto;display:flex;align-items:center}:host .container .header .user .label{margin:0 5px 0 0;font-weight:100}:host .container .header .user .username{font-weight:400}:host .container .content{flex:1 1;display:flex;flex-direction:column;overflow:auto;z-index:3}:host .container .content .data{display:flex;flex-direction:row;align-items:center;flex:none;margin:0 0 1px 0;padding:10px 15px;color:white;text-transform:uppercase;background:rgba(255,255,255,0.25)}:host .container .content .data .label{display:flex;flex-direction:row;flex:1 1}:host .container .content .data .icon{text-align:center;flex:0 0 40px;margin:0 0 0 10px}:host .container .content .data .icon.initials-icon{display:flex;justify-content:center;align-items:center;background:#ffffff;min-width:40px;height:40px;border-radius:50%;font-weight:700}:host .container .content .data.severity{text-indent:0}:host .container .content .data.severity .label{align-items:center}:host .container .content .data.severity .label .change{font-size:12px;text-transform:uppercase;border-radius:15px;padding:0 5px;margin:0 5px}:host .container .content .data.severity .label .time{margin:0 0 0 auto;font-weight:300}:host .container .content .data.priority .label,:host .container .content .data.patient-type .label,:host .container .content .data.location .label{margin:0 20px 0 0}:host .container .content .data.closed{height:180px;display:flex;justify-content:center;align-items:center;text-align:center}:host .container .buttons{display:flex;flex:0 0 auto;flex-direction:column;padding:5px;z-index:3}:host .container .buttons ct-button.yes{font-weight:400}:host .container .buttons ct-button.no{font-weight:300}:host .container .buttons ct-button+ct-button{margin:10px 0 0 0}:host([showing]){visibility:visible;transform:translateY(0)}
        `}generateComponentMarkup(){if(!this.showing)return null;if(!this.incident)return null;const Q=this.layer.getCurrentUser();if(!Q||!Q.isOnCall)return null;const Z=J.findUserResponse(this.incident,Q.jid);if(Z&&Z.status===z.ResponseStatus.Unable)return null;const ee=this.incident,te=ee.severity.colorCode,ne=$.buildStyles({backgroundColor:te,color:te});return this.onRenderComplete(()=>{const ae=this.shadowRoot.querySelector('.container');if(ae){const se=ae.style.display;ae.style.display='none',ae.offsetHeight,ae.style.display=se}},!0),this._raiseEventIfChanged(this.incident),window.__CTRender('div',{class:'container',style:ne},window.__CTRender('div',{class:'watermark'},window.__CTRender(K.CTIcon,{class:'icon',width:'200%',height:'200%',icon:z.Icons.INCIDENT_ALERT.Watermark})),window.__CTRender('div',{class:'fade-overlay'}),window.__CTRender('div',{class:'header'},window.__CTRender('div',{class:'online-status'},window.__CTRender(K.CTOnlineIndicator,null)),window.__CTRender('div',{class:'user'},window.__CTRender('span',{class:'label'},'User:'),window.__CTRender(K.CTUserDisplay,{class:'username',showIcon:!1}))),this._renderAlertContent(ee),window.__CTRender('div',{class:'buttons'},this._renderButtons(ee,Q,Z)))}_renderAlertContent(Q){return this.incident.status===z.IncidentStatus.Open?this._renderOpenIncidentDetails(Q):this._renderClosedIncidentDetails(Q)}_renderOpenIncidentDetails(Q){return window.__CTRender('div',{class:'content'},this._renderSeverity(Q),this._renderPriority(Q),this._renderPatientType(Q),this._renderLocation(Q))}_renderClosedIncidentDetails(Q){return window.__CTRender('div',{class:'content'},this._renderSeverity(Q),this._renderClosedNotice(Q))}_renderSeverity(Q){const Z=(Q.actions||[]).filter((ae)=>ae.action===z.IncidentAction.ChangeSeverity);Z.sort((ae,se)=>se.date-ae.date);const ee=Z[0]||null,te=ee?ee.data:null,ne=$.buildStyles({backgroundColor:'#ffffff',color:Q.severity.colorCode});return window.__CTRender('div',{class:'data severity'},window.__CTRender('div',{class:'label'},window.__CTRender('div',{class:'name'},Q.severity.name),$.renderIf(!!te,window.__CTRender('div',{class:'change',style:ne},te)),window.__CTRender('div',{class:'time'},G.formatDate(Q.opened.date,'HH:mm'))),window.__CTRender(K.CTIcon,{class:'icon',width:'20',height:'20',icon:z.Icons.INCIDENT_ALERT.BellFilled}))}_renderPriority(Q){return Q.priority?!1===Q.priority.display?null:window.__CTRender('div',{class:'data priority'},window.__CTRender('div',{class:'label'},Q.priority.name)):null}_renderPatientType(Q){return Q.patientType?window.__CTRender('div',{class:'data patient-type'},window.__CTRender('div',{class:'label'},Q.patientType.name),window.__CTRender(K.CTIcon,{class:'icon',width:'20',height:'20',icon:z.Icons.INCIDENT_ALERT.PatientType})):null}_renderLocation(Q){if(!Q.location)return null;const Z=$.buildStyles({backgroundColor:'#ffffff',color:Q.severity.colorCode});return window.__CTRender('div',{class:'data location'},window.__CTRender('div',{class:'label'},Q.location.name),window.__CTRender('div',{class:'icon initials-icon',style:Z},Q.location.initials||Q.location.shortName||Q.location.name))}_renderClosedNotice(Q){const Z=Q.closedReasonId&&(this.layer.config.closeReasons||[]).find((te)=>te.id===Q.closedReasonId),ee=!Z?'Closed':Z.label||'Closed';return window.__CTRender('div',{class:'data closed'},'Incident',window.__CTRender('br',null),ee)}_renderButtons(Q,Z,ee){const te=Q.severity.colorCode,ne=[z.ResponseStatus.Acknowledged,z.ResponseStatus.Attending,z.ResponseStatus.Unable],ae=ee&&ne.includes(ee.status),se=Q.status===z.IncidentStatus.Closed;return ae||se?[window.__CTRender(K.CTButton,{class:'yes',type:'invert-primary',textColor:te,disabled:!this.connected,onClick:()=>this._acknowledgeAndDismiss()},'ACKNOWLEDGE')]:!Q.isTestIncident&&Z.role&&Z.role.attender?[window.__CTRender(K.CTButton,{class:'yes',type:'invert-primary',textColor:te,large:!0,disabled:!this.connected,onClick:()=>this._sendResponse(z.ResponseStatus.Attending)},'ATTEND'),window.__CTRender(K.CTButton,{class:'no',type:'invert-secondary',disabled:!this.connected,onClick:()=>this._sendResponse(z.ResponseStatus.Unable)},'UNABLE')]:[window.__CTRender(K.CTButton,{class:'yes',type:'invert-primary',textColor:te,disabled:!this.connected,onClick:()=>this._sendResponse(z.ResponseStatus.Acknowledged)},'ACKNOWLEDGE')]}_handleConnectionStatus(Q){return A(this,void 0,void 0,function*(){const Z=this.layer.getCurrentUser();Z||(this.incident=null,this.showing=!1),this.connected=Q===H.ConnectionStatus.Connected,this.connected&&(yield this._establishIncidentToDisplay())})}_establishIncidentToDisplay(){return A(this,void 0,void 0,function*(){const Q=this.layer.getCurrentUser(),Z=G.deepCloneObject(this.incident),ee=yield this.layer.getPendingAlerts();if(Q&&Q.isOnCall&&0<ee.length){const te=ee[0];this.incident=yield this.layer.getIncidentById(te),this.showing=null!==this.incident}else this.incident=null,this.showing=!1;if(null!==Z&&!ee.includes(Z.id)){const te=J.findUserResponse(Z,Q.jid,Q.role&&Q.role.id);this.emitEvent(W.IncidentEvents.IncidentAlertDismissed,new W.IncidentAlertEventArgs(Z,te))}})}_sendResponse(Q){return A(this,void 0,void 0,function*(){this.incident&&this.emitEvent(W.IncidentEvents._Request_RespondToIncident,new W.RespondedToIncidentEventArgs(this.incident.id,Q,0))})}_acknowledgeAndDismiss(){return A(this,void 0,void 0,function*(){this.incident&&this.emitEvent(W.IncidentEvents._Request_AcknowledgeIncidentUpdate,new W.IncidentEventArgs(this.incident))})}_raiseEventIfChanged(){if(this.incident){const Z=G.deepCloneObject(this.incident);delete Z.responses;const ee=JSON.stringify(Z);if(ee!==this.previousData){const te=this.layer.getCurrentUser(),ne=J.findUserResponse(this.incident,te.jid,te.role&&te.role.id);this.emitEvent(W.IncidentEvents.IncidentAlert,new W.IncidentAlertEventArgs(this.incident,ne)),this.previousData=ee}}}}I([N.prop({type:Boolean,attribute:!0,default:!1})],X.prototype,'showing',void 0),I([N.prop({type:Object,attribute:!1,default:null})],X.prototype,'incident',void 0),I([N.prop({type:Boolean,attribute:!1,default:!1})],X.prototype,'connected',void 0),E.CTILIncidentAlert=X,X.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function($,K,X,Q){var Z=arguments.length,ee=3>Z?K:null===Q?Q=Object.getOwnPropertyDescriptor(K,X):Q,te;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ee=Reflect.decorate($,K,X,Q);else for(var ne=$.length-1;0<=ne;ne--)(te=$[ne])&&(ee=(3>Z?te(ee):3<Z?te(K,X,ee):te(K,X))||ee);return 3<Z&&ee&&Object.defineProperty(K,X,ee),ee},A=this&&this.__awaiter||function($,K,X,Q){return new(X||(X=Promise))(function(Z,ee){function te(se){try{ae(Q.next(se))}catch(de){ee(de)}}function ne(se){try{ae(Q['throw'](se))}catch(de){ee(de)}}function ae(se){se.done?Z(se.value):new X(function(de){de(se.value)}).then(te,ne)}ae((Q=Q.apply($,K||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(23),z=R(1),W=R(11),J=R(4);class G extends H.CTILComponent{constructor(){super(...arguments),this._initialized=!1}static get is(){return'ct-il-incident-list'}initialize(){return A(this,void 0,void 0,function*(){this.incidents=yield this.layer.getIncidents()})}setupListeners(){this.addListeners([z.IncidentEvents.NewIncident,z.IncidentEvents.IncidentUpdated,z.IncidentEvents.IncidentClosed],()=>A(this,void 0,void 0,function*(){this.debounce('update',()=>A(this,void 0,void 0,function*(){this.incidents=yield this.layer.getIncidents()}))}))}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host .no-incidents{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;font-size:18px;font-weight:400}
        `}generateComponentMarkup(){const $=this._getFilteredSortedIncidents();return J.renderIfElse(0<$.length,this._renderIncidents($),this._renderEmpty())}_renderIncidents($){return window.__CTRender('div',{class:'incident-list'},$.map((K)=>window.__CTRender(B.CTILIncidentDisplay,{incident:K,view:this.view,viewOptions:this.viewOptions})))}_renderEmpty(){return J.renderIf(!!this.noIncidentsMessage,window.__CTRender('div',{class:'no-incidents'},this.noIncidentsMessage))}_getFilteredSortedIncidents(){let $=[...(this.incidents||[])];this.showTestIncidents||($=$.filter((X)=>!X.isTestIncident));const K=this.layer.getSyncedTimestamp();return $=W.filterIncidents($,'status',this.statusFilter),$=W.orderIncidents($,this.orderBy,this.orderByReverse),$=W.truncateIncidents($,this.maxIncidents,this.maxIncidentAge,K),$}}I([N.prop({type:Number,attribute:!0,default:0})],G.prototype,'maxIncidents',void 0),I([N.prop({type:Number,attribute:!0,default:0})],G.prototype,'maxIncidentAge',void 0),I([N.prop({type:String,attribute:!0,default:'all'})],G.prototype,'statusFilter',void 0),I([N.prop({type:String,attribute:!0,default:'opened_date'})],G.prototype,'orderBy',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],G.prototype,'orderByReverse',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],G.prototype,'showTestIncidents',void 0),I([N.prop({type:String,attribute:!0})],G.prototype,'noIncidentsMessage',void 0),I([N.prop({type:String,attribute:!0})],G.prototype,'view',void 0),I([N.prop({type:String,attribute:!0})],G.prototype,'viewOptions',void 0),I([N.prop({type:Array,attribute:!1,default:[]})],G.prototype,'incidents',void 0),E.CTILIncidentList=G,G.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(G,$,K,X){var Q=arguments.length,Z=3>Q?$:null===X?X=Object.getOwnPropertyDescriptor($,K):X,ee;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Z=Reflect.decorate(G,$,K,X);else for(var te=G.length-1;0<=te;te--)(ee=G[te])&&(Z=(3>Q?ee(Z):3<Q?ee($,K,Z):ee($,K))||Z);return 3<Q&&Z&&Object.defineProperty($,K,Z),Z},A=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(1),z=R(23),W=R(4);class J extends H.CTILComponent{static get is(){return'ct-il-last-incident-display'}initialize(){return A(this,void 0,void 0,function*(){this.incident=yield this.layer.getCurrentIncident()})}setupListeners(){this.addListeners([B.IncidentEvents.NewIncident,B.IncidentEvents.IncidentUpdated,B.IncidentEvents.IncidentClosed],()=>A(this,void 0,void 0,function*(){this.debounce('update',()=>A(this,void 0,void 0,function*(){this.incident=yield this.layer.getCurrentIncident()}))}))}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host .no-incidents{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;font-size:18px;font-weight:400}
        `}generateComponentMarkup(){const G={view:'responsesummary',viewOptions:JSON.stringify({headerOptions:{layout:'stacked',showSeverity:!0,showLocation:!0,showPriority:!0,showPatientType:!1,showCreator:!0,showStatus:!0,allowSeverityChange:!1,allowClose:!1},showRespondents:!1,respondentOrderBy:'date',respondentOrderByReverse:!1,respondentStatusFilter:'all',showIndividualResponses:!1,showCurrentUserResponse:!0})};return W.renderIfElse(!!this.incident,window.__CTRender(z.CTILIncidentDisplay,Object.assign({incident:this.incident},G)),window.__CTRender('div',{class:'no-incidents'},'No incident to display'))}}I([N.prop({type:Object,attribute:!1,default:null})],J.prototype,'incident',void 0),E.CTILLastIncidentDisplay=J,J.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(1),z=R(2);class W extends H.CTILComponent{static get is(){return'ct-il-new-incident-button'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}
        `}generateComponentMarkup(){return window.__CTRender(z.CTButton,{type:this.type,onClick:()=>this._triggerRequestNewIncident()},window.__CTRender('slot',null,'New Incident'))}_triggerRequestNewIncident(){const J=this.predefinedIncidentId&&this.layer.config.predefinedIncidents.find((G)=>G.id===this.predefinedIncidentId)||null;this.emitEvent(B.IncidentEvents._Request_NewIncident,new B.RequestNewIncidentEventArgs(J))}}I([N.prop({type:String,attribute:!0,default:'primary'})],W.prototype,'type',void 0),I([N.prop({type:String,attribute:!0})],W.prototype,'predefinedIncidentId',void 0),E.CTILNewIncidentButton=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function($,K,X,Q){var Z=arguments.length,ee=3>Z?K:null===Q?Q=Object.getOwnPropertyDescriptor(K,X):Q,te;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ee=Reflect.decorate($,K,X,Q);else for(var ne=$.length-1;0<=ne;ne--)(te=$[ne])&&(ee=(3>Z?te(ee):3<Z?te(K,X,ee):te(K,X))||ee);return 3<Z&&ee&&Object.defineProperty(K,X,ee),ee},A=this&&this.__awaiter||function($,K,X,Q){return new(X||(X=Promise))(function(Z,ee){function te(se){try{ae(Q.next(se))}catch(de){ee(de)}}function ne(se){try{ae(Q['throw'](se))}catch(de){ee(de)}}function ae(se){se.done?Z(se.value):new X(function(de){de(se.value)}).then(te,ne)}ae((Q=Q.apply($,K||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(10),z=R(1),W=R(4),J=R(2);class G extends B.CTILComponent{constructor(){super(...arguments),this._prioritySelectionItems=[],this._severitySelectionItems=[],this._patientTypeSelectionItems=[],this._locationSelectionItems=[],this._previousApplicableLocationIds=[]}static get is(){return'ct-il-new-incident-modal'}initialize(){return A(this,void 0,void 0,function*(){this._prioritySelectionItems=(this.layer.config.priorities||[]).filter(($)=>!0!==$.unavailable).map(($,K)=>{return{key:K,value:this._getItemName($)}}),this._severitySelectionItems=(this.layer.config.severities||[]).filter(($)=>!0!==$.unavailable).map(($,K)=>{return{key:K,value:this._getItemName($)}}),this._patientTypeSelectionItems=(this.layer.config.patientTypes||[]).filter(($)=>!0!==$.unavailable).map(($,K)=>{return{key:K,value:this._getItemName($)}}),this._updateConnectionStatus(this.layer.getConnectionStatus())})}setupListeners(){this.addListener(z.IncidentEvents._Request_LaunchNewIncidentModal,()=>{this._launch()}),this.addListener(z.IncidentEvents._Request_LaunchOfflineModal,()=>{this._launchOffline()}),this.addListener(z.IncidentEvents.ConnectionStatusChange,($)=>{this._updateConnectionStatus($.status),!0===this.offlineMode&&$.status===H.ConnectionStatus.Connected&&this._close()})}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{width:100%;height:100%;display:flex;background:var(--modal-overlay, rgba(0,0,0,0.5));opacity:0;visibility:hidden;position:fixed;z-index:1}:host .container{display:flex;flex-direction:column;margin:auto;width:400px;height:90vh;background:var(--modal-bg, #fff);transform:translateY(100%);will-change:transform;transition:transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);visibility:hidden}:host .container .title{display:flex;justify-content:space-between;align-items:center;font-size:12px;font-weight:300;flex:none;flex-basis:var(--header-height, 50px);background-color:var(--primary-color, #15233b);color:var(--primary-font-color, #fff);padding:0 15px}:host .container .sub-title{flex:none;background-color:var(--sub-header-bg, #000);color:var(--sub-header-text, #fff);padding:10px 15px;text-align:center;font-size:18px;font-weight:300}:host .container .content{flex:1 1 auto;overflow:auto}:host .container .content .selection{position:relative}:host .container .content .selection .heading{position:relative;text-align:center;z-index:1}:host .container .content .selection .heading:before{content:"";margin:0 auto;position:absolute;top:50%;left:0;right:0;bottom:0;border-top:1px solid #9b9b9b;z-index:-1}:host .container .content .selection .heading .label{font-size:15px;font-weight:400;padding:0 20px;background-color:var(--modal-bg, #fff)}:host .container .content .selection .choices{padding:20px}:host .container .content .offline{padding:20px}:host .container .buttons{padding:5px 0;flex:0 0 auto;display:flex;flex-direction:row;justify-content:space-between}:host .container .buttons ct-button{flex:1;margin:0 5px}:host .container.disconnected{height:auto}:host .container.disconnected .title{background-color:var(--primary-color-offline, #9b9b9b)}:host .container.disconnected .sub-title{background-color:var(--alert-error-bg, #c80031)}:host .container.disconnected .content{padding:20px;text-align:center}@media screen and (max-width: 640px){:host .container{width:100%;height:100%;min-width:100%;max-height:100%}}:host([showing]){visibility:visible;transition:opacity 0.25s ease-in;opacity:1}:host([showing]) div.container{visibility:visible;transform:translateY(0)}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:`container ${this.connectionStatus}`},window.__CTRender('div',{class:'title'},this._renderTitle()),window.__CTRender('div',{class:'sub-title'},this._renderSubtitle()),window.__CTRender('div',{class:'content'},this._renderBody()),window.__CTRender('div',{class:'buttons'},this._renderButtons()))}_renderTitle(){return window.__CTRender(J.CTOnlineIndicator,null)}_renderSubtitle(){return W.renderIfElse(this.connectionStatus===H.ConnectionStatus.Connected&&!1===this.offlineMode,window.__CTRender('div',null,'New Incident'),window.__CTRender('div',null,'SYSTEM OFFLINE'))}_renderBody(){if(this.connectionStatus===H.ConnectionStatus.Connected&&!1===this.offlineMode)return[this._renderSelectionRow(this._prioritySelectionItems,'priority'),this._renderSelectionRow(this._severitySelectionItems,'severity'),this._renderSelectionRow(this._patientTypeSelectionItems,'patientType'),this._renderSelectionRow(this._locationSelectionItems,'location')].filter(($)=>null!==$);const $=this.getLabel('LABEL_NO_CONNECTIVITY')||'The system is offline and trying to reconnect. Please contact your system administrator if this issue persists.';return[window.__CTRender('div',{class:'offline'},window.__CTRender('div',{class:'icon'},window.__CTRender(J.CTIcon,{icon:H.Icons.COMMON.StatusOffline,width:'64px',height:'64px'})),window.__CTRender('p',null,this.renderHtml($)))]}_renderButtons(){return!1===this.offlineMode?[window.__CTRender(J.CTButton,{type:'cancel',onClick:()=>this._close()},'Cancel'),window.__CTRender(J.CTButton,{type:'primary',disabled:this.disableSend||this.connectionStatus===H.ConnectionStatus.Disconnected,onClick:()=>this._sendNewIncident()},this.layer.config.raiseNewIncidentOptions&&this.layer.config.raiseNewIncidentOptions.sendButtonLabel||'Send')]:[window.__CTRender(J.CTButton,{type:'primary',onClick:()=>this._close()},'Okay')]}_renderSelectionRow($,K){if(!$||0===$.length)return null;if(!this.newIncident||!this.newIncident[K])return null;const X=W.buildStyles({display:this.newIncident[K].show?'block':'none'});let Q='';const Z=this.layer.config.raiseNewIncidentOptions||{};return'priority'===K?Q=this._getHeading(Z.prioritySelectionHeading,'Select Priority'):'severity'===K?Q=this._getHeading(Z.severitySelectionHeading,'Select Severity'):'patientType'===K?Q=this._getHeading(Z.patientTypeSelectionHeading,'Select Patient Type'):'location'===K?Q=this._getHeading(Z.locationSelectionHeading,'Select Location'):void 0,window.__CTRender('div',{class:'selection',style:X},W.renderIf(!!Q,window.__CTRender('div',{class:'heading'},window.__CTRender('span',{class:'label'},Q))),window.__CTRender('div',{class:'choices'},window.__CTRender(J.CTSelectionList,{options:$,onSelect:(ee)=>this._onSelection(K,ee),selected:this.newIncident[K].value})))}_launch(){this.offlineMode=!1,this.newIncident={priority:{show:!this.layer.config.raiseNewIncidentOptions.impliedSelectionForSingleItems||1<this._prioritySelectionItems.length,value:this._getDefaultValueIdx(this.layer.config.priorities)},severity:{show:!this.layer.config.raiseNewIncidentOptions.impliedSelectionForSingleItems||1<this._severitySelectionItems.length,value:this._getDefaultValueIdx(this.layer.config.severities)},patientType:{show:!this.layer.config.raiseNewIncidentOptions.impliedSelectionForSingleItems||1<this._patientTypeSelectionItems.length,value:this._getDefaultValueIdx(this.layer.config.patientTypes)},location:{show:!0,value:null},isTest:!1},this._determineCorrectLocations(),this._validate(),this.showing=!0}_launchOffline(){this.offlineMode=!0,this.showing=!0}_getHeading($,K){return null===$||$===void 0?K:$}_getItemName($){return $.name.length<=15?$.name:$.shortName||$.name}_getDefaultValueIdx($){if(this.layer.config.raiseNewIncidentOptions.impliedSelectionForSingleItems&&1===$.length)return 0;const K=$.findIndex((X)=>X.default);return-1===K?null:K}_determineCorrectLocations(){const $=this.layer.config.locations||[];let K=[];const X=$.some((ee)=>!!ee.restrictions&&0<Object.keys(ee.restrictions).length);if(X){const ee=this.newIncident.priority&&null!==this.newIncident.priority.value?this.layer.config.priorities[this.newIncident.priority.value].id:null,te=this.newIncident.severity&&null!==this.newIncident.severity.value?this.layer.config.severities[this.newIncident.severity.value].id:null,ne=this.newIncident.patientType&&null!==this.newIncident.patientType.value?this.layer.config.patientTypes[this.newIncident.patientType.value].id:null;$.forEach((ae)=>{const se=ae.restrictions&&ae.restrictions.priorityIds||null,de=ae.restrictions&&ae.restrictions.severityIds||null,ie=ae.restrictions&&ae.restrictions.patientTypeIds||null;let oe=!0;se&&0<se.length&&!se.includes(ee)&&(oe=!1),de&&0<de.length&&!de.includes(te)&&(oe=!1),ie&&0<ie.length&&!ie.includes(ne)&&(oe=!1),oe&&K.push(ae)})}else K=[...$];const Q=K.map((ee)=>ee.id);this._previousApplicableLocationIds.join(',')!==Q.join(',')&&(this._locationSelectionItems=K.map((ee,te)=>{return{key:te,value:this._getItemName(ee)}}),this._previousApplicableLocationIds=Q);const Z=this.newIncident.location&&null!==this.newIncident.location.value?this.layer.config.locations[this.newIncident.location.value].id:null;Q.includes(Z)||(this.newIncident.location={show:!this.layer.config.raiseNewIncidentOptions.impliedSelectionForSingleItems||1<this._locationSelectionItems.length,value:this._getDefaultValueIdx(K)})}_onSelection($,K){this.newIncident=Object.assign({},this.newIncident,{[$]:{show:this.newIncident[$].show,value:K}}),'location'!==$&&this._determineCorrectLocations(),this._validate()}_validate(){let $=!1;this.newIncident.priority&&null!==this.newIncident.priority.value||($=!0),this.newIncident.severity&&null!==this.newIncident.severity.value||($=!0),this.newIncident.patientType&&null!==this.newIncident.patientType.value||($=!0),this.newIncident.location&&null!==this.newIncident.location.value||($=!0),this.disableSend=$}_updateConnectionStatus($){this.connectionStatus=$}_sendNewIncident(){return A(this,void 0,void 0,function*(){const $=this.layer.config.priorities[this.newIncident.priority.value],K=this.layer.config.severities[this.newIncident.severity.value],X=this.layer.config.patientTypes[this.newIncident.patientType.value],Q=this.layer.config.locations[this.newIncident.location.value],Z=this.getLabel('LABEL_CONFIRM_RAISE_INCIDENT',{priority:$&&$.name||'',severity:K&&K.name||'',patientType:X&&X.name||'',location:Q&&Q.name||''})||'Are you sure you wish to raise this incident?',ee=this.defaultAlerts.AlertQuestion('Raise New Incident?',Z,1,[{text:'Cancel',type:'primary',action:()=>{}},{text:'Confirm',type:'primary',action:()=>{this.emitEvent(z.IncidentEvents._Request_RaiseNewIncident,new z.RaiseNewIncidentEventArgs($,K,X,Q,!1)),this._close()}}]);this.launchModal(ee)})}_close(){this.showing=!1,this.disableSend=!0}}I([N.prop({type:Boolean,attribute:!0,default:!1})],G.prototype,'showing',void 0),I([N.prop({type:Object,attribute:!1})],G.prototype,'newIncident',void 0),I([N.prop({type:Boolean,attribute:!1,default:!0})],G.prototype,'disableSend',void 0),I([N.prop({type:String,attribute:!1,default:H.ConnectionStatus.Disconnected})],G.prototype,'connectionStatus',void 0),I([N.prop({type:Boolean,attribute:!1,default:!1})],G.prototype,'offlineMode',void 0),E.CTILNewIncidentModal=G,G.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(G,$,K,X){var Q=arguments.length,Z=3>Q?$:null===X?X=Object.getOwnPropertyDescriptor($,K):X,ee;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Z=Reflect.decorate(G,$,K,X);else for(var te=G.length-1;0<=te;te--)(ee=G[te])&&(Z=(3>Q?ee(Z):3<Q?ee($,K,Z):ee($,K))||Z);return 3<Q&&Z&&Object.defineProperty($,K,Z),Z},A=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(1),z=R(137),W=R(4);class J extends H.CTILComponent{constructor(){super(...arguments),this._initialized=!1}static get is(){return'ct-il-report-list'}initialize(){return A(this,void 0,void 0,function*(){if(this.view){this.reports=yield this.layer.getReports();const G=this.viewOptions?JSON.parse(this.viewOptions):{};this._view||(this._view=z.getView(this.view,this,G)),this._view&&(yield this._view.initialize(),this._initialized=!0,this.forceRedraw())}})}setupListeners(){this.addListeners([B.IncidentEvents.ReportRequested,B.IncidentEvents.ReportReady,B.IncidentEvents.ReportFailed],()=>A(this,void 0,void 0,function*(){this.reports=yield this.layer.getReports()})),this._view&&this._view.setupListeners()}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:flex}:host .report-list{flex:1}:host .report-list .no-reports{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;font-size:18px;font-weight:400}
        `}generateComponentMarkup(){if(!this._initialized)return null;if(!this._view)return null;const G=this._getFilteredSortedReports();return window.__CTRender('div',{class:`report-list view-${this.view}`},window.__CTRender('style',null,this._view.renderStyles()),W.renderIfElse(0<G.length,this._view.render(G),this._renderEmpty()))}_renderEmpty(){return W.renderIf(!!this.noReportsMessage,window.__CTRender('div',{class:'no-reports'},this.noReportsMessage))}_getFilteredSortedReports(){let G=[...(this.reports||[])];const $=this.layer.getSyncedTimestamp(),K=this.layer.getCurrentUser();if(K&&this.ownReportsOnly&&(G=G.filter((X)=>X.requested.jid===K.jid)),G.sort((X,Q)=>Q.requested.date-X.requested.date),0<this.maxReportAge&&0<$){const X=$-1e3*(60*(60*this.maxReportAge));G=G.filter((Q)=>Q.requested.date>=X)}return 0<this.maxReports&&(G=G.splice(0,this.maxReports)),G}}I([N.prop({type:Number,attribute:!0,default:0})],J.prototype,'maxReports',void 0),I([N.prop({type:Number,attribute:!0,default:0})],J.prototype,'maxReportAge',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],J.prototype,'ownReportsOnly',void 0),I([N.prop({type:String,attribute:!0})],J.prototype,'noReportsMessage',void 0),I([N.prop({type:String,attribute:!0})],J.prototype,'view',void 0),I([N.prop({type:String,attribute:!0})],J.prototype,'viewOptions',void 0),I([N.prop({type:Array,attribute:!1,default:[]})],J.prototype,'reports',void 0),E.CTILReportList=J,J.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(Q,Z,ee,te){var ne=arguments.length,ae=3>ne?Z:null===te?te=Object.getOwnPropertyDescriptor(Z,ee):te,se;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ae=Reflect.decorate(Q,Z,ee,te);else for(var de=Q.length-1;0<=de;de--)(se=Q[de])&&(ae=(3>ne?se(ae):3<ne?se(Z,ee,ae):se(Z,ee))||ae);return 3<ne&&ae&&Object.defineProperty(Z,ee,ae),ae},A=this&&this.__awaiter||function(Q,Z,ee,te){return new(ee||(ee=Promise))(function(ne,ae){function se(oe){try{ie(te.next(oe))}catch(le){ae(le)}}function de(oe){try{ie(te['throw'](oe))}catch(le){ae(le)}}function ie(oe){oe.done?ne(oe.value):new ee(function(le){le(oe.value)}).then(se,de)}ie((te=te.apply(Q,Z||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(6),B=R(3),z=R(10),W=R(1),J=R(7),G=R(4),$=R(5),K=R(2);class X extends z.CTILComponent{static get is(){return'ct-il-role-selection'}initialize(){return A(this,void 0,void 0,function*(){this.roles=this.layer.config.roles||[],this.notConnected=this.layer.getConnectionStatus()!==B.ConnectionStatus.Connected})}setupListeners(){this.addListener(H.BaseEvents.ConnectionStatusChange,(Q)=>{this.notConnected=Q.status!==B.ConnectionStatus.Connected})}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:flex;height:100%}:host .role-selection{flex:1;display:flex;height:100%;flex-direction:column}:host .role-selection .role-list{flex:1 1;overflow:auto;list-style-type:none;margin:0;padding:10px 0 0 10px}:host .role-selection .role-list .role{margin:0;padding:0;display:flex;align-items:center;flex-direction:row}:host .role-selection .role-list .role .selected{flex:0 0 30px;display:flex;justify-content:center;color:var(--primary-font-color, #fff)}:host .role-selection .role-list .role .selected .icon{background:var(--primary-color, #15233b);width:16px;height:16px;border-radius:50%}:host .role-selection .role-list .role .role-name{cursor:pointer;padding:10px 0;flex:1 1;border-bottom:3px solid #f2f2f2}:host .role-selection .role-list .role:last-child .role-name{border-bottom:0}:host .role-selection .buttons{flex:none;padding:10px}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:'role-selection'},window.__CTRender('ul',{class:'role-list'},this.roles.map((Q)=>this._renderRoleOption(Q))),window.__CTRender('div',{class:'buttons'},window.__CTRender(K.CTButton,{type:'primary',onClick:()=>this._chooseRole(),disabled:this.disabled||this.notConnected},'On-call')))}_renderRoleOption(Q){return window.__CTRender('li',{class:'role',onClick:()=>this._onSelectRole(Q)},window.__CTRender('div',{class:'selected'},G.renderIf(this.selectedRoleId&&this.selectedRoleId===Q.id,window.__CTRender(K.CTIcon,{class:'icon',icon:J.Icons.UI.Tick,width:'8px',height:'8px'}))),window.__CTRender('div',{class:'role-name'},Q.name))}_onSelectRole(Q){this.selectedRoleId=Q.id,this.disabled=!1}_chooseRole(){const Q=this.layer.config.roles.find((ee)=>ee.id===this.selectedRoleId);if(Q){const Z=`${W.IncidentEvents.RoleSelection}:${$.generateRandomSixString()}`;this.addListener(Z,()=>{this.emitComponentEvent(W.IncidentEvents.RoleSelection,new W.RoleSelectionEventArgs(Q))},{onceOnly:!0,dontSuppress:!0}),this.emitEvent(W.IncidentEvents._Request_JoinRole,new W.RoleSelectionEventArgs(Q,Z))}}}I([N.prop({type:Array,attribute:!1,default:[]})],X.prototype,'roles',void 0),I([N.prop({type:String,attribute:!1,default:null})],X.prototype,'selectedRoleId',void 0),I([N.prop({type:Boolean,attribute:!1,default:!0})],X.prototype,'disabled',void 0),I([N.prop({type:Boolean,attribute:!1,default:!0})],X.prototype,'notConnected',void 0),E.CTILRoleSelection=X,X.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(W,J,G,$){var K=arguments.length,X=3>K?J:null===$?$=Object.getOwnPropertyDescriptor(J,G):$,Q;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)X=Reflect.decorate(W,J,G,$);else for(var Z=W.length-1;0<=Z;Z--)(Q=W[Z])&&(X=(3>K?Q(X):3<K?Q(J,G,X):Q(J,G))||X);return 3<K&&X&&Object.defineProperty(J,G,X),X},A=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(10),B=R(140);class z extends H.CTILComponent{constructor(){super(...arguments),this._initialized=!1}static get is(){return'ct-il-user-list'}initialize(){return A(this,void 0,void 0,function*(){if(this.view){const W=this.viewOptions?JSON.parse(this.viewOptions):{};this._view||(this._view=B.getView(this.view,this,W)),this._view&&(yield this._view.initialize(),this._initialized=!0,this.forceRedraw())}})}setupListeners(){this._view&&this._view.setupListeners()}get generateComponentStyles(){return null}generateComponentMarkup(){return this._initialized?this._view?window.__CTRender('div',{class:`user-list view-${this.view}`},window.__CTRender('style',null,this._view.renderStyles()),this._view.render()):null:null}}I([N.prop({type:String,attribute:!0})],z.prototype,'view',void 0),I([N.prop({type:String,attribute:!0})],z.prototype,'viewOptions',void 0),E.CTILUserList=z,z.register()},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(K,X,Q,Z){return new(Q||(Q=Promise))(function(ee,te){function ne(de){try{se(Z.next(de))}catch(ie){te(ie)}}function ae(de){try{se(Z['throw'](de))}catch(ie){te(ie)}}function se(de){de.done?ee(de.value):new Q(function(ie){ie(de.value)}).then(ne,ae)}se((Z=Z.apply(K,X||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(0),N=R(3),H=R(91),B=R(129),z=R(7),W=R(1),J=R(8),G=R(5);class $ extends A.BaseLayer{constructor(K,X,Q){super(K,X),this.VERSION='1.0.0',this.name=K,this.config=X,this.config.xmpp&&this.config.xmpp.mam&&(this.config.xmpp.mam.autoFetch=!1);const Z=Q&&Q.store||new B.Store(K,this.logger,X),ee=Q&&Q.comms||new H.Comms(K,X.xmpp,Z,this.logger,this);ee.onStartFetchingMissedMessages(()=>{this.showWaitingMessage('Updating...')}),ee.onFinishedFetchingMissedMessages(()=>{this.on(W.IncidentEvents._Request_RedrawAllUIs,()=>I(this,void 0,void 0,function*(){yield this.updateAllStateFromBot(),this.dismissWaitingMessage()}),!0)}),this.bootstrap(ee,Z)}sendMessageViaBot(K,X){const Q=(Z)=>super[Z];return I(this,void 0,void 0,function*(){yield Q('sendMessageToBot').call(this,K,X)})}getIncidents(){return I(this,void 0,void 0,function*(){const K=yield this.store.getIncidents();return G.deepCloneArray(K)})}getOpenIncidents(){return I(this,void 0,void 0,function*(){const K=yield this.getIncidents();return K.filter((X)=>X.status===z.IncidentStatus.Open)})}getIncidentById(K){return I(this,void 0,void 0,function*(){const X=yield this.getIncidents(),Q=X.find((Z)=>Z.id===K);return!Q?null:Object.assign({},Q)})}getCurrentIncident(){return I(this,void 0,void 0,function*(){const K=yield this.getIncidents();return K[0]||null})}getPendingAlerts(){return I(this,void 0,void 0,function*(){const K=yield this.store.getPendingAlerts();return G.deepCloneArray(K)})}getReports(){return I(this,void 0,void 0,function*(){const K=yield this.store.getReports();return G.deepCloneArray(K)})}getReportById(K){return I(this,void 0,void 0,function*(){const X=yield this.getReports(),Q=X.find((Z)=>Z.id===K);return!Q?null:Object.assign({},Q)})}getUsers(){return I(this,void 0,void 0,function*(){const K=yield this._getRosterUsers();return[...K].filter((X)=>null!==X)})}getOnCallUsers(){return I(this,void 0,void 0,function*(){const K=yield this.getUsers();return K.filter((X)=>X.isOnCall)})}getUserByJid(K){return I(this,void 0,void 0,function*(){if(K===this.getCurrentUserJid())return this.getCurrentUser();const X=yield this.getUsers(),Q=X.find((Z)=>Z.jid===K);return!Q?null:Object.assign({},Q)})}getCurrentUser(){return this.comms.user}getUserRoleInfo(K){return I(this,void 0,void 0,function*(){const X=(yield this._getRoleUserMappings())||{},Q=Object.keys(X).find((te)=>X[te].some((ne)=>ne.jid===K.jid));if(!Q)return null;const Z=this.config.roles.find((te)=>te.id===Q);if(!Z)return null;const ee=X[Q].find((te)=>te.jid===K.jid);return ee?{role:Z,jid:ee.jid,cameOnCall:ee.cameOnCall}:null})}updateAllStateFromBot(K=!1,X=!1){return I(this,void 0,void 0,function*(){try{yield Promise.all([this.updateRoleUserMappings(K,!0),this.updateUsersLastSeenMappings(K,!0)])}catch(Q){if(X)throw Q;else this.error('Error updating state','There was an error obtaining the state from the bot. Please try again.')}})}updateRoleUserMappings(K=!1,X=!1){return I(this,void 0,void 0,function*(){!0===this.suppressMode&&!0!==K||(yield this._fetchRoleUserMappings(X))})}updateUsersLastSeenMappings(K=!1,X=!1){return I(this,void 0,void 0,function*(){!0===this.suppressMode&&!0!==K||(yield this._fetchUserLastSeenMappings(X))})}getUserLastSeen(K){return I(this,void 0,void 0,function*(){if(!K)return null;const X=yield this._getUserLastSeenMappings();return X?X[K.jid]||null:null})}translateIncidentDetails(K){const X=G.deepCloneObject(K),Q=G.deepCloneObject(this.config);return K.priority&&K.priority.id&&(X.priority=Q.priorities.find((Z)=>Z.id===K.priority.id)||X.priority,X.priority.name=this.translate(X.priority.name),X.priority.shortName=this.translate(X.priority.shortName)),K.severity&&K.severity.id&&(X.severity=Q.severities.find((Z)=>Z.id===K.severity.id)||X.severity,X.severity.name=this.translate(X.severity.name),(X.severity.changes||[]).forEach((Z)=>{Z.name=this.translate(Z.name),Z.label=this.translate(Z.label),Z.confirmationTitle=this.translate(Z.confirmationTitle),Z.confirmationMessage=this.translate(Z.confirmationMessage)})),K.patientType&&K.patientType.id&&(X.patientType=Q.patientTypes.find((Z)=>Z.id===K.patientType.id)||X.patientType,X.patientType.name=this.translate(X.patientType.name),X.patientType.shortName=this.translate(X.patientType.shortName)),K.location&&K.location.id&&(X.location=Q.locations.find((Z)=>Z.id===K.location.id)||X.location,X.location.name=this.translate(X.location.name),X.location.shortName=this.translate(X.location.shortName),X.location.initials=this.translate(X.location.initials)),(K.responses||[]).forEach((Z)=>{if(Z.id){const ee=Q.roles.find((te)=>te.id===Z.id);Z.name=this.translate(ee&&ee.name||Z.name)}}),X}getCurrentXmppDisplayName(){const K=this.getCurrentUser();return K&&K.displayName||''}generateCommonComponents(K){return I(this,void 0,void 0,function*(){!0===this.config.isBroadcaster&&(this._newIncidentModal=document.querySelector('ct-il-new-incident-modal'),!this._newIncidentModal&&(this._newIncidentModal=document.createElement('ct-il-new-incident-modal'),this._newIncidentModal.owner=this.name,K.appendChild(this._newIncidentModal)),this._closeIncidentModal=document.querySelector('ct-il-close-incident-modal'),!this._closeIncidentModal&&(this._closeIncidentModal=document.createElement('ct-il-close-incident-modal'),this._closeIncidentModal.owner=this.name,K.appendChild(this._closeIncidentModal))),!1===this.config.isBroadcaster&&(this._incidentResponseModal=document.querySelector('ct-il-incident-alert'),!this._incidentResponseModal&&(this._incidentResponseModal=document.createElement('ct-il-incident-alert'),this._incidentResponseModal.owner=this.name,K.appendChild(this._incidentResponseModal)))})}getHandlers(){return J.get(this)}_getRosterUsers(){return I(this,void 0,void 0,function*(){return this.getConnectionStatus()===N.ConnectionStatus.Connected?yield this.comms.getAllContacts():[]})}_getRoleUserMappings(){return I(this,void 0,void 0,function*(){return this._roleUserMappings?this._roleUserMappings:yield this._fetchRoleUserMappings()})}_fetchRoleUserMappings(K=!1){return I(this,void 0,void 0,function*(){const X=yield this.sendBotCommand(J.IncidentBotCommands.GetRoleUsers,null,K);if(X&&!1===X.success)throw new Error(`Invalid response for command ${J.IncidentBotCommands.GetRoleUsers}: ${JSON.stringify(X)}`);return this.emit(W.IncidentEvents.OnCallUsersChange),this._roleUserMappings=X&&X.data||{},this._roleUserMappings})}_getUserLastSeenMappings(){return I(this,void 0,void 0,function*(){return this._userLastSeenMappings?this._userLastSeenMappings:yield this._fetchUserLastSeenMappings()})}_fetchUserLastSeenMappings(K=!1){return I(this,void 0,void 0,function*(){const X=yield this.sendBotCommand(J.IncidentBotCommands.GetLastSeen,null,K);if(X&&!1===X.success)throw new Error(`Invalid response for command ${J.IncidentBotCommands.GetLastSeen}: ${JSON.stringify(X)}`);return this.emit(W.IncidentEvents.UserLastSeenChange),this._userLastSeenMappings=X&&X.data||{},this._userLastSeenMappings})}}E.IncidentLayer=$,window.CtIncidentLayer=$},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0}),E['default']=function(){function A(se){return btoa(unescape(encodeURIComponent(se)))}function H(){(function(se){function de(Ue){return parseInt(Ue)===Ue}function ie(Ue){if(!de(Ue.length))return!1;for(var Fe=0;Fe<Ue.length;Fe++)if(!de(Ue[Fe])||0>Ue[Fe]||255<Ue[Fe])return!1;return!0}function oe(Ue,Fe){if(Ue.buffer&&ArrayBuffer.isView(Ue)&&'Uint8Array'===Ue.name)return Fe&&(Ue.slice?Ue=Ue.slice():Ue=Array.prototype.slice.call(Ue)),Ue;if(Array.isArray(Ue)){if(!ie(Ue))throw new Error('Array contains invalid value: '+Ue);return new Uint8Array(Ue)}if(de(Ue.length)&&ie(Ue))return new Uint8Array(Ue);throw new Error('unsupported array-like object')}function le(Ue){return new Uint8Array(Ue)}function ue(Ue,Fe,Be,qe,ze){(null!=qe||null!=ze)&&(Ue.slice?Ue=Ue.slice(qe,ze):Ue=Array.prototype.slice.call(Ue,qe,ze)),Fe.set(Ue,Be)}function _e(Ue){for(var Fe=[],Be=0;Be<Ue.length;Be+=4)Fe.push(Ue[Be]<<24|Ue[Be+1]<<16|Ue[Be+2]<<8|Ue[Be+3]);return Fe}var pe=function(){return{toBytes:function(Be){var qe=[],ze=0;for(Be=encodeURI(Be);ze<Be.length;){var We=Be.charCodeAt(ze++);37===We?(qe.push(parseInt(Be.substr(ze,2),16)),ze+=2):qe.push(We)}return oe(qe)},fromBytes:function(Be){for(var qe=[],ze=0,We;ze<Be.length;)We=Be[ze],128>We?(qe.push(String.fromCharCode(We)),ze++):191<We&&224>We?(qe.push(String.fromCharCode((31&We)<<6|63&Be[ze+1])),ze+=2):(qe.push(String.fromCharCode((15&We)<<12|(63&Be[ze+1])<<6|63&Be[ze+2])),ze+=3);return qe.join('')}}}(),ge=function(){var Be='0123456789abcdef';return{toBytes:function(qe){for(var ze=[],We=0;We<qe.length;We+=2)ze.push(parseInt(qe.substr(We,2),16));return ze},fromBytes:function(qe){for(var ze=[],We=0,Je;We<qe.length;We++)Je=qe[We],ze.push(Be[(240&Je)>>4]+Be[15&Je]);return ze.join('')}}}(),he={16:10,24:12,32:14},fe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],ye=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Me=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Te=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Le=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Se=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],ve=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],be=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Ce=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Ee=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239000,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],De=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998000,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],we=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Ye=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ke=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239000,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998000,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925],Ie=function(Ue){if(!(this instanceof Ie))throw Error('AES must be instanitated with `new`');Object.defineProperty(this,'key',{value:oe(Ue,!0)}),this._prepare()};Ie.prototype._prepare=function(){var Ue=he[this.key.length];if(null==Ue)throw new Error('invalid key size (must be 16, 24 or 32 bytes)');this._Ke=[],this._Kd=[];for(var Fe=0;Fe<=Ue;Fe++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var Be=4*(Ue+1),qe=this.key.length/4,ze=_e(this.key),Fe=0,We;Fe<qe;Fe++)We=Fe>>2,this._Ke[We][Fe%4]=ze[Fe],this._Kd[Ue-We][Fe%4]=ze[Fe];for(var Je=0,Ve=qe,Ge;Ve<Be;){if(Ge=ze[qe-1],ze[0]^=ye[255&Ge>>16]<<24^ye[255&Ge>>8]<<16^ye[255&Ge]<<8^ye[255&Ge>>24]^fe[Je]<<24,Je+=1,8!=qe)for(var Fe=1;Fe<qe;Fe++)ze[Fe]^=ze[Fe-1];else{for(var Fe=1;Fe<qe/2;Fe++)ze[Fe]^=ze[Fe-1];Ge=ze[qe/2-1],ze[qe/2]^=ye[255&Ge]^ye[255&Ge>>8]<<8^ye[255&Ge>>16]<<16^ye[255&Ge>>24]<<24;for(var Fe=qe/2+1;Fe<qe;Fe++)ze[Fe]^=ze[Fe-1]}for(var Fe=0,$e,Ke;Fe<qe&&Ve<Be;)$e=Ve>>2,Ke=Ve%4,this._Ke[$e][Ke]=ze[Fe],this._Kd[Ue-$e][Ke]=ze[Fe++],Ve++}for(var $e=1;$e<Ue;$e++)for(var Ke=0;4>Ke;Ke++)Ge=this._Kd[$e][Ke],this._Kd[$e][Ke]=we[255&Ge>>24]^Ye[255&Ge>>16]^ke[255&Ge>>8]^Re[255&Ge]},Ie.prototype.encrypt=function(Ue){if(16!=Ue.length)throw new Error('invalid plaintext size (must be 16 bytes)');for(var Fe=this._Ke.length-1,Be=[0,0,0,0],qe=_e(Ue),ze=0;4>ze;ze++)qe[ze]^=this._Ke[0][ze];for(var We=1;We<Fe;We++){for(var ze=0;4>ze;ze++)Be[ze]=Te[255&qe[ze]>>24]^Le[255&qe[(ze+1)%4]>>16]^Se[255&qe[(ze+2)%4]>>8]^ve[255&qe[(ze+3)%4]]^this._Ke[We][ze];qe=Be.slice()}for(var Je=le(16),ze=0,Ve;4>ze;ze++)Ve=this._Ke[Fe][ze],Je[4*ze]=255&(ye[255&qe[ze]>>24]^Ve>>24),Je[4*ze+1]=255&(ye[255&qe[(ze+1)%4]>>16]^Ve>>16),Je[4*ze+2]=255&(ye[255&qe[(ze+2)%4]>>8]^Ve>>8),Je[4*ze+3]=255&(ye[255&qe[(ze+3)%4]]^Ve);return Je},Ie.prototype.decrypt=function(Ue){if(16!=Ue.length)throw new Error('invalid ciphertext size (must be 16 bytes)');for(var Fe=this._Kd.length-1,Be=[0,0,0,0],qe=_e(Ue),ze=0;4>ze;ze++)qe[ze]^=this._Kd[0][ze];for(var We=1;We<Fe;We++){for(var ze=0;4>ze;ze++)Be[ze]=be[255&qe[ze]>>24]^Ce[255&qe[(ze+3)%4]>>16]^Ee[255&qe[(ze+2)%4]>>8]^De[255&qe[(ze+1)%4]]^this._Kd[We][ze];qe=Be.slice()}for(var Je=le(16),ze=0,Ve;4>ze;ze++)Ve=this._Kd[Fe][ze],Je[4*ze]=255&(Me[255&qe[ze]>>24]^Ve>>24),Je[4*ze+1]=255&(Me[255&qe[(ze+3)%4]>>16]^Ve>>16),Je[4*ze+2]=255&(Me[255&qe[(ze+2)%4]>>8]^Ve>>8),Je[4*ze+3]=255&(Me[255&qe[(ze+1)%4]]^Ve);return Je};var Ae=function(Ue){if(!(this instanceof Ae))throw Error('AES must be instanitated with `new`');this.description='Electronic Code Block',this.name='ecb',this._aes=new Ie(Ue)};Ae.prototype.encrypt=function(Ue){if(Ue=oe(Ue),0!=Ue.length%16)throw new Error('invalid plaintext size (must be multiple of 16 bytes)');for(var Fe=le(Ue.length),Be=le(16),qe=0;qe<Ue.length;qe+=16)ue(Ue,Be,0,qe,qe+16),Be=this._aes.encrypt(Be),ue(Be,Fe,qe);return Fe},Ae.prototype.decrypt=function(Ue){if(Ue=oe(Ue),0!=Ue.length%16)throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');for(var Fe=le(Ue.length),Be=le(16),qe=0;qe<Ue.length;qe+=16)ue(Ue,Be,0,qe,qe+16),Be=this._aes.decrypt(Be),ue(Be,Fe,qe);return Fe};var xe=function(Ue,Fe){if(!(this instanceof xe))throw Error('AES must be instanitated with `new`');if(this.description='Cipher Block Chaining',this.name='cbc',!Fe)Fe=le(16);else if(16!=Fe.length)throw new Error('invalid initialation vector size (must be 16 bytes)');this._lastCipherblock=oe(Fe,!0),this._aes=new Ie(Ue)};xe.prototype.encrypt=function(Ue){if(Ue=oe(Ue),0!=Ue.length%16)throw new Error('invalid plaintext size (must be multiple of 16 bytes)');for(var Fe=le(Ue.length),Be=le(16),qe=0;qe<Ue.length;qe+=16){ue(Ue,Be,0,qe,qe+16);for(var ze=0;16>ze;ze++)Be[ze]^=this._lastCipherblock[ze];this._lastCipherblock=this._aes.encrypt(Be),ue(this._lastCipherblock,Fe,qe)}return Fe},xe.prototype.decrypt=function(Ue){if(Ue=oe(Ue),0!=Ue.length%16)throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');for(var Fe=le(Ue.length),Be=le(16),qe=0;qe<Ue.length;qe+=16){ue(Ue,Be,0,qe,qe+16),Be=this._aes.decrypt(Be);for(var ze=0;16>ze;ze++)Fe[qe+ze]=Be[ze]^this._lastCipherblock[ze];ue(Ue,this._lastCipherblock,0,qe,qe+16)}return Fe};var Oe=function(Ue,Fe,Be){if(!(this instanceof Oe))throw Error('AES must be instanitated with `new`');if(this.description='Cipher Feedback',this.name='cfb',!Fe)Fe=le(16);else if(16!=Fe.length)throw new Error('invalid initialation vector size (must be 16 size)');Be||(Be=1),this.segmentSize=Be,this._shiftRegister=oe(Fe,!0),this._aes=new Ie(Ue)};Oe.prototype.encrypt=function(Ue){if(0!=Ue.length%this.segmentSize)throw new Error('invalid plaintext size (must be segmentSize bytes)');for(var Fe=oe(Ue,!0),qe=0,Be;qe<Fe.length;qe+=this.segmentSize){Be=this._aes.encrypt(this._shiftRegister);for(var ze=0;ze<this.segmentSize;ze++)Fe[qe+ze]^=Be[ze];ue(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ue(Fe,this._shiftRegister,16-this.segmentSize,qe,qe+this.segmentSize)}return Fe},Oe.prototype.decrypt=function(Ue){if(0!=Ue.length%this.segmentSize)throw new Error('invalid ciphertext size (must be segmentSize bytes)');for(var Fe=oe(Ue,!0),qe=0,Be;qe<Fe.length;qe+=this.segmentSize){Be=this._aes.encrypt(this._shiftRegister);for(var ze=0;ze<this.segmentSize;ze++)Fe[qe+ze]^=Be[ze];ue(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ue(Ue,this._shiftRegister,16-this.segmentSize,qe,qe+this.segmentSize)}return Fe};var Pe=function(Ue,Fe){if(!(this instanceof Pe))throw Error('AES must be instanitated with `new`');if(this.description='Output Feedback',this.name='ofb',!Fe)Fe=le(16);else if(16!=Fe.length)throw new Error('invalid initialation vector size (must be 16 bytes)');this._lastPrecipher=oe(Fe,!0),this._lastPrecipherIndex=16,this._aes=new Ie(Ue)};Pe.prototype.encrypt=function(Ue){for(var Fe=oe(Ue,!0),Be=0;Be<Fe.length;Be++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),Fe[Be]^=this._lastPrecipher[this._lastPrecipherIndex++];return Fe},Pe.prototype.decrypt=Pe.prototype.encrypt;var Ne=function(Ue){if(!(this instanceof Ne))throw Error('Counter must be instanitated with `new`');0===Ue||Ue||(Ue=1),'number'==typeof Ue?(this._counter=le(16),this.setValue(Ue)):this.setBytes(Ue)};Ne.prototype.setValue=function(Ue){if('number'!=typeof Ue||parseInt(Ue)!=Ue)throw new Error('invalid counter value (must be an integer)');if(Ue>Number.MAX_SAFE_INTEGER)throw new Error('integer value out of safe range');for(var Fe=15;0<=Fe;--Fe)this._counter[Fe]=Ue%256,Ue=parseInt(Ue/256)},Ne.prototype.setBytes=function(Ue){if(Ue=oe(Ue,!0),16!=Ue.length)throw new Error('invalid counter bytes size (must be 16 bytes)');this._counter=Ue},Ne.prototype.increment=function(){for(var Ue=15;0<=Ue;Ue--)if(255===this._counter[Ue])this._counter[Ue]=0;else{this._counter[Ue]++;break}};var He=function(Ue,Fe){if(!(this instanceof He))throw Error('AES must be instanitated with `new`');this.description='Counter',this.name='ctr',Fe instanceof Ne||(Fe=new Ne(Fe)),this._counter=Fe,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Ie(Ue)};He.prototype.encrypt=function(Ue){for(var Fe=oe(Ue,!0),Be=0;Be<Fe.length;Be++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),Fe[Be]^=this._remainingCounter[this._remainingCounterIndex++];return Fe},He.prototype.decrypt=He.prototype.encrypt;var je={AES:Ie,Counter:Ne,ModeOfOperation:{ecb:Ae,cbc:xe,cfb:Oe,ofb:Pe,ctr:He},utils:{hex:ge,utf8:pe},padding:{pkcs7:{pad:function(Ue){Ue=oe(Ue,!0);var Fe=16-Ue.length%16,Be=le(Ue.length+Fe);ue(Ue,Be);for(var qe=Ue.length;qe<Be.length;qe++)Be[qe]=Fe;return Be},strip:function(Ue){if(Ue=oe(Ue,!0),16>Ue.length)throw new Error('PKCS#7 invalid length');var Fe=Ue[Ue.length-1];if(16<Fe)throw new Error('PKCS#7 padding byte out of range');for(var Be=Ue.length-Fe,qe=0;qe<Fe;qe++)if(Ue[Be+qe]!==Fe)throw new Error('PKCS#7 invalid padding byte');var ze=le(Be);return ue(Ue,ze,0,0,Be),ze}}},_arrayTest:{coerceArray:oe,createArray:le,copyArray:ue}};'undefined'!=typeof exports||('function'==typeof define&&R(175)?define(je):(se.aesjs&&(je._aesjs=se.aesjs),se.aesjs=je))})(this)}let z=!1,W=null,J=null,G=null,$='lunr_index',K='idxBlock',X='docBlock';const Q=function(){function se(ie){if(null===ie||'object'!=typeof ie)return ie;var oe=ie.constructor();for(var le in ie)ie.hasOwnProperty(le)&&(oe[le]=ie[le]);return oe}var de=function(ie){var oe=new de.Index;return oe.pipeline.add(de.trimmer,de.stopWordFilter,de.stemmer),ie&&ie.call(oe,oe),oe};return de.version='0.9.5',lunr=de,de.utils={},de.utils.warn=function(ie){return function(oe){ie.console&&console.warn&&console.warn(oe)}}(this),de.utils.toString=function(ie){return void 0===ie||null===ie?'':ie.toString()},de.EventEmitter=function(){this.events={}},de.EventEmitter.prototype.addListener=function(){var ie=Array.prototype.slice.call(arguments),oe=ie.pop();if('function'!=typeof oe)throw new TypeError('last argument must be a function');ie.forEach(function(ue){this.hasHandler(ue)||(this.events[ue]=[]),this.events[ue].push(oe)},this)},de.EventEmitter.prototype.removeListener=function(ie,oe){if(this.hasHandler(ie)){var le=this.events[ie].indexOf(oe);-1===le||(this.events[ie].splice(le,1),0==this.events[ie].length&&delete this.events[ie])}},de.EventEmitter.prototype.emit=function(ie){if(this.hasHandler(ie)){var oe=Array.prototype.slice.call(arguments,1);this.events[ie].forEach(function(le){le.apply(void 0,oe)},this)}},de.EventEmitter.prototype.hasHandler=function(ie){return ie in this.events},de.tokenizer=function(ie){if(!arguments.length||null===ie||void 0===ie)return[];if(Array.isArray(ie)){var oe=ie.filter(function(ue){return null===ue||void 0===ue?!1:!0});oe=oe.map(function(ue){return de.utils.toString(ue).toLowerCase()});var le=[];return oe.forEach(function(ue){var _e=ue.split(de.tokenizer.seperator);le=le.concat(_e)},this),le}return ie.toString().trim().toLowerCase().split(de.tokenizer.seperator)},de.tokenizer.defaultSeperator=/[\s\-]+/,de.tokenizer.seperator=de.tokenizer.defaultSeperator,de.tokenizer.setSeperator=function(ie){null!==ie&&void 0!==ie&&'object'==typeof ie&&(de.tokenizer.seperator=ie)},de.tokenizer.resetSeperator=function(){de.tokenizer.seperator=de.tokenizer.defaultSeperator},de.tokenizer.getSeperator=function(){return de.tokenizer.seperator},de.Pipeline=function(){this._queue=[]},de.Pipeline.registeredFunctions={},de.Pipeline.registerFunction=function(ie,oe){oe in de.Pipeline.registeredFunctions&&de.utils.warn('Overwriting existing registered function: '+oe),ie.label=oe,de.Pipeline.registeredFunctions[oe]=ie},de.Pipeline.getRegisteredFunction=function(ie){return!0==ie in de.Pipeline.registeredFunctions?de.Pipeline.registeredFunctions[ie]:null},de.Pipeline.warnIfFunctionNotRegistered=function(ie){var oe=ie.label&&ie.label in this.registeredFunctions;oe||de.utils.warn('Function is not registered with pipeline. This may cause problems when serialising the index.\n',ie)},de.Pipeline.load=function(ie){var oe=new de.Pipeline;return ie.forEach(function(le){var ue=de.Pipeline.getRegisteredFunction(le);if(ue)oe.add(ue);else throw new Error('Cannot load un-registered function: '+le)}),oe},de.Pipeline.prototype.add=function(){var ie=Array.prototype.slice.call(arguments);ie.forEach(function(oe){de.Pipeline.warnIfFunctionNotRegistered(oe),this._queue.push(oe)},this)},de.Pipeline.prototype.after=function(ie,oe){de.Pipeline.warnIfFunctionNotRegistered(oe);var le=this._queue.indexOf(ie);if(-1===le)throw new Error('Cannot find existingFn');this._queue.splice(le+1,0,oe)},de.Pipeline.prototype.before=function(ie,oe){de.Pipeline.warnIfFunctionNotRegistered(oe);var le=this._queue.indexOf(ie);if(-1===le)throw new Error('Cannot find existingFn');this._queue.splice(le,0,oe)},de.Pipeline.prototype.remove=function(ie){var oe=this._queue.indexOf(ie);-1===oe||this._queue.splice(oe,1)},de.Pipeline.prototype.run=function(ie){for(var oe=[],le=ie.length,ue=this._queue.length,_e=0,ce;_e<le;_e++){ce=ie[_e];for(var me=0;me<ue&&(ce=this._queue[me](ce,_e,ie),void 0!==ce&&null!==ce);me++);void 0!==ce&&null!==ce&&oe.push(ce)}return oe},de.Pipeline.prototype.reset=function(){this._queue=[]},de.Pipeline.prototype.get=function(){return this._queue},de.Pipeline.prototype.toJSON=function(){return this._queue.map(function(ie){return de.Pipeline.warnIfFunctionNotRegistered(ie),ie.label})},de.Index=function(){this._fields=[],this._ref='id',this.pipeline=new de.Pipeline,this.documentStore=new de.DocumentStore,this.index={},this.eventEmitter=new de.EventEmitter,this._idfCache={},this.on('add','remove','update',function(){this._idfCache={}}.bind(this))},de.Index.prototype.on=function(){var ie=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,ie)},de.Index.prototype.off=function(ie,oe){return this.eventEmitter.removeListener(ie,oe)},de.Index.load=function(ie){ie.version!==de.version&&de.utils.warn('version mismatch: current '+de.version+' importing '+ie.version);var oe=new this;for(var le in oe._fields=ie.fields,oe._ref=ie.ref,oe.documentStore=de.DocumentStore.load(ie.documentStore),oe.pipeline=de.Pipeline.load(ie.pipeline),oe.index={},ie.index)oe.index[le]=de.InvertedIndex.load(ie.index[le]);return oe},de.Index.prototype.addField=function(ie){return this._fields.push(ie),this.index[ie]=new de.InvertedIndex,this},de.Index.prototype.setRef=function(ie){return this._ref=ie,this},de.Index.prototype.saveDocument=function(ie){return this.documentStore=new de.DocumentStore(ie),this},de.Index.prototype.addDoc=function(ie,oe){if(ie){var oe=void 0===oe||oe,le=ie[this._ref];this.documentStore.addDoc(le,ie),this._fields.forEach(function(ue){var _e=this.pipeline.run(de.tokenizer(ie[ue]));this.documentStore.addFieldLength(le,ue,_e.length);var ce={};for(var me in _e.forEach(function(ge){ge in ce?ce[ge]+=1:ce[ge]=1},this),ce){var pe=ce[me];pe=Math.sqrt(pe),this.index[ue].addToken(me,{ref:le,tf:pe})}},this),oe&&this.eventEmitter.emit('add',ie,this)}},de.Index.prototype.removeDocByRef=function(ie){if(ie&&!1!==this.documentStore.isDocStored()&&this.documentStore.hasDoc(ie)){var le=this.documentStore.getDoc(ie);this.removeDoc(le,!1)}},de.Index.prototype.removeDoc=function(ie,oe){if(ie){var oe=void 0===oe||oe,le=ie[this._ref];this.documentStore.hasDoc(le)&&(this.documentStore.removeDoc(le),this._fields.forEach(function(ue){var _e=this.pipeline.run(de.tokenizer(ie[ue]));_e.forEach(function(ce){this.index[ue].removeToken(ce,le)},this)},this),oe&&this.eventEmitter.emit('remove',ie,this))}},de.Index.prototype.updateDoc=function(ie,oe){var oe=void 0===oe||oe;this.removeDocByRef(ie[this._ref],!1),this.addDoc(ie,!1),oe&&this.eventEmitter.emit('update',ie,this)},de.Index.prototype.idf=function(ie,oe){var le='@'+oe+'/'+ie;if(Object.prototype.hasOwnProperty.call(this._idfCache,le))return this._idfCache[le];var ue=this.index[oe].getDocFreq(ie),_e=1+Math.log(this.documentStore.length/(ue+1));return this._idfCache[le]=_e,_e},de.Index.prototype.getFields=function(){return this._fields.slice()},de.Index.prototype.search=function(ie,oe){if(!ie)return[];ie='string'==typeof ie?{any:ie}:JSON.parse(JSON.stringify(ie));var le=null;null!=oe&&(le=JSON.stringify(oe));for(var ue=new de.Configuration(le,this.getFields()).get(),_e={},ce=Object.keys(ie),me=0,pe;me<ce.length;me++)pe=ce[me],_e[pe]=this.pipeline.run(de.tokenizer(ie[pe]));var ge={};for(var he in ue){var fe=_e[he]||_e.any;if(fe){var ye=this.fieldSearch(fe,he,ue),Me=ue[he].boost;for(var Te in ye)ye[Te]*=Me;for(var Te in ye)Te in ge?ge[Te]+=ye[Te]:ge[Te]=ye[Te]}}var Le=[],Se;for(var Te in ge)Se={ref:Te,score:ge[Te]},this.documentStore.hasDoc(Te)&&(Se.doc=this.documentStore.getDoc(Te)),Le.push(Se);return Le.sort(function(ve,be){return be.score-ve.score}),Le},de.Index.prototype.fieldSearch=function(ie,oe,le){var ue=le[oe].bool,_e=le[oe].expand,ce=le[oe].boost,me=null,pe={};if(0!==ce)return ie.forEach(function(ge){var he=[ge];!0==_e&&(he=this.index[oe].expandToken(ge));var fe={};he.forEach(function(ye){var Me=this.index[oe].getDocs(ye),Te=this.idf(ye,oe);if(me&&'AND'==ue){var Le={};for(var Se in me)Se in Me&&(Le[Se]=Me[Se]);Me=Le}for(var Se in ye==ge&&this.fieldSearchStats(pe,ye,Me),Me){var ve=this.index[oe].getTermFrequency(ye,Se),be=this.documentStore.getFieldLength(Se,oe),Ce=1;0!=be&&(Ce=1/Math.sqrt(be));var Ee=1;ye!=ge&&(Ee=0.15*(1-(ye.length-ge.length)/ye.length));var De=ve*Te*Ce*Ee;Se in fe?fe[Se]+=De:fe[Se]=De}},this),me=this.mergeScores(me,fe,ue)},this),me=this.coordNorm(me,pe,ie.length),me},de.Index.prototype.mergeScores=function(ie,oe,le){if(!ie)return oe;if('AND'==le){var ue={};for(var _e in oe)_e in ie&&(ue[_e]=ie[_e]+oe[_e]);return ue}for(var _e in oe)_e in ie?ie[_e]+=oe[_e]:ie[_e]=oe[_e];return ie},de.Index.prototype.fieldSearchStats=function(ie,oe,le){for(var ue in le)ue in ie?ie[ue].push(oe):ie[ue]=[oe]},de.Index.prototype.coordNorm=function(ie,oe,le){for(var ue in ie)if(ue in oe){var _e=oe[ue].length;ie[ue]=ie[ue]*_e/le}return ie},de.Index.prototype.toJSON=function(){var ie={};return this._fields.forEach(function(oe){ie[oe]=this.index[oe].toJSON()},this),{version:de.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:ie,pipeline:this.pipeline.toJSON()}},de.Index.prototype.use=function(ie){var oe=Array.prototype.slice.call(arguments,1);oe.unshift(this),ie.apply(this,oe)},de.DocumentStore=function(ie){this._save=null===ie||void 0===ie||ie,this.docs={},this.docInfo={},this.length=0},de.DocumentStore.load=function(ie){var oe=new this;return oe.length=ie.length,oe.docs=ie.docs,oe.docInfo=ie.docInfo,oe._save=ie.save,oe},de.DocumentStore.prototype.isDocStored=function(){return this._save},de.DocumentStore.prototype.addDoc=function(ie,oe){this.hasDoc(ie)||this.length++,this.docs[ie]=!0===this._save?se(oe):null},de.DocumentStore.prototype.getDoc=function(ie){return!1===this.hasDoc(ie)?null:this.docs[ie]},de.DocumentStore.prototype.hasDoc=function(ie){return ie in this.docs},de.DocumentStore.prototype.removeDoc=function(ie){this.hasDoc(ie)&&(delete this.docs[ie],delete this.docInfo[ie],this.length--)},de.DocumentStore.prototype.addFieldLength=function(ie,oe,le){null===ie||void 0===ie||!1==this.hasDoc(ie)||(!this.docInfo[ie]&&(this.docInfo[ie]={}),this.docInfo[ie][oe]=le)},de.DocumentStore.prototype.updateFieldLength=function(ie,oe,le){null===ie||void 0===ie||!1==this.hasDoc(ie)||this.addFieldLength(ie,oe,le)},de.DocumentStore.prototype.getFieldLength=function(ie,oe){return null===ie||void 0===ie?0:ie in this.docs?oe in this.docInfo[ie]?this.docInfo[ie][oe]:0:0},de.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},de.stemmer=function(){var ie={ational:'ate',tional:'tion',enci:'ence',anci:'ance',izer:'ize',bli:'ble',alli:'al',entli:'ent',eli:'e',ousli:'ous',ization:'ize',ation:'ate',ator:'ate',alism:'al',iveness:'ive',fulness:'ful',ousness:'ous',aliti:'al',iviti:'ive',biliti:'ble',logi:'log'},oe={icate:'ic',ative:'',alize:'al',iciti:'ic',ical:'ic',ful:'',ness:''},ue='[aeiouy]',_e='[^aeiou]'+'[^aeiouy]*',ce=ue+'[aeiou]*',fe=new RegExp('^('+_e+')?'+ce+_e),ye=new RegExp('^('+_e+')?'+ce+_e+ce+_e),Me=new RegExp('^('+_e+')?'+ce+_e+'('+ce+')?$'),Te=new RegExp('^('+_e+')?'+ue),Le=/^(.+?)(ss|i)es$/,Se=/^(.+?)([^s])s$/,ve=/^(.+?)eed$/,be=/^(.+?)(ed|ing)$/,Ce=/.$/,Ee=/(at|bl|iz)$/,De=new RegExp('([^aeiouylsz])\\1$'),we=new RegExp('^'+_e+ue+'[^aeiouwxy]$'),Ye=/^(.+?[^aeiou])y$/,ke=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,Re=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,Ie=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,Ae=/^(.+?)(s|t)(ion)$/,xe=/^(.+?)e$/,Oe=/ll$/,Pe=new RegExp('^'+_e+ue+'[^aeiouwxy]$');return function(je){var Ue,Fe,Be,qe,ze,We,Je;if(3>je.length)return je;if(Be=je.substr(0,1),'y'==Be&&(je=Be.toUpperCase()+je.substr(1)),qe=Le,ze=Se,qe.test(je)?je=je.replace(qe,'$1$2'):ze.test(je)&&(je=je.replace(ze,'$1$2')),qe=ve,ze=be,qe.test(je)){var Ve=qe.exec(je);qe=fe,qe.test(Ve[1])&&(qe=Ce,je=je.replace(qe,''))}else if(ze.test(je)){var Ve=ze.exec(je);Ue=Ve[1],ze=Te,ze.test(Ue)&&(je=Ue,ze=Ee,We=De,Je=we,ze.test(je)?je+='e':We.test(je)?(qe=Ce,je=je.replace(qe,'')):Je.test(je)&&(je+='e'))}if(qe=Ye,qe.test(je)){var Ve=qe.exec(je);Ue=Ve[1],je=Ue+'i'}if(qe=ke,qe.test(je)){var Ve=qe.exec(je);Ue=Ve[1],Fe=Ve[2],qe=fe,qe.test(Ue)&&(je=Ue+ie[Fe])}if(qe=Re,qe.test(je)){var Ve=qe.exec(je);Ue=Ve[1],Fe=Ve[2],qe=fe,qe.test(Ue)&&(je=Ue+oe[Fe])}if(qe=Ie,ze=Ae,qe.test(je)){var Ve=qe.exec(je);Ue=Ve[1],qe=ye,qe.test(Ue)&&(je=Ue)}else if(ze.test(je)){var Ve=ze.exec(je);Ue=Ve[1]+Ve[2],ze=ye,ze.test(Ue)&&(je=Ue)}if(qe=xe,qe.test(je)){var Ve=qe.exec(je);Ue=Ve[1],qe=ye,ze=Me,We=Pe,(qe.test(Ue)||ze.test(Ue)&&!We.test(Ue))&&(je=Ue)}return qe=Oe,ze=ye,qe.test(je)&&ze.test(je)&&(qe=Ce,je=je.replace(qe,'')),'y'==Be&&(je=Be.toLowerCase()+je.substr(1)),je}}(),de.Pipeline.registerFunction(de.stemmer,'stemmer'),de.stopWordFilter=function(ie){if(ie&&!0!==de.stopWordFilter.stopWords[ie])return ie},de.clearStopWords=function(){de.stopWordFilter.stopWords={}},de.addStopWords=function(ie){null==ie||!1===Array.isArray(ie)||ie.forEach(function(oe){de.stopWordFilter.stopWords[oe]=!0},this)},de.resetStopWords=function(){de.stopWordFilter.stopWords=de.defaultStopWords},de.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0},de.stopWordFilter.stopWords=de.defaultStopWords,de.Pipeline.registerFunction(de.stopWordFilter,'stopWordFilter'),de.trimmer=function(ie){if(null===ie||void 0===ie)throw new Error('token should not be undefined');return ie.replace(/^\W+/,'').replace(/\W+$/,'')},de.Pipeline.registerFunction(de.trimmer,'trimmer'),de.InvertedIndex=function(){this.root={docs:{},df:0}},de.InvertedIndex.load=function(ie){var oe=new this;return oe.root=ie.root,oe},de.InvertedIndex.prototype.addToken=function(ie,oe,le){for(var le=le||this.root,ue=0,_e;ue<=ie.length-1;)_e=ie[ue],_e in le||(le[_e]={docs:{},df:0}),ue+=1,le=le[_e];var ce=oe.ref;le.docs[ce]?le.docs[ce]={tf:oe.tf}:(le.docs[ce]={tf:oe.tf},le.df+=1)},de.InvertedIndex.prototype.hasToken=function(ie){if(!ie)return!1;for(var oe=this.root,le=0;le<ie.length;le++){if(!oe[ie[le]])return!1;oe=oe[ie[le]]}return!0},de.InvertedIndex.prototype.getNode=function(ie){if(!ie)return null;for(var oe=this.root,le=0;le<ie.length;le++){if(!oe[ie[le]])return null;oe=oe[ie[le]]}return oe},de.InvertedIndex.prototype.getDocs=function(ie){var oe=this.getNode(ie);return null==oe?{}:oe.docs},de.InvertedIndex.prototype.getTermFrequency=function(ie,oe){var le=this.getNode(ie);return null==le?0:oe in le.docs?le.docs[oe].tf:0},de.InvertedIndex.prototype.getDocFreq=function(ie){var oe=this.getNode(ie);return null==oe?0:oe.df},de.InvertedIndex.prototype.removeToken=function(ie,oe){if(ie){var le=this.getNode(ie);null==le||oe in le.docs&&(delete le.docs[oe],le.df-=1)}},de.InvertedIndex.prototype.expandToken=function(ie,oe,le){if(null==ie||''==ie)return[];var oe=oe||[];if(void 0==le&&(le=this.getNode(ie),null==le))return oe;for(var ue in 0<le.df&&oe.push(ie),le)'docs'!=ue&&('df'==ue||this.expandToken(ie+ue,oe,le[ue]));return oe},de.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},de.Configuration=function(ie,oe){var ie=ie||'';if(void 0==oe||null==oe)throw new Error('fields should not be null');this.config={};var le;try{le=JSON.parse(ie),this.buildUserConfig(le,oe)}catch(ue){de.utils.warn('user configuration parse failed, will use default configuration'),this.buildDefaultConfig(oe)}},de.Configuration.prototype.buildDefaultConfig=function(ie){this.reset(),ie.forEach(function(oe){this.config[oe]={boost:1,bool:'OR',expand:!1}},this)},de.Configuration.prototype.buildUserConfig=function(ie,oe){var le='OR',ue=!1;if(this.reset(),'bool'in ie&&(le=ie.bool||le),'expand'in ie&&(ue=ie.expand||ue),'fields'in ie){for(var _e in ie.fields)if(-1<oe.indexOf(_e)){var ce=ie.fields[_e],me=ue;void 0!=ce.expand&&(me=ce.expand),this.config[_e]={boost:ce.boost||0===ce.boost?ce.boost:1,bool:ce.bool||le,expand:me}}else de.utils.warn('field name in user configuration not found in index instance fields');}else this.addAllFields2UserConfig(le,ue,oe)},de.Configuration.prototype.addAllFields2UserConfig=function(ie,oe,le){le.forEach(function(ue){this.config[ue]={boost:1,bool:ie,expand:oe}},this)},de.Configuration.prototype.get=function(){return this.config},de.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(ie){var oe=new this;return oe.elements=ie,oe.length=ie.length,oe},lunr.SortedSet.prototype.add=function(){var ie,oe;for(ie=0;ie<arguments.length;ie++)oe=arguments[ie],~this.indexOf(oe)||this.elements.splice(this.locationFor(oe),0,oe);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(ie,oe){return this.elements.map(ie,oe)},lunr.SortedSet.prototype.forEach=function(ie,oe){return this.elements.forEach(ie,oe)},lunr.SortedSet.prototype.indexOf=function(ie){for(var oe=0,le=this.elements.length,ue=le-oe,_e=oe+Math.floor(ue/2),ce=this.elements[_e];1<ue;){if(ce===ie)return _e;ce<ie&&(oe=_e),ce>ie&&(le=_e),ue=le-oe,_e=oe+Math.floor(ue/2),ce=this.elements[_e]}return ce===ie?_e:-1},lunr.SortedSet.prototype.locationFor=function(ie){for(var oe=0,le=this.elements.length,ue=le-oe,_e=oe+Math.floor(ue/2),ce=this.elements[_e];1<ue;)ce<ie&&(oe=_e),ce>ie&&(le=_e),ue=le-oe,_e=oe+Math.floor(ue/2),ce=this.elements[_e];return ce>ie?_e:ce<ie?_e+1:void 0},lunr.SortedSet.prototype.intersect=function(ie){for(var oe=new lunr.SortedSet,le=0,ue=0,_e=this.length,ce=ie.length,me=this.elements,pe=ie.elements;!(le>_e-1||ue>ce-1);){if(me[le]===pe[ue]){oe.add(me[le]),le++,ue++;continue}if(me[le]<pe[ue]){le++;continue}if(me[le]>pe[ue]){ue++;continue}}return oe},lunr.SortedSet.prototype.clone=function(){var ie=new lunr.SortedSet;return ie.elements=this.toArray(),ie.length=ie.elements.length,ie},lunr.SortedSet.prototype.union=function(ie){var oe,le,ue;this.length>=ie.length?(oe=this,le=ie):(oe=ie,le=this),ue=oe.clone();for(var _e=0,ce=le.toArray();_e<ce.length;_e++)ue.add(ce[_e]);return ue},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},de}();let ne=!0,ae='pureJs';self.onmessage=function(se){function de(fe){return new Promise((ye,Me)=>{me(JSON.stringify(fe)).then((Te)=>{if(this.subtle)this.subtle.encrypt({name:'AES-CBC',iv:this._iv},this._key,Te).then((Le)=>{ye(Le)}).catch(Me);else{const Le=new aesjs.ModeOfOperation.ctr(this._key),Se=Le.encrypt(Te);ye(Se)}}).catch(Me)})}function ie(fe){return new Promise((ye,Me)=>{if(this.subtle)this.subtle.decrypt({name:'AES-CBC',iv:this._iv},this._key,fe).then((Te)=>{const Le=new Uint8Array(Te);pe(Le).then((Se)=>{ye(JSON.parse(Se))}).catch(Me)}).catch(Me);else{const Te=new aesjs.ModeOfOperation.ctr(this._key),Le=Te.decrypt(fe);pe(Le).then((Se)=>{ye(JSON.parse(Se))}).catch(Me)}})}function oe(fe,ye){return new Promise((Me,Te)=>{const Le=J.transaction([G],'readwrite');Le.oncomplete=function(){Me()},Le.onerror=function(ve){Te(ve)};const Se=Le.objectStore(G);Se.put(ye,fe)})}function le(fe){return new Promise((ye,Me)=>{const Te=J.transaction([G]).objectStore(G),Le=Te.get(fe);Le.onsuccess=function(){const Se=Le.result;ye(Se)},Le.onerror=function(Se){Me(Se)}})}function ue(fe=1e3){return ne&&console.time('encrypt'),new Promise((ye,Me)=>{function Te(){if(0===Ee.length)ne&&console.timeEnd('encrypt'),ne&&console.time('index'),Ce.documentStore.docs={},ne&&console.time('index2'),Le();else{const we=Ee.splice(0,fe),Ye={};we.forEach((ke)=>{const Re=be.documentStore.docs[ke];Ye[ke]=Re}),ne&&console.time('block'),de(Ye).then((ke)=>{oe(X+Se++,ke).then(()=>{ne&&console.timeEnd('block'),Te()}).catch(Me)}).catch(Me)}}function Le(){if(0===De.length)Ce.index={},de(Ce).then((we)=>{ne&&console.timeEnd('index2'),oe($,we).then(ye).catch(Me)});else{const we=De.shift();ne&&console.time('chunk'),de({prop:we,data:Ce.index[we]}).then((Ye)=>{oe(K+ve++,Ye).then(()=>{ne&&console.timeEnd('chunk'),Le()})})}}let Se=0,ve=0;const be=W.toJSON(),Ce=JSON.parse(JSON.stringify(be)),Ee=Object.keys(Ce.documentStore.docs),De=Object.keys(Ce.index);Te()})}function _e(){return new Promise((fe,ye)=>{function Me(){le(X+Se).then((be)=>{return be?void ie(be).then((Ce)=>{Le.documentStore.docs=Object.assign(Le.documentStore.docs,Ce),Se++,Me()}).catch(ye):Te()}).catch(ye)}function Te(){le(K+ve).then((be)=>{return be?void ie(be).then((Ce)=>{Le.index[Ce.prop]=Ce.data,ve++,Te()}).catch(ye):fe(Le)}).catch(ye)}let Le=null,Se=0,ve=0;le($).then((be)=>{return be?void ie(be).then((Ce)=>{Le=Ce,Me()}).catch(ye):fe(Le)}).catch(ye)})}function ce(){return new Promise((fe)=>{le(ae).then((Me)=>{if(Me===void 0){const Te=self.crypto.subtle===void 0;oe(ae,Te).then(()=>{fe(Te)})}else fe(Me)})})}function me(fe){return new Promise((ye)=>{let Te=new Blob([fe],{type:'text/plain'}),Le=new FileReader;Le.onload=(Se)=>{ye(new Uint8Array(Se.target.result))},Le.readAsArrayBuffer(Te)})}function pe(fe,ye){return new Promise((Me)=>{let Le=new Blob([fe],{type:'application/octet-stream'}),Se=new FileReader;Se.onload=(ve)=>{Me(ve.target.result)},ye?Se.readAsText(Le,ye):Se.readAsText(Le)})}function ge(fe){return new Promise((ye)=>{this.subtle?this.subtle.importKey('raw',fe,{name:'AES-CBC'},!1,['encrypt','decrypt']).then((Te)=>{ye(Te)}):ye(fe)})}switch(se.data.action){case'initialise':const fe=()=>{z=!0,self.postMessage({_id:se.data._id,action:'initialisation-complete',success:!0,msg:'Successfully initialised the user index.'})},ye=(Ye)=>{self.postMessage({_id:se.data._id,action:'initialisation-complete',success:!1,msg:Ye})};if(!se.data.instanceId)return void ye('Error initialising user index database.');ne=!0===se.data.debug,G=`${se.data.instanceId}_user_index`;const Me=indexedDB.open(G);this._blockSize=se.data.blockSize||this._blockSize;var he=this;Me.onupgradeneeded=function(Ye){Ye.target.result.createObjectStore(G)},Me.onerror=function(){ye('Failed opening database.')},Me.onsuccess=function(Ye){J=Ye.target.result,ce().then((ke)=>{ke?(H(),he.subtle=null):he.subtle=self.crypto.subtle,ge(se.data.key).then((Re)=>{he._key=Re,he._iv=se.data.iv,_e().then((Ie)=>{Ie&&(W=Q.Index.load(Ie)),fe()}).catch(()=>{ye('Failed reading database for previously stored index.')})}).catch(()=>{ye('Failed importing key for previously stored index.')})}).catch(()=>{ye('Failed detecting crypto type for previously stored index')})};break;case'fetch':if(!1==z)return void self.postMessage({_id:se.data._id,success:!1,action:'index-complete',msg:'Initialisation must be completed before the \'fetch\' action can take place.'});const Te=Date.now();fetch(se.data.endpoint,{method:'GET',headers:{Authorization:'Basic '+A(`${se.data.jid}:${se.data.pass}`)}}).then((Ye)=>{return Ye.json()}).then((Ye)=>{const ke={added:Ye.added||[],updated:Ye.updated||[],removed:Ye.removed||[]};void 0!==Ye.full&&(W=null,ke.added=Ye.full);const Re=Date.now()-Te,Ie=[`Downloaded '${ke.added.length}' additions, '${ke.updated.length}' updates and '${ke.removed.length}' deletions in ${Re}ms`];null===W&&(W=Q(function(){this.setRef('jid'),this.addField('jid'),this.addField('firstName'),this.addField('lastName'),this.addField('jobTitle'),this.addField('telephone'),this.addField('group'),this.saveDocument(!0)}),Ie.push(`Created a fresh index`)),0<ke.added.length&&(ke.added.forEach((Ae)=>W.addDoc(Ae)),Ie.push(`Added '${ke.added.length}' users to index`)),0<ke.updated.length&&(ke.updated.forEach((Ae)=>W.updateDoc(Ae)),Ie.push(`Updated '${ke.updated.length}' users in index`)),0<ke.removed.length&&(ke.removed.forEach((Ae)=>W.removeDoc(Ae)),Ie.push(`Removed '${ke.removed.length}' users from index`)),ue(2e3).then(()=>{self.postMessage({_id:se.data._id,success:!0,action:'index-complete',hash:Ye.hash||null,msg:`${Ie.join(', ')} | Completed in ${Date.now()-Te}ms.`})}).catch(()=>{self.postMessage({_id:se.data._id,success:!1,action:'index-complete',msg:'Couldn\'t persist updated index.'})})}).catch((Ye)=>{const ke=`Unable to download user directory from location '${se.data.endpoint}'`;console.error(ke,Ye),self.postMessage({_id:se.data._id,success:!1,action:'index-complete',msg:ke})});break;case'search':if(Q.clearStopWords(),!1==z)return void self.postMessage({_id:se.data._id,success:!1,action:'search-complete',msg:'Initialisation must be completed before the \'search\' action can take place.'});if(null===W)return void self.postMessage({_id:se.data._id,success:!1,action:'search-complete',msg:'There is no index to be searched, have you updated the index yet?'});const Le=Date.now();let Se=null;if(Array.isArray(se.data.fields)&&0<se.data.fields.length){const Ye={fields:{},bool:'OR',expand:!0};se.data.fields.forEach((ke)=>{Ye.fields[ke]={}}),Se=W.search(se.data.query,Ye)}else Se=W.search(se.data.query,{expand:!0});const ve=Se.map((Ye)=>{return Ye.doc});self.postMessage({_id:se.data._id,success:!0,action:'search-complete',msg:`Found ${ve.length} users in ${Date.now()-Le}ms.`,results:ve});break;case'jid-search':if(!1==z)return void self.postMessage({_id:se.data._id,success:!1,action:'jid-search-complete',msg:'Initialisation must be completed before the \'jid-search\' action can take place.'});if(null===W)return void self.postMessage({_id:se.data._id,success:!1,action:'jid-search-complete',msg:'There is no index to be searched, have you updated the index yet?'});const be=Date.now(),Ce=W.search(se.data.jid,{expand:!0})[0],Ee=void 0===Ce?null:Ce.doc;self.postMessage({_id:se.data._id,success:!0,action:'jid-search-complete',msg:null===Ee?`No user with JID '${se.data.jid}' could be found.`:`Found user with JID '${se.data.jid}' in ${Date.now()-be}ms.`,result:Ee});break;case'get-all-users':if(!1==z)return void self.postMessage({_id:se.data._id,success:!1,action:'get-all-users-complete',msg:'Initialisation must be completed before the \'get-all-users\' action can take place.'});if(null===W)return void self.postMessage({_id:se.data._id,success:!1,action:'get-all-users-complete',msg:'There is no index available, have you updated the index yet?'});const De=Date.now(),we=[];for(let Ye in W.documentStore.docs)we.push(W.documentStore.docs[Ye]);self.postMessage({_id:se.data._id,success:!0,action:'get-all-users-complete',msg:`Fetched '${we.length}' users in ${Date.now()-De}ms.`,results:we});break;case'destroy':if(null!==J){J.close();const Ye=indexedDB.deleteDatabase(G);Ye.onerror=function(){self.postMessage({_id:se.data._id,success:!1,action:'destroy-complete',msg:'Error deleting user directory database.'})},Ye.onsuccess=function(){z=!1,W=null,J=null,G=null,self.postMessage({_id:se.data._id,success:!0,action:'destroy-complete',msg:null}),self.close()},Ye.onblocked=function(){self.postMessage({_id:se.data._id,success:!1,action:'destroy-complete',msg:'Couldn\'t delete user directory database due to the operation being blocked.'})}}else self.postMessage({_id:se.data._id,success:!0,action:'destroy-complete',msg:'Database not yet initialised, so nothing to destroy.'}),self.close();break;default:self.postMessage({_id:se.data._id,success:!0,msg:`Invalid action '${se.data.action}' was specified.`});}}}},function(L,E,R){var I,A,N,H,B,z,W,J,G,$,G,K,G,X,G,Q,G,Z;(function(ee,te){A={id:'strophe-base64',exports:{},loaded:!1},I=function(){return te()}.call(A.exports,R,A.exports,A),A.loaded=!0,!(I===void 0&&(I=A.exports))})(this,function(){var ee='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';return{encode:function(ne){var ae='',ce=0,se,de,ie,oe,le,ue,_e;do se=ne.charCodeAt(ce++),de=ne.charCodeAt(ce++),ie=ne.charCodeAt(ce++),oe=se>>2,le=(3&se)<<4|de>>4,ue=(15&de)<<2|ie>>6,_e=63&ie,isNaN(de)?(le=(3&se)<<4,ue=_e=64):isNaN(ie)&&(_e=64),ae=ae+ee.charAt(oe)+ee.charAt(le)+ee.charAt(ue)+ee.charAt(_e);while(ce<ne.length);return ae},decode:function(ne){var ae='',ce=0,se,de,ie,oe,le,ue,_e;ne=ne.replace(/[^A-Za-z0-9\+\/\=]/g,'');do oe=ee.indexOf(ne.charAt(ce++)),le=ee.indexOf(ne.charAt(ce++)),ue=ee.indexOf(ne.charAt(ce++)),_e=ee.indexOf(ne.charAt(ce++)),se=oe<<2|le>>4,de=(15&le)<<4|ue>>2,ie=(3&ue)<<6|_e,ae+=String.fromCharCode(se),64!=ue&&(ae+=String.fromCharCode(de)),64!=_e&&(ae+=String.fromCharCode(ie));while(ce<ne.length);return ae}}}),function(ee,te){H={id:'strophe-sha1',exports:{},loaded:!1},N=function(){return te()}.call(H.exports,R,H.exports,H),H.loaded=!0,!(N===void 0&&(N=H.exports))}(this,function(){function ee(ue,_e){ue[_e>>5]|=128<<24-_e%32,ue[(_e+64>>9<<4)+15]=_e;var ce=Array(80),me=1732584193,pe=-271733879,ge=-1732584194,he=271733878,fe=-1009589776,ye,Me,Te,Le,Se,ve,be,Ce;for(ye=0;ye<ue.length;ye+=16){for(Le=me,Se=pe,ve=ge,be=he,Ce=fe,Me=0;80>Me;Me++)ce[Me]=16>Me?ue[ye+Me]:de(ce[Me-3]^ce[Me-8]^ce[Me-14]^ce[Me-16],1),Te=se(se(de(me,5),te(Me,pe,ge,he)),se(se(fe,ce[Me]),ne(Me))),fe=he,he=ge,ge=de(pe,30),pe=me,me=Te;me=se(me,Le),pe=se(pe,Se),ge=se(ge,ve),he=se(he,be),fe=se(fe,Ce)}return[me,pe,ge,he,fe]}function te(ue,_e,ce,me){return 20>ue?_e&ce|~_e&me:40>ue?_e^ce^me:60>ue?_e&ce|_e&me|ce&me:_e^ce^me}function ne(ue){return 20>ue?1518500249:40>ue?1859775393:60>ue?-1894007588:-899497514}function ae(ue,_e){var ce=ie(ue);16<ce.length&&(ce=ee(ce,8*ue.length));for(var me=Array(16),pe=Array(16),ge=0;16>ge;ge++)me[ge]=909522486^ce[ge],pe[ge]=1549556828^ce[ge];var he=ee(me.concat(ie(_e)),512+8*_e.length);return ee(pe.concat(he),672)}function se(ue,_e){var ce=(65535&ue)+(65535&_e);return(ue>>16)+(_e>>16)+(ce>>16)<<16|65535&ce}function de(ue,_e){return ue<<_e|ue>>>32-_e}function ie(ue){for(var _e=[],me=0;me<8*ue.length;me+=8)_e[me>>5]|=(ue.charCodeAt(me/8)&255)<<24-me%32;return _e}function oe(ue){for(var _e='',me=0;me<32*ue.length;me+=8)_e+=String.fromCharCode(ue[me>>5]>>>24-me%32&255);return _e}function le(ue){for(var ce='',ge=0,me,pe;ge<4*ue.length;ge+=3)for(me=(255&ue[ge>>2]>>8*(3-ge%4))<<16|(255&ue[ge+1>>2]>>8*(3-(ge+1)%4))<<8|255&ue[ge+2>>2]>>8*(3-(ge+2)%4),pe=0;4>pe;pe++)ce+=8*ge+6*pe>32*ue.length?'=':'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charAt(63&me>>6*(3-pe));return ce}return{b64_hmac_sha1:function(ue,_e){return le(ae(ue,_e))},b64_sha1:function(ue){return le(ee(ie(ue),8*ue.length))},binb2str:oe,core_hmac_sha1:ae,str_hmac_sha1:function(ue,_e){return oe(ae(ue,_e))},str_sha1:function(ue){return oe(ee(ie(ue),8*ue.length))}}}),function(ee,te){z={id:'strophe-md5',exports:{},loaded:!1},B=function(){return te()}.call(z.exports,R,z.exports,z),z.loaded=!0,!(B===void 0&&(B=z.exports))}(this,function(){var te=function(pe,ge){var he=(65535&pe)+(65535&ge);return(pe>>16)+(ge>>16)+(he>>16)<<16|65535&he},ne=function(pe,ge){return pe<<ge|pe>>>32-ge},ae=function(pe){for(var ge=[],he=0;he<8*pe.length;he+=8)ge[he>>5]|=(255&pe.charCodeAt(he/8))<<he%32;return ge},se=function(pe){for(var ge='',he=0;he<32*pe.length;he+=8)ge+=String.fromCharCode(255&pe[he>>5]>>>he%32);return ge},de=function(pe){for(var ge='0123456789abcdef',he='',fe=0;fe<4*pe.length;fe++)he+=ge.charAt(15&pe[fe>>2]>>8*(fe%4)+4)+ge.charAt(15&pe[fe>>2]>>8*(fe%4));return he},ie=function(pe,ge,he,fe,ye,Me){return te(ne(te(te(ge,pe),te(fe,Me)),ye),he)},oe=function(pe,ge,he,fe,ye,Me,Te){return ie(ge&he|~ge&fe,pe,ge,ye,Me,Te)},le=function(pe,ge,he,fe,ye,Me,Te){return ie(ge&fe|he&~fe,pe,ge,ye,Me,Te)},ue=function(pe,ge,he,fe,ye,Me,Te){return ie(ge^he^fe,pe,ge,ye,Me,Te)},_e=function(pe,ge,he,fe,ye,Me,Te){return ie(he^(ge|~fe),pe,ge,ye,Me,Te)},ce=function(pe,ge){pe[ge>>5]|=128<<ge%32,pe[(ge+64>>>9<<4)+14]=ge;for(var he=1732584193,fe=-271733879,ye=-1732584194,Me=271733878,be=0,Te,Le,Se,ve;be<pe.length;be+=16)Te=he,Le=fe,Se=ye,ve=Me,he=oe(he,fe,ye,Me,pe[be+0],7,-680876936),Me=oe(Me,he,fe,ye,pe[be+1],12,-389564586),ye=oe(ye,Me,he,fe,pe[be+2],17,606105819),fe=oe(fe,ye,Me,he,pe[be+3],22,-1044525330),he=oe(he,fe,ye,Me,pe[be+4],7,-176418897),Me=oe(Me,he,fe,ye,pe[be+5],12,1200080426),ye=oe(ye,Me,he,fe,pe[be+6],17,-1473231341),fe=oe(fe,ye,Me,he,pe[be+7],22,-45705983),he=oe(he,fe,ye,Me,pe[be+8],7,1770035416),Me=oe(Me,he,fe,ye,pe[be+9],12,-1958414417),ye=oe(ye,Me,he,fe,pe[be+10],17,-42063),fe=oe(fe,ye,Me,he,pe[be+11],22,-1990404162),he=oe(he,fe,ye,Me,pe[be+12],7,1804603682),Me=oe(Me,he,fe,ye,pe[be+13],12,-40341101),ye=oe(ye,Me,he,fe,pe[be+14],17,-1502002290),fe=oe(fe,ye,Me,he,pe[be+15],22,1236535329),he=le(he,fe,ye,Me,pe[be+1],5,-165796510),Me=le(Me,he,fe,ye,pe[be+6],9,-1069501632),ye=le(ye,Me,he,fe,pe[be+11],14,643717713),fe=le(fe,ye,Me,he,pe[be+0],20,-373897302),he=le(he,fe,ye,Me,pe[be+5],5,-701558691),Me=le(Me,he,fe,ye,pe[be+10],9,38016083),ye=le(ye,Me,he,fe,pe[be+15],14,-660478335),fe=le(fe,ye,Me,he,pe[be+4],20,-405537848),he=le(he,fe,ye,Me,pe[be+9],5,568446438),Me=le(Me,he,fe,ye,pe[be+14],9,-1019803690),ye=le(ye,Me,he,fe,pe[be+3],14,-187363961),fe=le(fe,ye,Me,he,pe[be+8],20,1163531501),he=le(he,fe,ye,Me,pe[be+13],5,-1444681467),Me=le(Me,he,fe,ye,pe[be+2],9,-51403784),ye=le(ye,Me,he,fe,pe[be+7],14,1735328473),fe=le(fe,ye,Me,he,pe[be+12],20,-1926607734),he=ue(he,fe,ye,Me,pe[be+5],4,-378558),Me=ue(Me,he,fe,ye,pe[be+8],11,-2022574463),ye=ue(ye,Me,he,fe,pe[be+11],16,1839030562),fe=ue(fe,ye,Me,he,pe[be+14],23,-35309556),he=ue(he,fe,ye,Me,pe[be+1],4,-1530992060),Me=ue(Me,he,fe,ye,pe[be+4],11,1272893353),ye=ue(ye,Me,he,fe,pe[be+7],16,-155497632),fe=ue(fe,ye,Me,he,pe[be+10],23,-1094730640),he=ue(he,fe,ye,Me,pe[be+13],4,681279174),Me=ue(Me,he,fe,ye,pe[be+0],11,-358537222),ye=ue(ye,Me,he,fe,pe[be+3],16,-722521979),fe=ue(fe,ye,Me,he,pe[be+6],23,76029189),he=ue(he,fe,ye,Me,pe[be+9],4,-640364487),Me=ue(Me,he,fe,ye,pe[be+12],11,-421815835),ye=ue(ye,Me,he,fe,pe[be+15],16,530742520),fe=ue(fe,ye,Me,he,pe[be+2],23,-995338651),he=_e(he,fe,ye,Me,pe[be+0],6,-198630844),Me=_e(Me,he,fe,ye,pe[be+7],10,1126891415),ye=_e(ye,Me,he,fe,pe[be+14],15,-1416354905),fe=_e(fe,ye,Me,he,pe[be+5],21,-57434055),he=_e(he,fe,ye,Me,pe[be+12],6,1700485571),Me=_e(Me,he,fe,ye,pe[be+3],10,-1894986606),ye=_e(ye,Me,he,fe,pe[be+10],15,-1051523),fe=_e(fe,ye,Me,he,pe[be+1],21,-2054922799),he=_e(he,fe,ye,Me,pe[be+8],6,1873313359),Me=_e(Me,he,fe,ye,pe[be+15],10,-30611744),ye=_e(ye,Me,he,fe,pe[be+6],15,-1560198380),fe=_e(fe,ye,Me,he,pe[be+13],21,1309151649),he=_e(he,fe,ye,Me,pe[be+4],6,-145523070),Me=_e(Me,he,fe,ye,pe[be+11],10,-1120210379),ye=_e(ye,Me,he,fe,pe[be+2],15,718787259),fe=_e(fe,ye,Me,he,pe[be+9],21,-343485551),he=te(he,Te),fe=te(fe,Le),ye=te(ye,Se),Me=te(Me,ve);return[he,fe,ye,Me]};return{hexdigest:function(pe){return de(ce(ae(pe),8*pe.length))},hash:function(pe){return se(ce(ae(pe),8*pe.length))}}}),function(ee,te){J={id:'strophe-utils',exports:{},loaded:!1},W=function(){return te()}.call(J.exports,R,J.exports,J),J.loaded=!0,!(W===void 0&&(W=J.exports))}(this,function(){return{utf16to8:function(te){var se='',de=te.length,ne,ae;for(ne=0;ne<de;ne++)ae=te.charCodeAt(ne),0<=ae&&127>=ae?se+=te.charAt(ne):2047<ae?(se+=String.fromCharCode(224|15&ae>>12),se+=String.fromCharCode(128|63&ae>>6),se+=String.fromCharCode(128|63&ae>>0)):(se+=String.fromCharCode(192|31&ae>>6),se+=String.fromCharCode(128|63&ae>>0));return se},addCookies:function(te){var ne,ae,se,de,ie,oe,le;for(ne in te||{})ie='',oe='',le='',ae=te[ne],se='object'==typeof ae,de=escape(unescape(se?ae.value:ae)),se&&(ie=ae.expires?';expires='+ae.expires:'',oe=ae.domain?';domain='+ae.domain:'',le=ae.path?';path='+ae.path:''),document.cookie=ne+'='+de+ie+oe+le}}}),function(ee,te){G=[],!($=function(){return te()}.apply(E,G))}(this,function(){Function.prototype.bind||(Function.prototype.bind=function(ee){var te=this,ne=Array.prototype.slice,ae=Array.prototype.concat,se=ne.call(arguments,1);return function(){return te.apply(ee?ee:this,ae.call(se,ne.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(ee){return'[object Array]'===Object.prototype.toString.call(ee)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(ee){var te=this.length,ne=+arguments[1]||0;for(ne=0>ne?Math.ceil(ne):Math.floor(ne),0>ne&&(ne+=te);ne<te;ne++)if(ne in this&&this[ne]===ee)return ne;return-1})}),Array.prototype.forEach||(Array.prototype.forEach=function(ee,te){var ne,ae;if(null===this)throw new TypeError(' this is null or not defined');var se=Object(this),de=se.length>>>0;if('function'!=typeof ee)throw new TypeError(ee+' is not a function');for(1<arguments.length&&(ne=te),ae=0;ae<de;){var ie;ae in se&&(ie=se[ae],ee.call(ne,ie,ae,se)),ae++}}),function(ee,te){G=[N,I,B,W,$],!(K=function(){return te.apply(this,arguments)}.apply(E,G))}(this,function(ee,te,ne,ae){function se(ue,_e){return new le.Builder(ue,_e)}function ie(ue){return new le.Builder('iq',ue)}function oe(ue){return new le.Builder('presence',ue)}var le;return le={VERSION:'1.2.12',NS:{HTTPBIND:'http://jabber.org/protocol/httpbind',BOSH:'urn:xmpp:xbosh',CLIENT:'jabber:client',AUTH:'jabber:iq:auth',ROSTER:'jabber:iq:roster',PROFILE:'jabber:iq:profile',DISCO_INFO:'http://jabber.org/protocol/disco#info',DISCO_ITEMS:'http://jabber.org/protocol/disco#items',MUC:'http://jabber.org/protocol/muc',SASL:'urn:ietf:params:xml:ns:xmpp-sasl',STREAM:'http://etherx.jabber.org/streams',FRAMING:'urn:ietf:params:xml:ns:xmpp-framing',BIND:'urn:ietf:params:xml:ns:xmpp-bind',SESSION:'urn:ietf:params:xml:ns:xmpp-session',VERSION:'jabber:iq:version',STANZAS:'urn:ietf:params:xml:ns:xmpp-stanzas',XHTML_IM:'http://jabber.org/protocol/xhtml-im',XHTML:'http://www.w3.org/1999/xhtml'},XHTML:{tags:['a','blockquote','br','cite','em','img','li','ol','p','span','strong','ul','body'],attributes:{a:['href'],blockquote:['style'],br:[],cite:['style'],em:[],img:['src','alt','style','height','width'],li:['style'],ol:['style'],p:['style'],span:['style'],strong:[],ul:['style'],body:[]},css:['background-color','color','font-family','font-size','font-style','font-weight','margin-left','margin-right','text-align','text-decoration'],validTag:function(ue){for(var _e=0;_e<le.XHTML.tags.length;_e++)if(ue==le.XHTML.tags[_e])return!0;return!1},validAttribute:function(ue,_e){if('undefined'!=typeof le.XHTML.attributes[ue]&&0<le.XHTML.attributes[ue].length)for(var ce=0;ce<le.XHTML.attributes[ue].length;ce++)if(_e==le.XHTML.attributes[ue][ce])return!0;return!1},validCSS:function(ue){for(var _e=0;_e<le.XHTML.css.length;_e++)if(ue==le.XHTML.css[_e])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:0.1,addNamespace:function(ue,_e){le.NS[ue]=_e},forEachChild:function(ue,_e,ce){var me,pe;for(me=0;me<ue.childNodes.length;me++)pe=ue.childNodes[me],pe.nodeType==le.ElementType.NORMAL&&(!_e||this.isTagEqual(pe,_e))&&ce(pe)},isTagEqual:function(ue,_e){return ue.tagName==_e},_xmlGenerator:null,_makeGenerator:function(){var ue;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&10>document.documentMode?(ue=this._getIEXmlDom(),ue.appendChild(ue.createElement('strophe'))):ue=document.implementation.createDocument('jabber:client','strophe',null),ue},xmlGenerator:function(){return le._xmlGenerator||(le._xmlGenerator=le._makeGenerator()),le._xmlGenerator},_getIEXmlDom:function(){for(var ue=null,_e=['Msxml2.DOMDocument.6.0','Msxml2.DOMDocument.5.0','Msxml2.DOMDocument.4.0','MSXML2.DOMDocument.3.0','MSXML2.DOMDocument','MSXML.DOMDocument','Microsoft.XMLDOM'],ce=0;ce<_e.length&&null==ue;ce++)try{ue=new ActiveXObject(_e[ce])}catch(me){ue=null}return ue},xmlElement:function(ue){if(!ue)return null;var _e=le.xmlGenerator().createElement(ue),ce,me,pe;for(ce=1;ce<arguments.length;ce++){var ge=arguments[ce];if(ge)if('string'==typeof ge||'number'==typeof ge)_e.appendChild(le.xmlTextNode(ge));else if('object'==typeof ge&&'function'==typeof ge.sort)for(me=0;me<ge.length;me++){var he=ge[me];'object'==typeof he&&'function'==typeof he.sort&&void 0!==he[1]&&null!==he[1]&&_e.setAttribute(he[0],he[1])}else if('object'==typeof ge)for(pe in ge)ge.hasOwnProperty(pe)&&void 0!==ge[pe]&&null!==ge[pe]&&_e.setAttribute(pe,ge[pe])}return _e},xmlescape:function(ue){return ue=ue.replace(/\&/g,'&amp;'),ue=ue.replace(/</g,'&lt;'),ue=ue.replace(/>/g,'&gt;'),ue=ue.replace(/'/g,'&apos;'),ue=ue.replace(/"/g,'&quot;'),ue},xmlunescape:function(ue){return ue=ue.replace(/\&amp;/g,'&'),ue=ue.replace(/&lt;/g,'<'),ue=ue.replace(/&gt;/g,'>'),ue=ue.replace(/&apos;/g,'\''),ue=ue.replace(/&quot;/g,'"'),ue},xmlTextNode:function(ue){return le.xmlGenerator().createTextNode(ue)},xmlHtmlNode:function(ue){var _e;if(window.DOMParser){var ce=new DOMParser;_e=ce.parseFromString(ue,'text/xml')}else _e=new ActiveXObject('Microsoft.XMLDOM'),_e.async='false',_e.loadXML(ue);return _e},getText:function(ue){if(!ue)return null;var _e='';0===ue.childNodes.length&&ue.nodeType==le.ElementType.TEXT&&(_e+=ue.nodeValue);for(var ce=0;ce<ue.childNodes.length;ce++)ue.childNodes[ce].nodeType==le.ElementType.TEXT&&(_e+=ue.childNodes[ce].nodeValue);return le.xmlescape(_e)},copyElement:function(ue){var _e,ce;if(ue.nodeType==le.ElementType.NORMAL){for(ce=le.xmlElement(ue.tagName),_e=0;_e<ue.attributes.length;_e++)ce.setAttribute(ue.attributes[_e].nodeName,ue.attributes[_e].value);for(_e=0;_e<ue.childNodes.length;_e++)ce.appendChild(le.copyElement(ue.childNodes[_e]))}else ue.nodeType==le.ElementType.TEXT&&(ce=le.xmlGenerator().createTextNode(ue.nodeValue));return ce},createHtml:function(ue){var _e,ce,me,pe,ge,he,fe,ye,Me,Te,Le;if(ue.nodeType==le.ElementType.NORMAL){if(pe=ue.nodeName.toLowerCase(),le.XHTML.validTag(pe))try{for(ce=le.xmlElement(pe),_e=0;_e<le.XHTML.attributes[pe].length;_e++)if(ge=le.XHTML.attributes[pe][_e],he=ue.getAttribute(ge),'undefined'!=typeof he&&null!==he&&''!==he&&!1!==he&&0!==he)if('style'==ge&&'object'==typeof he&&'undefined'!=typeof he.cssText&&(he=he.cssText),'style'==ge){for(fe=[],ye=he.split(';'),me=0;me<ye.length;me++)Me=ye[me].split(':'),Te=Me[0].replace(/^\s*/,'').replace(/\s*$/,'').toLowerCase(),le.XHTML.validCSS(Te)&&(Le=Me[1].replace(/^\s*/,'').replace(/\s*$/,''),fe.push(Te+': '+Le));0<fe.length&&(he=fe.join('; '),ce.setAttribute(ge,he))}else ce.setAttribute(ge,he);for(_e=0;_e<ue.childNodes.length;_e++)ce.appendChild(le.createHtml(ue.childNodes[_e]))}catch(Se){ce=le.xmlTextNode('')}else for(ce=le.xmlGenerator().createDocumentFragment(),_e=0;_e<ue.childNodes.length;_e++)ce.appendChild(le.createHtml(ue.childNodes[_e]));}else if(ue.nodeType==le.ElementType.FRAGMENT)for(ce=le.xmlGenerator().createDocumentFragment(),_e=0;_e<ue.childNodes.length;_e++)ce.appendChild(le.createHtml(ue.childNodes[_e]));else ue.nodeType==le.ElementType.TEXT&&(ce=le.xmlTextNode(ue.nodeValue));return ce},escapeNode:function(ue){return'string'==typeof ue?ue.replace(/^\s+|\s+$/g,'').replace(/\\/g,'\\5c').replace(/ /g,'\\20').replace(/\"/g,'\\22').replace(/\&/g,'\\26').replace(/\'/g,'\\27').replace(/\//g,'\\2f').replace(/:/g,'\\3a').replace(/</g,'\\3c').replace(/>/g,'\\3e').replace(/@/g,'\\40'):ue},unescapeNode:function(ue){return'string'==typeof ue?ue.replace(/\\20/g,' ').replace(/\\22/g,'"').replace(/\\26/g,'&').replace(/\\27/g,'\'').replace(/\\2f/g,'/').replace(/\\3a/g,':').replace(/\\3c/g,'<').replace(/\\3e/g,'>').replace(/\\40/g,'@').replace(/\\5c/g,'\\'):ue},getNodeFromJid:function(ue){return 0>ue.indexOf('@')?null:ue.split('@')[0]},getDomainFromJid:function(ue){var _e=le.getBareJidFromJid(ue);if(0>_e.indexOf('@'))return _e;var ce=_e.split('@');return ce.splice(0,1),ce.join('@')},getResourceFromJid:function(ue){var _e=ue.split('/');return 2>_e.length?null:(_e.splice(0,1),_e.join('/'))},getBareJidFromJid:function(ue){return ue?ue.split('/')[0]:null},_handleError:function(ue){'undefined'!=typeof ue.stack&&le.fatal(ue.stack),ue.sourceURL?le.fatal('error: '+this.handler+' '+ue.sourceURL+':'+ue.line+' - '+ue.name+': '+ue.message):ue.fileName?le.fatal('error: '+this.handler+' '+ue.fileName+':'+ue.lineNumber+' - '+ue.name+': '+ue.message):le.fatal('error: '+ue.message)},log:function(){},debug:function(ue){this.log(this.LogLevel.DEBUG,ue)},info:function(ue){this.log(this.LogLevel.INFO,ue)},warn:function(ue){this.log(this.LogLevel.WARN,ue)},error:function(ue){this.log(this.LogLevel.ERROR,ue)},fatal:function(ue){this.log(this.LogLevel.FATAL,ue)},serialize:function(ue){var _e;if(!ue)return null;'function'==typeof ue.tree&&(ue=ue.tree());var ce=ue.nodeName,me,pe;for(ue.getAttribute('_realname')&&(ce=ue.getAttribute('_realname')),_e='<'+ce,me=0;me<ue.attributes.length;me++)'_realname'!=ue.attributes[me].nodeName&&(_e+=' '+ue.attributes[me].nodeName+'=\''+le.xmlescape(ue.attributes[me].value)+'\'');if(0<ue.childNodes.length){for(_e+='>',me=0;me<ue.childNodes.length;me++)switch(pe=ue.childNodes[me],pe.nodeType){case le.ElementType.NORMAL:_e+=le.serialize(pe);break;case le.ElementType.TEXT:_e+=le.xmlescape(pe.nodeValue);break;case le.ElementType.CDATA:_e+='<![CDATA['+pe.nodeValue+']]>';}_e+='</'+ce+'>'}else _e+='/>';return _e},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(ue,_e){le._connectionPlugins[ue]=_e}},le.Builder=function(ue,_e){('presence'==ue||'message'==ue||'iq'==ue)&&(_e&&!_e.xmlns?_e.xmlns=le.NS.CLIENT:!_e&&(_e={xmlns:le.NS.CLIENT})),this.nodeTree=le.xmlElement(ue,_e),this.node=this.nodeTree},le.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return le.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(ue){for(var _e in ue)ue.hasOwnProperty(_e)&&(void 0===ue[_e]?this.node.removeAttribute(_e):this.node.setAttribute(_e,ue[_e]));return this},c:function(ue,_e,ce){var me=le.xmlElement(ue,_e,ce);return this.node.appendChild(me),'string'!=typeof ce&&'number'!=typeof ce&&(this.node=me),this},cnode:function(ue){var ce=le.xmlGenerator(),_e;try{_e=void 0!==ce.importNode}catch(pe){_e=!1}var me=_e?ce.importNode(ue,!0):le.copyElement(ue);return this.node.appendChild(me),this.node=me,this},t:function(ue){var _e=le.xmlTextNode(ue);return this.node.appendChild(_e),this},h:function(ue){var _e=document.createElement('body');_e.innerHTML=ue;for(var ce=le.createHtml(_e);0<ce.childNodes.length;)this.node.appendChild(ce.childNodes[0]);return this}},le.Handler=function(ue,_e,ce,me,pe,ge,he){this.handler=ue,this.ns=_e,this.name=ce,this.type=me,this.id=pe,this.options=he||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(le.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.from=this.options.matchBareFromJid?ge?le.getBareJidFromJid(ge):null:ge,this.user=!0},le.Handler.prototype={getNamespace:function(ue){var _e=ue.getAttribute('xmlns');return _e&&this.options.ignoreNamespaceFragment&&(_e=_e.split('#')[0]),_e},namespaceMatch:function(ue){var _e=!1;if(!this.ns)return!0;var ce=this;return le.forEachChild(ue,null,function(me){ce.getNamespace(me)===ce.ns&&(_e=!0)}),_e=_e||this.getNamespace(ue)===this.ns,_e},isMatch:function(ue){var _e=ue.getAttribute('from');this.options.matchBareFromJid&&(_e=le.getBareJidFromJid(_e));var ce=ue.getAttribute('type');return!this.namespaceMatch(ue)||this.name&&!le.isTagEqual(ue,this.name)||this.type&&(Array.isArray(this.type)?-1==this.type.indexOf(ce):ce!=this.type)||this.id&&ue.getAttribute('id')!=this.id||this.from&&_e!=this.from?!1:!0},run:function(ue){var _e=null;try{_e=this.handler(ue)}catch(ce){throw le._handleError(ce),ce}return _e},toString:function(){return'{Handler: '+this.handler+'('+this.name+','+this.id+','+this.ns+')}'}},le.TimedHandler=function(ue,_e){this.period=ue,this.handler=_e,this.lastCalled=new Date().getTime(),this.user=!0},le.TimedHandler.prototype={run:function(){return this.lastCalled=new Date().getTime(),this.handler()},reset:function(){this.lastCalled=new Date().getTime()},toString:function(){return'{TimedHandler: '+this.handler+'('+this.period+')}'}},le.Connection=function(ue,_e){this.service=ue,this.options=_e||{};var ce=this.options.protocol||'';for(var me in this._proto=0===ue.indexOf('ws:')||0===ue.indexOf('wss:')||0===ce.indexOf('ws')?new le.Websocket(this):new le.Bosh(this),this.jid='',this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100),ae.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),le._connectionPlugins)if(le._connectionPlugins.hasOwnProperty(me)){var pe=le._connectionPlugins[me],ge=function(){};ge.prototype=pe,this[me]=new ge,this[me].init(this)}},le.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(ue){var _e='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(ce){var me=0|16*Math.random(),pe='x'==ce?me:8|3&me;return pe.toString(16)});return'string'==typeof ue||'number'==typeof ue?_e+':'+ue:_e+''},addProtocolErrorHandler:function(ue,_e,ce){this.protocolErrorHandlers[ue][_e]=ce},connect:function(ue,_e,ce,me,pe,ge,he){this.jid=ue,this.authzid=le.getBareJidFromJid(this.jid),this.authcid=he||le.getNodeFromJid(this.jid),this.pass=_e,this.servtype='xmpp',this.connect_callback=ce,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=le.getDomainFromJid(this.jid),this._changeConnectStatus(le.Status.CONNECTING,null),this._proto._connect(me,pe,ge)},attach:function(ue,_e,ce,me,pe,ge,he){if(this._proto instanceof le.Bosh)this._proto._attach(ue,_e,ce,me,pe,ge,he);else throw{name:'StropheSessionError',message:'The "attach" method can only be used with a BOSH connection.'}},restore:function(ue,_e,ce,me,pe){if(this._sessionCachingSupported())this._proto._restore(ue,_e,ce,me,pe);else throw{name:'StropheSessionError',message:'The "restore" method can only be used with a BOSH connection.'}},_sessionCachingSupported:function(){if(this._proto instanceof le.Bosh){if(!JSON)return!1;try{window.sessionStorage.setItem('_strophe_','_strophe_'),window.sessionStorage.removeItem('_strophe_')}catch(ue){return!1}return!0}return!1},xmlInput:function(){},xmlOutput:function(){},rawInput:function(){},rawOutput:function(){},nextValidRid:function(){},send:function(ue){if(null!==ue){if('function'==typeof ue.sort)for(var _e=0;_e<ue.length;_e++)this._queueData(ue[_e]);else'function'==typeof ue.tree?this._queueData(ue.tree()):this._queueData(ue);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(ue,_e,ce,me){var pe=null,ge=this;'function'==typeof ue.tree&&(ue=ue.tree());var he=ue.getAttribute('id');if(he||(he=this.getUniqueId('sendPresence'),ue.setAttribute('id',he)),'function'==typeof _e||'function'==typeof ce){var fe=this.addHandler(function(ye){pe&&ge.deleteTimedHandler(pe);var Me=ye.getAttribute('type');'error'==Me?ce&&ce(ye):_e&&_e(ye)},null,'presence',null,he);me&&(pe=this.addTimedHandler(me,function(){return ge.deleteHandler(fe),ce&&ce(null),!1}))}return this.send(ue),he},sendIQ:function(ue,_e,ce,me){var pe=null,ge=this;'function'==typeof ue.tree&&(ue=ue.tree());var he=ue.getAttribute('id');if(he||(he=this.getUniqueId('sendIQ'),ue.setAttribute('id',he)),'function'==typeof _e||'function'==typeof ce){var fe=this.addHandler(function(ye){pe&&ge.deleteTimedHandler(pe);var Me=ye.getAttribute('type');if('result'==Me)_e&&_e(ye);else if('error'==Me)ce&&ce(ye);else throw{name:'StropheError',message:'Got bad IQ type of '+Me}},null,'iq',['error','result'],he);me&&(pe=this.addTimedHandler(me,function(){return ge.deleteHandler(fe),ce&&ce(null),!1}))}return this.send(ue),he},_queueData:function(ue){if(null===ue||!ue.tagName||!ue.childNodes)throw{name:'StropheError',message:'Cannot queue non-DOMElement.'};this._data.push(ue)},_sendRestart:function(){this._data.push('restart'),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100)},addTimedHandler:function(ue,_e){var ce=new le.TimedHandler(ue,_e);return this.addTimeds.push(ce),ce},deleteTimedHandler:function(ue){this.removeTimeds.push(ue)},addHandler:function(ue,_e,ce,me,pe,ge,he){var fe=new le.Handler(ue,_e,ce,me,pe,ge,he);return this.addHandlers.push(fe),fe},deleteHandler:function(ue){this.removeHandlers.push(ue);var _e=this.addHandlers.indexOf(ue);0<=_e&&this.addHandlers.splice(_e,1)},registerSASLMechanisms:function(ue){this.mechanisms={},ue=ue||[le.SASLAnonymous,le.SASLExternal,le.SASLMD5,le.SASLOAuthBearer,le.SASLPlain,le.SASLSHA1],ue.forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(ue){this.mechanisms[ue.prototype.name]=ue},disconnect:function(ue){if(this._changeConnectStatus(le.Status.DISCONNECTING,ue),le.info('Disconnect was called because: '+ue),this.connected){var _e=!1;this.disconnecting=!0,this.authenticated&&(_e=oe({xmlns:le.NS.CLIENT,type:'unavailable'})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(_e)}else le.info('Disconnect was called before Strophe connected to the server'),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(ue,_e){for(var ce in le._connectionPlugins)if(le._connectionPlugins.hasOwnProperty(ce)){var me=this[ce];if(me.statusChanged)try{me.statusChanged(ue,_e)}catch(pe){le.error(''+ce+' plugin caused an exception changing status: '+pe)}}if(this.connect_callback)try{this.connect_callback(ue,_e)}catch(pe){le._handleError(pe),le.error('User connection callback caused an exception: '+pe)}},_doDisconnect:function(ue){'number'==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),le.info('_doDisconnect was called'),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(le.Status.DISCONNECTED,ue),this.connected=!1},_dataRecv:function(ue,_e){le.info('_dataRecv called');var ce=this._proto._reqToData(ue);if(null!==ce){this.xmlInput!==le.Connection.prototype.xmlInput&&(ce.nodeName===this._proto.strip&&ce.childNodes.length?this.xmlInput(ce.childNodes[0]):this.xmlInput(ce)),this.rawInput!==le.Connection.prototype.rawInput&&(_e?this.rawInput(_e):this.rawInput(le.serialize(ce)));for(var me,pe;0<this.removeHandlers.length;)pe=this.removeHandlers.pop(),me=this.handlers.indexOf(pe),0<=me&&this.handlers.splice(me,1);for(;0<this.addHandlers.length;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var ge=ce.getAttribute('type'),he,fe;if(null!==ge&&'terminate'==ge)return this.disconnecting?void 0:(he=ce.getAttribute('condition'),fe=ce.getElementsByTagName('conflict'),null===he?this._changeConnectStatus(le.Status.CONNFAIL,'unknown'):('remote-stream-error'==he&&0<fe.length&&(he='conflict'),this._changeConnectStatus(le.Status.CONNFAIL,he)),void this._doDisconnect(he));var ye=this;le.forEachChild(ce,null,function(Me){var Te,Le;for(Le=ye.handlers,ye.handlers=[],Te=0;Te<Le.length;Te++){var Se=Le[Te];try{Se.isMatch(Me)&&(ye.authenticated||!Se.user)?Se.run(Me)&&ye.handlers.push(Se):ye.handlers.push(Se)}catch(ve){le.warn('Removing Strophe handlers due to uncaught exception: '+ve.message)}}})}},mechanisms:{},_connect_cb:function(ue,_e,ce){le.info('_connect_cb was called'),this.connected=!0;var me;try{me=this._proto._reqToData(ue)}catch(Te){if('badformat'!=Te)throw Te;this._changeConnectStatus(le.Status.CONNFAIL,'bad-format'),this._doDisconnect('bad-format')}if(me){this.xmlInput!==le.Connection.prototype.xmlInput&&(me.nodeName===this._proto.strip&&me.childNodes.length?this.xmlInput(me.childNodes[0]):this.xmlInput(me)),this.rawInput!==le.Connection.prototype.rawInput&&(ce?this.rawInput(ce):this.rawInput(le.serialize(me)));var pe=this._proto._connect_cb(me);if(pe!==le.Status.CONNFAIL){var ge;if(ge=me.getElementsByTagNameNS?0<me.getElementsByTagNameNS(le.NS.STREAM,'features').length:0<me.getElementsByTagName('stream:features').length||0<me.getElementsByTagName('features').length,!ge)return void this._proto._no_auth_received(_e);var he=[],Me=me.getElementsByTagName('mechanism'),fe,ye;if(0<Me.length)for(fe=0;fe<Me.length;fe++)ye=le.getText(Me[fe]),this.mechanisms[ye]&&he.push(this.mechanisms[ye]);return 0===he.length&&0===me.getElementsByTagName('auth').length?void this._proto._no_auth_received(_e):void(!1!==this.do_authentication&&this.authenticate(he))}}},sortMechanismsByPriority:function(ue){var _e,ce,me,pe;for(_e=0;_e<ue.length-1;++_e){for(me=_e,ce=_e+1;ce<ue.length;++ce)ue[ce].prototype.priority>ue[me].prototype.priority&&(me=ce);me!=_e&&(pe=ue[_e],ue[_e]=ue[me],ue[me]=pe)}return ue},_attemptSASLAuth:function(ue){ue=this.sortMechanismsByPriority(ue||[]);var _e=0,ce=!1;for(_e=0;_e<ue.length;++_e)if(ue[_e].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,'success',null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,'failure',null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,'challenge',null,null),this._sasl_mechanism=new ue[_e],this._sasl_mechanism.onStart(this);var me=se('auth',{xmlns:le.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var pe=this._sasl_mechanism.onChallenge(this,null);me.t(te.encode(pe))}this.send(me.tree()),ce=!0;break}return ce},_attemptLegacyAuth:function(){null===le.getNodeFromJid(this.jid)?(this._changeConnectStatus(le.Status.CONNFAIL,'x-strophe-bad-non-anon-jid'),this.disconnect('x-strophe-bad-non-anon-jid')):(this._changeConnectStatus(le.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,'_auth_1'),this.send(ie({type:'get',to:this.domain,id:'_auth_1'}).c('query',{xmlns:le.NS.AUTH}).c('username',{}).t(le.getNodeFromJid(this.jid)).tree()))},authenticate:function(ue){this._attemptSASLAuth(ue)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(ue){var _e=te.decode(le.getText(ue)),ce=this._sasl_mechanism.onChallenge(this,_e),me=se('response',{xmlns:le.NS.SASL});return''!==ce&&me.t(te.encode(ce)),this.send(me.tree()),!0},_auth1_cb:function(){var _e=ie({type:'set',id:'_auth_2'}).c('query',{xmlns:le.NS.AUTH}).c('username',{}).t(le.getNodeFromJid(this.jid)).up().c('password').t(this.pass);return le.getResourceFromJid(this.jid)||(this.jid=le.getBareJidFromJid(this.jid)+'/strophe'),_e.up().c('resource',{}).t(le.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,'_auth_2'),this.send(_e.tree()),!1},_sasl_success_cb:function(ue){if(this._sasl_data['server-signature']){var ce=te.decode(le.getText(ue)),me=/([a-z]+)=([^,]+)(,|$)/,pe=ce.match(me),_e;if('v'==pe[1]&&(_e=pe[2]),_e!=this._sasl_data['server-signature'])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}le.info('SASL authentication succeeded.'),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var ge=[],he=function(fe,ye){for(;fe.length;)this.deleteHandler(fe.pop());return this._sasl_auth1_cb.bind(this)(ye),!1};return ge.push(this._addSysHandler(function(fe){he.bind(this)(ge,fe)}.bind(this),null,'stream:features',null,null)),ge.push(this._addSysHandler(function(fe){he.bind(this)(ge,fe)}.bind(this),le.NS.STREAM,'features',null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(ue){this.features=ue;var _e,ce;for(_e=0;_e<ue.childNodes.length;_e++)ce=ue.childNodes[_e],'bind'==ce.nodeName&&(this.do_bind=!0),'session'==ce.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(le.Status.AUTHFAIL,null),!1;var me=this,pe=function(){me._addSysHandler(me._sasl_bind_cb.bind(me),null,null,null,'_bind_auth_2');var ge=le.getResourceFromJid(me.jid);ge?me.send(ie({type:'set',id:'_bind_auth_2'}).c('bind',{xmlns:le.NS.BIND}).c('resource',{}).t(ge).tree()):me.send(ie({type:'set',id:'_bind_auth_2'}).c('bind',{xmlns:le.NS.BIND}).tree())};return void 0!==this.streamManagement&&void 0!==this.streamManagement.prevId?(this._addSysHandler(function(){return me.authenticated=!0,me._changeConnectStatus(le.Status.CONNECTED,'resumed'),!1},'urn:xmpp:sm:3','resumed'),this._addSysHandler(function(){return pe(),!1},'urn:xmpp:sm:3','failed'),this.send(se('resume',{xmlns:'urn:xmpp:sm:3',previd:this.streamManagement.prevId,h:this.streamManagement.getIncomingCounter()||0}))):pe(),!1},_sasl_bind_cb:function(ue){if('error'==ue.getAttribute('type')){le.info('SASL binding failed.');var _e=ue.getElementsByTagName('conflict'),ce;return 0<_e.length&&(ce='conflict',this._doDisconnect(ce)),this._changeConnectStatus(le.Status.AUTHFAIL,ce),!1}var me=ue.getElementsByTagName('bind'),pe;return 0<me.length?void(pe=me[0].getElementsByTagName('jid'),0<pe.length&&(this.jid=le.getText(pe[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,'_session_auth_2'),this.send(ie({type:'set',id:'_session_auth_2'}).c('session',{xmlns:le.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(le.Status.CONNECTED,null)))):(le.info('SASL binding failed.'),this._changeConnectStatus(le.Status.AUTHFAIL,null),!1)},_sasl_session_cb:function(ue){if('result'==ue.getAttribute('type'))this.authenticated=!0,this._changeConnectStatus(le.Status.CONNECTED,null);else if('error'==ue.getAttribute('type'))return le.info('Session creation failed.'),this._changeConnectStatus(le.Status.AUTHFAIL,null),!1;return!1},_sasl_failure_cb:function(ue){this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure();const _e=ue.getElementsByTagName('text')[0];let ce=null;return void 0!==_e&&(ce=_e.innerHTML||null),this._changeConnectStatus(le.Status.AUTHFAIL,ce),this.disconnect(ce),!1},_auth2_cb:function(ue){return'result'==ue.getAttribute('type')?(this.authenticated=!0,this._changeConnectStatus(le.Status.CONNECTED,null)):'error'==ue.getAttribute('type')&&(this._changeConnectStatus(le.Status.AUTHFAIL,null),this.disconnect('authentication failed')),!1},_addSysTimedHandler:function(ue,_e){var ce=new le.TimedHandler(ue,_e);return ce.user=!1,this.addTimeds.push(ce),ce},_addSysHandler:function(ue,_e,ce,me,pe){var ge=new le.Handler(ue,_e,ce,me,pe);return ge.user=!1,this.addHandlers.push(ge),ge},_onDisconnectTimeout:function(){return le.info('_onDisconnectTimeout was called'),this._changeConnectStatus(le.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var ue,_e,ce,me;0<this.addTimeds.length;)this.timedHandlers.push(this.addTimeds.pop());for(;0<this.removeTimeds.length;)_e=this.removeTimeds.pop(),ue=this.timedHandlers.indexOf(_e),0<=ue&&this.timedHandlers.splice(ue,1);var pe=new Date().getTime();for(me=[],ue=0;ue<this.timedHandlers.length;ue++)_e=this.timedHandlers[ue],(this.authenticated||!_e.user)&&(ce=_e.lastCalled+_e.period,0>=ce-pe?_e.run()&&me.push(_e):me.push(_e));this.timedHandlers=me,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100))}},le.SASLMechanism=function(ue,_e,ce){this.name=ue,this.isClientFirst=_e,this.priority=ce},le.SASLMechanism.prototype={test:function(){return!0},onStart:function(ue){this._connection=ue},onChallenge:function(){throw new Error('You should implement challenge handling!')},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},le.SASLAnonymous=function(){},le.SASLAnonymous.prototype=new le.SASLMechanism('ANONYMOUS',!1,20),le.SASLAnonymous.prototype.test=function(ue){return null===ue.authcid},le.SASLPlain=function(){},le.SASLPlain.prototype=new le.SASLMechanism('PLAIN',!0,30),le.SASLPlain.prototype.test=function(ue){return null!==ue.authcid},le.SASLPlain.prototype.onChallenge=function(ue){var _e=ue.authzid;return _e+='\0',_e+=ue.authcid,_e+='\0',_e+=ue.pass,ae.utf16to8(_e)},le.SASLSHA1=function(){},le.SASLSHA1.prototype=new le.SASLMechanism('SCRAM-SHA-1',!0,50),le.SASLSHA1.prototype.test=function(ue){return null!==ue.authcid},le.SASLSHA1.prototype.onChallenge=function(ue,_e,ce){var me=ce||ne.hexdigest(1234567890*Math.random()),pe='n='+ae.utf16to8(ue.authcid);return pe+=',r=',pe+=me,ue._sasl_data.cnonce=me,ue._sasl_data['client-first-message-bare']=pe,pe='n,,'+pe,this.onChallenge=function(ge,he){for(var Ye='c=biws,',ke=ge._sasl_data['client-first-message-bare']+','+he+',',Re=ge._sasl_data.cnonce,Ie=/([a-z]+)=([^,]+)(,|$)/,fe,ye,Me,Te,Le,Se,ve,be,Ce,Ee,De,we,Ae;he.match(Ie);)switch(Ae=he.match(Ie),he=he.replace(Ae[0],''),Ae[1]){case'r':fe=Ae[2];break;case's':ye=Ae[2];break;case'i':Me=Ae[2];}if(fe.substr(0,Re.length)!==Re)return ge._sasl_data={},ge._sasl_failure_cb();for(Ye+='r='+fe,ke+=Ye,ye=te.decode(ye),ye+='\0\0\0\x01',Ce=ae.utf16to8(ge.pass),Te=Se=ee.core_hmac_sha1(Ce,ye),ve=1;ve<Me;ve++){for(Le=ee.core_hmac_sha1(Ce,ee.binb2str(Se)),be=0;5>be;be++)Te[be]^=Le[be];Se=Le}for(Te=ee.binb2str(Te),Ee=ee.core_hmac_sha1(Te,'Client Key'),De=ee.str_hmac_sha1(Te,'Server Key'),we=ee.core_hmac_sha1(ee.str_sha1(ee.binb2str(Ee)),ke),ge._sasl_data['server-signature']=ee.b64_hmac_sha1(De,ke),be=0;5>be;be++)Ee[be]^=we[be];return Ye+=',p='+te.encode(ee.binb2str(Ee)),Ye}.bind(this),pe},le.SASLMD5=function(){},le.SASLMD5.prototype=new le.SASLMechanism('DIGEST-MD5',!1,40),le.SASLMD5.prototype.test=function(ue){return null!==ue.authcid},le.SASLMD5.prototype._quote=function(ue){return'"'+ue.replace(/\\/g,'\\\\').replace(/"/g,'\\"')+'"'},le.SASLMD5.prototype.onChallenge=function(ue,_e,ce){for(var me=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,pe=ce||ne.hexdigest(''+1234567890*Math.random()),ge='',he=null,fe='',Me;_e.match(me);)switch(Me=_e.match(me),_e=_e.replace(Me[0],''),Me[2]=Me[2].replace(/^"(.+)"$/,'$1'),Me[1]){case'realm':ge=Me[2];break;case'nonce':fe=Me[2];break;case'qop':Me[2];break;case'host':he=Me[2];}var Te=ue.servtype+'/'+ue.domain;null!==he&&(Te=Te+'/'+he);var Le=ae.utf16to8(ue.authcid+':'+ge+':'+this._connection.pass),Se=ne.hash(Le)+':'+fe+':'+pe,ve='AUTHENTICATE:'+Te,be='';return be+='charset=utf-8,',be+='username='+this._quote(ae.utf16to8(ue.authcid))+',',be+='realm='+this._quote(ge)+',',be+='nonce='+this._quote(fe)+',',be+='nc=00000001,',be+='cnonce='+this._quote(pe)+',',be+='digest-uri='+this._quote(Te)+',',be+='response='+ne.hexdigest(ne.hexdigest(Se)+':'+fe+':00000001:'+pe+':auth:'+ne.hexdigest(ve))+',',be+='qop=auth',this.onChallenge=function(){return''},be},le.SASLOAuthBearer=function(){},le.SASLOAuthBearer.prototype=new le.SASLMechanism('OAUTHBEARER',!0,60),le.SASLOAuthBearer.prototype.test=function(ue){return null!==ue.authcid},le.SASLOAuthBearer.prototype.onChallenge=function(ue){var _e='n,a=';return _e+=ue.authzid,_e+=',',_e+='\x01',_e+='auth=Bearer ',_e+=ue.pass,_e+='\x01',_e+='\x01',ae.utf16to8(_e)},le.SASLExternal=function(){},le.SASLExternal.prototype=new le.SASLMechanism('EXTERNAL',!0,10),le.SASLExternal.prototype.onChallenge=function(ue){return ue.authcid===ue.authzid?'':ue.authzid},{Strophe:le,$build:se,$msg:function(ue){return new le.Builder('message',ue)},$iq:ie,$pres:oe,SHA1:ee,Base64:te,MD5:ne}}),function(ee,te){G=[K],!(X=function(ne){return te(ne.Strophe,ne.$build)}.apply(E,G))}(this,function(ee,te){return ee.Request=function(ne,ae,se,de){this.id=++ee._requestId,this.xmlData=ne,this.data=ee.serialize(ne),this.origFunc=ae,this.func=ae,this.rid=se,this.date=NaN,this.sends=de||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;var ie=new Date;return(ie-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var ie=new Date;return(ie-this.dead)/1e3},this.xhr=this._newXHR()},ee.Request.prototype={getResponse:function(){var ne=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(ne=this.xhr.responseXML.documentElement,'parsererror'==ne.tagName)throw ee.error('invalid response received'),ee.error('responseText: '+this.xhr.responseText),ee.error('responseXML: '+ee.serialize(this.xhr.responseXML)),'parsererror';}else if(this.xhr.responseText)throw ee.error('invalid response received'),ee.error('responseText: '+this.xhr.responseText),'badformat';return ne},_newXHR:function(){var ne=null;return window.XMLHttpRequest?(ne=new XMLHttpRequest,ne.overrideMimeType&&ne.overrideMimeType('text/xml; charset=utf-8')):window.ActiveXObject&&(ne=new ActiveXObject('Microsoft.XMLHTTP')),ne.onreadystatechange=this.func.bind(null,this),ne}},ee.Bosh=function(ne){this._conn=ne,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this._requests=[]},ee.Bosh.prototype={strip:null,_buildBody:function(){var ne=te('body',{rid:this.rid++,xmlns:ee.NS.HTTPBIND});return null!==this.sid&&ne.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),ne},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem('strophe-bosh-session'),this._conn.nextValidRid(this.rid)},_connect:function(ne,ae,se){this.wait=ne||this.wait,this.hold=ae||this.hold,this.errors=0;var de=this._buildBody().attrs({to:this._conn.domain,"xml:lang":'en',wait:this.wait,hold:this.hold,content:'text/xml; charset=utf-8',ver:'1.6',"xmpp:version":'1.0',"xmlns:xmpp":ee.NS.BOSH});se&&de.attrs({route:se});var ie=this._conn._connect_cb;this._requests.push(new ee.Request(de.tree(),this._onRequestStateChange.bind(this,ie.bind(this._conn)),de.tree().getAttribute('rid'))),this._throttledRequestHandler()},_attach:function(ne,ae,se,de,ie,oe,le){this._conn.jid=ne,this.sid=ae,this.rid=se,this._conn.connect_callback=de,this._conn.domain=ee.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=ie||this.wait,this.hold=oe||this.hold,this.window=le||this.window,this._conn._changeConnectStatus(ee.Status.ATTACHED,null)},_restore:function(ne,ae,se,de,ie){var oe=JSON.parse(window.sessionStorage.getItem('strophe-bosh-session'));if('undefined'!=typeof oe&&null!==oe&&oe.rid&&oe.sid&&oe.jid&&('undefined'==typeof ne||null===ne||ee.getBareJidFromJid(oe.jid)==ee.getBareJidFromJid(ne)||null===ee.getNodeFromJid(ne)&&ee.getDomainFromJid(oe.jid)==ne))this._conn.restored=!0,this._attach(oe.jid,oe.sid,oe.rid,ae,se,de,ie);else throw{name:'StropheSessionError',message:'_restore: no restoreable session.'}},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem('strophe-bosh-session',JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem('strophe-bosh-session')},_connect_cb:function(ne){var ae=ne.getAttribute('type'),se,de;if(null!==ae&&'terminate'==ae)return se=ne.getAttribute('condition'),ee.error('BOSH-Connection failed: '+se),de=ne.getElementsByTagName('conflict'),null===se?this._conn._changeConnectStatus(ee.Status.CONNFAIL,'unknown'):('remote-stream-error'==se&&0<de.length&&(se='conflict'),this._conn._changeConnectStatus(ee.Status.CONNFAIL,se)),this._conn._doDisconnect(se),ee.Status.CONNFAIL;this.sid||(this.sid=ne.getAttribute('sid'));var ie=ne.getAttribute('requests');ie&&(this.window=parseInt(ie,10));var oe=ne.getAttribute('hold');oe&&(this.hold=parseInt(oe,10));var le=ne.getAttribute('wait');le&&(this.wait=parseInt(le,10));var ue=ne.getAttribute('inactivity');ue&&(this.inactivity=parseInt(ue,10))},_disconnect:function(ne){this._sendTerminate(ne)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem('strophe-bosh-session'),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(ne){var ae=this._getRequestStatus(ne),se;se=this._conn.protocolErrorHandlers.HTTP[ae],se&&se.call(this,ae)},_hitError:function(ne){this.errors++,ee.warn('request errored, status: '+ne+', number of errors: '+this.errors),4<this.errors&&this._conn._onDisconnectTimeout()},_no_auth_received:function(ne){ne=ne?ne.bind(this._conn):this._conn._connect_cb.bind(this._conn);var ae=this._buildBody();this._requests.push(new ee.Request(ae.tree(),this._onRequestStateChange.bind(this,ne.bind(this._conn)),ae.tree().getAttribute('rid'))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var ae;0<this._requests.length;)ae=this._requests.pop(),ae.abort=!0,ae.xhr.abort(),ae.xhr.onreadystatechange=function(){}},_onIdle:function(){var ne=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===ne.length&&!this._conn.disconnecting&&(ee.info('no requests during idle cycle, sending blank request'),ne.push(null)),!this._conn.paused){if(2>this._requests.length&&0<ne.length){for(var ae=this._buildBody(),se=0;se<ne.length;se++)null!==ne[se]&&('restart'===ne[se]?ae.attrs({to:this._conn.domain,"xml:lang":'en',"xmpp:restart":'true',"xmlns:xmpp":ee.NS.BOSH}):ae.cnode(ne[se]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new ee.Request(ae.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),ae.tree().getAttribute('rid'))),this._throttledRequestHandler()}if(0<this._requests.length){var de=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(ee.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),de>Math.floor(ee.TIMEOUT*this.wait)&&(ee.warn('Request '+this._requests[0].id+' timed out, over '+Math.floor(ee.TIMEOUT*this.wait)+' seconds since last activity'),this._throttledRequestHandler())}}},_getRequestStatus:function(ne,ae){var se;if(4==ne.xhr.readyState)try{se=ne.xhr.status}catch(de){ee.error('Caught an error while retrieving a request\\\'s status, reqStatus: '+se)}return'undefined'==typeof se&&(se='number'==typeof ae?ae:0),se},_onRequestStateChange:function(ne,ae){if(ee.debug('request id '+ae.id+'.'+ae.sends+' state changed to '+ae.xhr.readyState),ae.abort)return void(ae.abort=!1);if(4===ae.xhr.readyState){var se=this._getRequestStatus(ae);if(this.disconnecting&&400<=se)return this._hitError(se),void this._callProtocolErrorHandlers(ae);if((0<se&&500>se||5<ae.sends)&&(this._removeRequest(ae),ee.debug('request id '+ae.id+' should now be removed')),200==se){var de=this._requests[0]==ae,ie=this._requests[1]==ae;(ie||de&&0<this._requests.length&&this._requests[0].age()>Math.floor(ee.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(+ae.rid+1),ee.debug('request id '+ae.id+'.'+ae.sends+' got 200'),ne(ae),this.errors=0}else 0===se||400<=se&&600>se||12000<=se?(ee.error('request id '+ae.id+'.'+ae.sends+' error '+se+' happened'),this._hitError(se),this._callProtocolErrorHandlers(ae),400<=se&&500>se&&(this._conn._changeConnectStatus(ee.Status.DISCONNECTING,null),this._conn._doDisconnect())):ee.error('request id '+ae.id+'.'+ae.sends+' error '+se+' happened');(!(0<se&&500>se)||5<ae.sends)&&this._throttledRequestHandler()}},_processRequest:function(ne){var ae=this,se=this._requests[ne],de=this._getRequestStatus(se,-1);if(se.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var ie=se.age(),oe=!isNaN(ie)&&ie>Math.floor(ee.TIMEOUT*this.wait),le=null!==se.dead&&se.timeDead()>Math.floor(ee.SECONDARY_TIMEOUT*this.wait),ue=4==se.xhr.readyState&&(1>de||500<=de);if((oe||le||ue)&&(le&&ee.error('Request '+this._requests[ne].id+' timed out (secondary), restarting'),se.abort=!0,se.xhr.abort(),se.xhr.onreadystatechange=function(){},this._requests[ne]=new ee.Request(se.xmlData,se.origFunc,se.rid,se.sends),se=this._requests[ne]),0===se.xhr.readyState){ee.debug('request id '+se.id+'.'+se.sends+' posting');try{var _e=this._conn.options.contentType||'text/xml; charset=utf-8';se.xhr.open('POST',this._conn.service,!this._conn.options.sync),'undefined'!=typeof se.xhr.setRequestHeader&&se.xhr.setRequestHeader('Content-Type',_e),this._conn.options.withCredentials&&(se.xhr.withCredentials=!0)}catch(pe){return ee.error('XHR open failed.'),this._conn.connected||this._conn._changeConnectStatus(ee.Status.CONNFAIL,'bad-service'),void this._conn.disconnect()}var ce=function(){if(se.date=new Date,ae._conn.options.customHeaders){var pe=ae._conn.options.customHeaders;for(var ge in pe)pe.hasOwnProperty(ge)&&se.xhr.setRequestHeader(ge,pe[ge])}se.xhr.send(se.data)};if(1<se.sends){var me=1e3*Math.min(Math.floor(ee.TIMEOUT*this.wait),Math.pow(se.sends,3));setTimeout(function(){ce()},me)}else ce();se.sends++,this._conn.xmlOutput!==ee.Connection.prototype.xmlOutput&&(se.xmlData.nodeName===this.strip&&se.xmlData.childNodes.length?this._conn.xmlOutput(se.xmlData.childNodes[0]):this._conn.xmlOutput(se.xmlData)),this._conn.rawOutput!==ee.Connection.prototype.rawOutput&&this._conn.rawOutput(se.data)}else ee.debug('_processRequest: '+(0===ne?'first':'second')+' request has readyState of '+se.xhr.readyState)},_removeRequest:function(ne){ee.debug('removing request');var ae;for(ae=this._requests.length-1;0<=ae;ae--)ne==this._requests[ae]&&this._requests.splice(ae,1);ne.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(ne){var ae=this._requests[ne];null===ae.dead&&(ae.dead=new Date),this._processRequest(ne)},_reqToData:function(ne){try{return ne.getResponse()}catch(ae){if('parsererror'!=ae)throw ae;this._conn.disconnect('strophe-parsererror')}},_sendTerminate:function(ne){ee.info('_sendTerminate was called');var ae=this._buildBody().attrs({type:'terminate'});ne&&ae.cnode(ne.tree());var se=new ee.Request(ae.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),ae.tree().getAttribute('rid'));this._requests.push(se),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?ee.debug('_throttledRequestHandler called with '+this._requests.length+' requests'):ee.debug('_throttledRequestHandler called with undefined requests'),this._requests&&0!==this._requests.length&&(0<this._requests.length&&this._processRequest(0),1<this._requests.length&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},ee}),function(ee,te){G=[K],!(Q=function(ne){return te(ne.Strophe,ne.$build)}.apply(E,G))}(this,function(ee,te){return ee.Websocket=function(ne){this._conn=ne,this.strip='wrapper';var ae=ne.service;if(0!==ae.indexOf('ws:')&&0!==ae.indexOf('wss:')){var se='';se+='ws'===ne.options.protocol&&'https:'!==window.location.protocol?'ws':'wss',se+='://'+window.location.host,se+=0===ae.indexOf('/')?ae:window.location.pathname+ae,ne.service=se}},ee.Websocket.prototype={_buildStream:function(){return te('open',{xmlns:ee.NS.FRAMING,to:this._conn.domain,version:'1.0'})},_check_streamerror:function(ne,ae){var se;if(se=ne.getElementsByTagNameNS?ne.getElementsByTagNameNS(ee.NS.STREAM,'error'):ne.getElementsByTagName('stream:error'),0===se.length)return!1;for(var de=se[0],ie='',le=0,ue;le<de.childNodes.length&&(ue=de.childNodes[le],ue.getAttribute('xmlns')==='urn:ietf:params:xml:ns:xmpp-streams');le++)ie='text'===ue.nodeName?ue.textContent:ue.nodeName;var _e='WebSocket stream error: ';return _e+=ie?ie:'unknown',ee.error(_e),this._conn._changeConnectStatus(ae,ie),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,'xmpp'),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(ne){var ae=this._check_streamerror(ne,ee.Status.CONNFAIL);if(ae)return ee.Status.CONNFAIL},_handleStreamStart:function(ne){var ae=!1,se=ne.getAttribute('xmlns');'string'==typeof se?se!==ee.NS.FRAMING&&(ae='Wrong xmlns in <open />: '+se):ae='Missing xmlns in <open />';var de=ne.getAttribute('version');return'string'==typeof de?'1.0'!==de&&(ae='Wrong version in <open />: '+de):ae='Missing version in <open />',!ae||(this._conn._changeConnectStatus(ee.Status.CONNFAIL,ae),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(ne){if(0===ne.data.indexOf('<open ')||0===ne.data.indexOf('<?xml')){var ae=ne.data.replace(/^(<\?.*?\?>\s*)*/,'');if(''===ae)return;var se=new DOMParser().parseFromString(ae,'text/xml').documentElement;this._conn.xmlInput(se),this._conn.rawInput(ne.data),this._handleStreamStart(se)&&this._connect_cb(se)}else if(0===ne.data.indexOf('<close ')){this._conn.rawInput(ne.data),this._conn.xmlInput(ne);var de=ne.getAttribute('see-other-uri');de?(this._conn._changeConnectStatus(ee.Status.REDIRECT,'Received see-other-uri, resetting connection'),this._conn.reset(),this._conn.service=de,this._connect()):(this._conn._changeConnectStatus(ee.Status.CONNFAIL,'Received closing stream'),this._conn._doDisconnect())}else{var ie=this._streamWrap(ne.data),oe=new DOMParser().parseFromString(ie,'text/xml').documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(oe,null,ne.data)}},_disconnect:function(ne){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){ne&&this._conn.send(ne);var ae=te('close',{xmlns:ee.NS.FRAMING});this._conn.xmlOutput(ae);var se=ee.serialize(ae);this._conn.rawOutput(se);try{this.socket.send(se)}catch(de){ee.info('Couldn\'t send <close /> tag.')}}this._conn._doDisconnect()},_doDisconnect:function(){ee.info('WebSockets _doDisconnect was called'),this._closeSocket()},_streamWrap:function(ne){return'<wrapper>'+ne+'</wrapper>'},_closeSocket:function(){if(this.socket)try{this.socket.close()}catch(ne){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(ne){this._conn.connected&&!this._conn.disconnecting?(ee.error('Websocket closed unexpectedly'),this._conn._doDisconnect()):ne&&1006===ne.code&&!this._conn.connected&&this.socket?(ee.error('Websocket closed unexcectedly'),this._conn._changeConnectStatus(ee.Status.CONNFAIL,'The WebSocket connection could not be established or was disconnected.'),this._conn._doDisconnect()):ee.info('Websocket closed')},_no_auth_received:function(ne){ee.error('Server did not send any auth methods'),this._conn._changeConnectStatus(ee.Status.CONNFAIL,'Server did not send any auth methods'),ne&&(ne=ne.bind(this._conn),ne()),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(ne){ee.error('Websocket error '+ne),this._conn._changeConnectStatus(ee.Status.CONNFAIL,'The WebSocket connection could not be established or was disconnected.'),this._disconnect()},_onIdle:function(){var ne=this._conn._data;if(0<ne.length&&!this._conn.paused){for(var ae=0;ae<ne.length;ae++)if(null!==ne[ae]){var se,de;se='restart'===ne[ae]?this._buildStream().tree():ne[ae],de=ee.serialize(se),this._conn.xmlOutput(se),this._conn.rawOutput(de),this.socket.send(de)}this._conn._data=[]}},_onMessage:function(ne){var de='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />',ae,se;if(ne.data===de)return this._conn.rawInput(de),this._conn.xmlInput(ne),void(this._conn.disconnecting||this._conn._doDisconnect());if(0!==ne.data.search('<open '))se=this._streamWrap(ne.data),ae=new DOMParser().parseFromString(se,'text/xml').documentElement;else if(ae=new DOMParser().parseFromString(ne.data,'text/xml').documentElement,!this._handleStreamStart(ae))return;return this._check_streamerror(ae,ee.Status.ERROR)?void 0:this._conn.disconnecting&&'presence'===ae.firstChild.nodeName&&'unavailable'===ae.firstChild.getAttribute('type')?(this._conn.xmlInput(ae),void this._conn.rawInput(ee.serialize(ae))):void this._conn._dataRecv(ae,ne.data)},_onOpen:function(){ee.info('Websocket open');var ne=this._buildStream();this._conn.xmlOutput(ne.tree());var ae=ee.serialize(ne);this._conn.rawOutput(ae),this.socket.send(ae)},_reqToData:function(ne){return ne},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},ee}),function(){G=[K,X,Q],Z=function(te){return te}.apply(E,G),!(Z!==void 0&&(L.exports=Z))}(this)},function(L,E){'use strict';E.a=function(A){const N=A.Strophe;return N.isTagEqual=function(H,B){return(H.tagName||H.node.tagName)===B},N.addConnectionPlugin('streamManagement',{logging:!0,returnWholeStanza:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:0,allowResume:!0,_c:null,_NS:'urn:xmpp:sm:3',_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],_counters:{incoming:0,outgoing:0,server:0},addAcknowledgedStanzaListener:function(H){this._acknowledgedStanzaListeners.push(H)},enable:function(){this._c.send(A.$build('enable',{xmlns:this._NS,resume:this.allowResume})),this._c.flush(),this._c.pause()},requestAcknowledgement:function(){this._requestResponseIntervalCount=0,this._c.send(A.$build('r',{xmlns:this._NS}))},getOutgoingCounter:function(){return this._counters.outgoing},getServerProcessedCounter:function(){return this._counters.server},getIncomingCounter:function(){return this._counters.incoming},init:function(H){this._c=H,N.addNamespace('SM',this._NS);const B=localStorage.getItem(this._c.options.instance_id+'_counters');if(null!==B){let z=null;try{z=JSON.parse(B)}catch(W){}null!==z&&(this._counters=z)}this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this)},statusChanged:function(H,B){(H===N.Status.CONNECTED||H===N.Status.DISCONNECTED)&&(this._requestResponseIntervalCount=0,this._isStreamManagementEnabled=!1,H===N.Status.CONNECTED&&'resumed'!==B&&this._resetCounters(),H===N.Status.CONNECTED&&'resumed'===B&&(this._isStreamManagementEnabled=!0),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,'r'),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this),null,null))},xmlOutput:function(H){function B(J){return N.isTagEqual(J,'iq')||N.isTagEqual(J,'presence')||N.isTagEqual(J,'message')}if(B(H))this._increaseSentStanzasCounter(H);else if(void 0!==H.children)for(var W=0,z;W<H.children.length;W++)z=H.children[W],B()&&this._increaseSentStanzasCounter(z);return this._originalXMLOutput.call(this._c,H)},_incomingStanzaHandler:function(H){if(N.isTagEqual(H,'enabled')&&H.getAttribute('xmlns')===this._NS&&(this._isStreamManagementEnabled=!0,this._c.resume()),(N.isTagEqual(H,'iq')||N.isTagEqual(H,'presence')||N.isTagEqual(H,'message'))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas(),N.isTagEqual(H,'message')&&'error'===H.getAttribute('type')&&--this._counters.outgoing),N.isTagEqual(H,'a')){var B=parseInt(H.getAttribute('h'));this._handleAcknowledgedStanzas(B,this._counters.server),this._counters.server=B,this._persistCounters(),0<this.requestResponseInterval&&(this._requestResponseIntervalCount=0)}return!0},_handleAcknowledgedStanzas:function(H,B){var z=H-B;0>z&&this._throwError('New reported stanza count lower than previous. New: '+H+' - Previous: '+B),z>this._unacknowledgedStanzas.length&&this._throwError('Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: '+z+' - Unacknowledge Stanza Count: '+this._unacknowledgedStanzas.length+' - New: '+H+' - Previous: '+B);for(var W=0,J;W<z;W++){J=this._unacknowledgedStanzas.shift();for(var G=0;G<this._acknowledgedStanzaListeners.length;G++)this._acknowledgedStanzaListeners[G](J)}this.logging&&0<this._unacknowledgedStanzas.length&&console.warn('Unacknowledged stanzas',this._unacknowledgedStanzas)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_answerProcessedStanzas:function(H){(this._isStreamManagementEnabled||!0===H)&&this._c.send(A.$build('a',{xmlns:this._NS,h:this._counters.incoming}))},_increaseSentStanzasCounter:function(H){this._isStreamManagementEnabled&&(this._unacknowledgedStanzas.push(this.returnWholeStanza?H:H.getAttribute('id')),this._counters.outgoing++,this._persistCounters(),0<this.requestResponseInterval&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&this.requestAcknowledgement()))},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&(this._counters.incoming++,this._persistCounters())},_persistCounters:function(){localStorage.setItem(this._c.options.instance_id+'_counters',JSON.stringify(this._counters))},_resetCounters:function(){this._counters={incoming:0,outgoing:0,server:0},this._persistCounters()},_throwError:function(H){console.error(H)}}),A}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(57),A=R(25);E.UsersDirectory=class{constructor(H,B=!1){this._instanceId=null,this._worker=null,this._debug=!1,this.initialised=!1,this._workerResponseListeners={},this._instanceId=H,this._debug=B}_addWorkerResponseListener(H,B){this._workerResponseListeners[H]=B}_onWorkerResponse(H){H.data&&this._debug&&console.log(`Worker: ${H.data.msg}`);const B=this._workerResponseListeners[H.data._id];if(B){const z=B(H.data);!0!==z&&delete this._workerResponseListeners[H.data._id]}}_postMessageToWorker(H,B){if(null===this._worker)throw new Error('Worker has not been initialised!');const z=A.generateGuid();this._workerResponseListeners[z]=B,this._worker.postMessage(Object.assign({},H,{_id:z}))}initialise(H,B){return new Promise((z,W)=>{this._worker=new Worker(window.URL.createObjectURL(new Blob([`const start = ${I.default.toString()}; start.call(self);`],{type:'text/javascript'}))),this._worker.onmessage=this._onWorkerResponse.bind(this),this._postMessageToWorker({action:'initialise',instanceId:this._instanceId,key:H,iv:B,debug:this._debug},(J)=>{return!0===J.success?(this.initialised=!0,z(J.msg)):(console.error(J.msg),this.initialised=!1,this.destroy(!0).then(()=>{W(J.msg)})),!1})})}update(H,B,z){if(!0!==this.initialised)throw new Error('User index must be initialised first.');return new Promise((W,J)=>{this._postMessageToWorker({action:'fetch',endpoint:z,jid:H,pass:B},(G)=>{return!0===G.success?W(G):(console.error(G.msg),J(G.msg)),!1})})}search(H,B){if(!0!==this.initialised)throw new Error('User index must be initialised first.');return new Promise((z,W)=>{this._postMessageToWorker({action:'search',query:H,fields:B||[]},(J)=>{return!0===J.success?z(J.results):(console.error(J.msg),W(J.msg)),!1})})}getUserByJid(H){if(!0!==this.initialised)throw new Error('User index must be initialised first.');return new Promise((B,z)=>{this._postMessageToWorker({action:'jid-search',jid:H},(W)=>{return!0===W.success?B(W.result):(console.error(W.msg),z(W.msg)),!1})})}getAllUsers(){if(!0!==this.initialised)throw new Error('User index must be initialised first.');return new Promise((H,B)=>{this._postMessageToWorker({action:'get-all-users'},(z)=>{return!0===z.success?H(z.results):(console.error(z.msg),B(z.msg)),!1})})}destroy(H=!1){if(!0!==this.initialised&&!1===H)throw new Error('User index must be initialised first.');return new Promise((B,z)=>{this._postMessageToWorker({action:'destroy'},(W)=>{return!0===W.success?(this.initialised=!1,B(W.msg)):(console.error(W.msg),z(W.msg)),!1})})}static _resolvePath(H){return H?0===H.indexOf('http')||0===H.indexOf('//')?H:0===H.indexOf('/')?window.location.origin+H:window.location.origin+'/'+H:null}}},function(L,E,R){'use strict';function I(le){return-1!=le.indexOf('.')&&(le=le.split('.').pop().toLowerCase()),oe.hasOwnProperty(le)?oe[le].mimeType:null}function A(le){return-1!=le.indexOf('.')&&(le=le.split('.').pop().toLowerCase()),oe.hasOwnProperty(le)?oe[le].mediaType:null}function N(le){const ue=Object.keys(oe).filter((_e)=>oe[_e].mimeType===le)[0];return ue?oe[ue].mediaType:null}function H(le){return le.replace(/\\/g,'/').split('/').pop()}function B(){return new Z.Promise((le,ue)=>{if(ee.isElectron())try{const _e=ne.require('electron').remote.app,ce=ne.require('path'),me=ce.sep,pe=_e.getPath('userData'),ge=pe+me+de+me,he=ne.require('fs');he.existsSync(ge)||he.mkdirSync(ge),le(ge)}catch(_e){ue(_e)}else{const _e=ee.getPlatformName(),ce=te.getSource('file');if(!1!==ce){let me='';if('ios'===_e)me+=ce.documentsDirectory;else if('android'===_e)me+=ce.externalDataDirectory;else return ue('Unsupported platform, expected Android or iOS.');ae.resolveLocalFileSystemURL(me,function(pe){pe.getDirectory(de,{create:!0,exclusive:!1},function(ge){le(ge.nativeURL)},ue)},ue)}else ue('No file plugin available.')}})}function $(le){return new Z.Promise((ue)=>{const ce=new XMLHttpRequest;ce.open('GET',le,!0),ce.responseType='blob',ce.onload=()=>{200==ce.status&&ue(ce.response)},ce.send()})}Object.defineProperty(E,'__esModule',{value:!0});const Z=R(44),ee=R(33),te=R(24),ne=window,ae=window;let se=null;const de='attachments',ie={IMAGE:'image',AUDIO:'audio',VIDEO:'video'},oe={a:{mimeType:'application/octet-stream',mediaType:null},ai:{mimeType:'application/postscript',mediaType:null},aif:{mimeType:'audio/x-aiff',mediaType:ie.AUDIO},aifc:{mimeType:'audio/x-aiff',mediaType:ie.AUDIO},aiff:{mimeType:'audio/x-aiff',mediaType:ie.AUDIO},au:{mimeType:'audio/basic',mediaType:ie.AUDIO},avi:{mimeType:'video/x-msvideo',mediaType:null},bat:{mimeType:'text/plain',mediaType:null},bin:{mimeType:'application/octet-stream',mediaType:null},bmp:{mimeType:'image/x-ms-bmp',mediaType:ie.IMAGE},c:{mimeType:'text/plain',mediaType:null},cdf:{mimeType:'application/x-cdf',mediaType:null},csh:{mimeType:'application/x-csh',mediaType:null},css:{mimeType:'text/css',mediaType:null},dll:{mimeType:'application/octet-stream',mediaType:null},doc:{mimeType:'application/msword',mediaType:null},docm:{mimeType:'application/vnd.ms-word.document.macroEnabled.12',mediaType:null},docx:{mimeType:'application/vnd.openxmlformats-officedocument.wordprocessingml.document',mediaType:null},dot:{mimeType:'application/msword',mediaType:null},dotx:{mimeType:'application/vnd.openxmlformats-officedocument.wordprocessingml.template',mediaType:null},dvi:{mimeType:'application/x-dvi',mediaType:null},eml:{mimeType:'message/rfc822',mediaType:null},eps:{mimeType:'application/postscript',mediaType:null},etx:{mimeType:'text/x-setext',mediaType:null},exe:{mimeType:'application/octet-stream',mediaType:null},gif:{mimeType:'image/gif',mediaType:ie.IMAGE},gtar:{mimeType:'application/x-gtar',mediaType:null},h:{mimeType:'text/plain',mediaType:null},hdf:{mimeType:'application/x-hdf',mediaType:null},htm:{mimeType:'text/html',mediaType:null},html:{mimeType:'text/html',mediaType:null},jpe:{mimeType:'image/jpe',mediaType:ie.IMAGE},jpeg:{mimeType:'image/jpeg',mediaType:ie.IMAGE},jpg:{mimeType:'image/jpeg',mediaType:ie.IMAGE,preferred:!0},js:{mimeType:'application/javascript',mediaType:null},json:{mimeType:'application/json',mediaType:null},ksh:{mimeType:'text/plain',mediaType:null},latex:{mimeType:'application/x-latex',mediaType:null},m1v:{mimeType:'video/mpeg',mediaType:ie.VIDEO},m4a:{mimeType:'audio/mpeg',mediaType:ie.AUDIO,preferred:!0},man:{mimeType:'application/x-troff-man',mediaType:null},me:{mimeType:'application/x-troff-me',mediaType:null},mht:{mimeType:'message/rfc822',mediaType:null},mhtml:{mimeType:'message/rfc822',mediaType:null},mif:{mimeType:'application/x-mif',mediaType:null},mov:{mimeType:'video/quicktime',mediaType:ie.VIDEO},movie:{mimeType:'video/x-sgi-movie',mediaType:ie.VIDEO},mp2:{mimeType:'audio/mpeg',mediaType:ie.AUDIO},mp3:{mimeType:'audio/mp3',mediaType:ie.AUDIO},mp4:{mimeType:'video/mp4',mediaType:ie.VIDEO},mpa:{mimeType:'video/mpeg',mediaType:ie.VIDEO},mpe:{mimeType:'video/mpeg',mediaType:ie.VIDEO},mpeg:{mimeType:'video/mpeg',mediaType:ie.VIDEO},mpg:{mimeType:'video/mpeg',mediaType:ie.VIDEO,preferred:!0},ms:{mimeType:'application/x-troff-ms',mediaType:null},nc:{mimeType:'application/x-netcdf',mediaType:null},nws:{mimeType:'message/rfc822',mediaType:null},o:{mimeType:'application/octet-stream',mediaType:null},obj:{mimeType:'application/octet-stream',mediaType:null},oda:{mimeType:'application/oda',mediaType:null},otf:{mimeType:'application/x-font-opentype',mediaType:null},pbm:{mimeType:'image/x-portable-bitmap',mediaType:ie.IMAGE},pdf:{mimeType:'application/pdf',mediaType:null},pfx:{mimeType:'application/x-pkcs12',mediaType:null},pgm:{mimeType:'image/x-portable-graymap',mediaType:ie.IMAGE},png:{mimeType:'image/png',mediaType:ie.IMAGE},pnm:{mimeType:'image/x-portable-anymap',mediaType:ie.IMAGE},po:{mimeType:'text/x-gettext-translation',mediaType:null},pot:{mimeType:'application/vnd.ms-powerpoint',mediaType:null},ppa:{mimeType:'application/vnd.ms-powerpoint',mediaType:null},ppm:{mimeType:'image/x-portable-pixmap',mediaType:ie.IMAGE},pps:{mimeType:'application/vnd.ms-powerpoint',mediaType:null},ppt:{mimeType:'application/vnd.ms-powerpoint',mediaType:null},pptm:{mimeType:'application/vnd.ms-powerpoint.presentation.macroEnabled.12',mediaType:null},pptx:{mimeType:'application/vnd.openxmlformats-officedocument.presentationml.presentation',mediaType:null},ps:{mimeType:'application/postscript',mediaType:null},pwz:{mimeType:'application/vnd.ms-powerpoint',mediaType:null},py:{mimeType:'text/x-python',mediaType:null},pyc:{mimeType:'application/x-python-code',mediaType:null},pyo:{mimeType:'application/x-python-code',mediaType:null},qt:{mimeType:'video/quicktime',mediaType:ie.VIDEO},ra:{mimeType:'audio/x-pn-realaudio',mediaType:ie.AUDIO},ram:{mimeType:'application/x-pn-realaudio',mediaType:ie.AUDIO},ras:{mimeType:'image/x-cmu-raster',mediaType:ie.IMAGE},rdf:{mimeType:'application/xml',mediaType:null},rgb:{mimeType:'image/x-rgb',mediaType:ie.IMAGE},roff:{mimeType:'application/x-troff',mediaType:null},rtx:{mimeType:'text/richtext',mediaType:null},sgm:{mimeType:'text/x-sgml',mediaType:null},sgml:{mimeType:'text/x-sgml',mediaType:null},sh:{mimeType:'application/x-sh',mediaType:null},shar:{mimeType:'application/x-shar',mediaType:null},snd:{mimeType:'audio/basic',mediaType:ie.AUDIO},so:{mimeType:'application/octet-stream',mediaType:null},src:{mimeType:'application/x-wais-source',mediaType:null},svg:{mimeType:'image/svg+xml',mediaType:ie.IMAGE},swf:{mimeType:'application/x-shockwave-flash',mediaType:null},t:{mimeType:'application/x-troff',mediaType:null},tar:{mimeType:'application/x-tar',mediaType:null},tcl:{mimeType:'application/x-tcl',mediaType:null},tex:{mimeType:'application/x-tex',mediaType:null},texi:{mimeType:'application/x-texinfo',mediaType:null},texinfo:{mimeType:'application/x-texinfo',mediaType:null},tif:{mimeType:'image/tiff',mediaType:ie.IMAGE},tiff:{mimeType:'image/tiff',mediaType:ie.IMAGE},tr:{mimeType:'application/x-troff',mediaType:null},tsv:{mimeType:'text/tab-separated-values',mediaType:null},ttf:{mimeType:'application/x-font-truetype',mediaType:null},txt:{mimeType:'text/plain',mediaType:null,preferred:!0},ustar:{mimeType:'application/x-ustar',mediaType:null},vcf:{mimeType:'text/x-vcard',mediaType:null},wav:{mimeType:'audio/x-wav',mediaType:ie.AUDIO},woff:{mimeType:'application/font-woff',mediaType:null,preferred:!0},woff2:{mimeType:'application/font-woff',mediaType:null},wsdl:{mimeType:'application/xml',mediaType:null},xbm:{mimeType:'image/x-xbitmap',mediaType:ie.IMAGE},xlb:{mimeType:'application/vnd.ms-excel',mediaType:null},xls:{mimeType:'application/vnd.ms-excel',mediaType:null},xlsm:{mimeType:'application/vnd.ms-excel.sheet.macroEnabled.12',mediaType:null},xlsx:{mimeType:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',mediaType:null},xml:{mimeType:'text/xml',mediaType:null},xpdl:{mimeType:'application/xml',mediaType:null},xpm:{mimeType:'image/x-xpixmap',mediaType:ie.IMAGE},xsl:{mimeType:'application/xml',mediaType:null},xwd:{mimeType:'image/x-xwindowdump',mediaType:ie.IMAGE},zip:{mimeType:'application/zip',mediaType:null}};E.getMimeTypeFromExtension=I,E.getMediaTypeFromExtension=A,E.getMediaTypeFromMimeType=N,E.getFileNameFromPath=H,E.upload=function(le,ue,_e,ce){return new Z.Promise((me,pe)=>{if(null==se&&(se=ee.isElectron()?te.getSource('@commontimeltd/com.commontime.filetransfer'):te.getSource('FileTransfer')),!1!==se){const ge={httpMethod:'PUT',fileName:H(le),fileKey:'file',headers:ce,mimeType:I(le),chunkedMode:!1},he=new se;he.upload(le,ue,(fe)=>{me({source:le,target:ue,response:fe.response})},pe,ge)}else console.warn('Falling back to using XHR for file uploads.'),$(le).then((ge)=>{const he=new XMLHttpRequest;if(he.addEventListener('load',(fe)=>{me({source:_e,target:ue,response:fe})}),he.addEventListener('error',pe),he.open('PUT',ue,!0),ce)for(let fe in ce)he.setRequestHeader(fe,ce[fe]);he.send(ge)})})},E.download=function(le,ue=null){return new Z.Promise((_e,ce)=>{null===se&&(se=ee.isElectron()?te.getSource('@commontimeltd/com.commontime.filetransfer'):te.getSource('FileTransfer')),!1===se?_e({source:le,target:le}):B().then((me)=>{const pe=new se,ge=me+Date.now()+'_'+H(le),he=(ye)=>{ee.isElectron()?_e({source:ye.filePath,target:le}):ee.isDevice()?_e({source:ye.nativeURL,target:le}):(console.warn('Attachments are not currently supported on this platform.'),ce())},fe=(ye)=>{console.error(`Unable to download file '${ge}' from '${le}':`,ye),ce(ye)};ee.isDevice()?pe.download(le,ge,he,fe,!1,{headers:ue}):pe.download(le,ge,he,fe,{headers:ue})}).catch(ce)})},E.getFileInfo=function(le){return new Z.Promise((ue,_e)=>{if(ee.isElectron())try{const ce=ne.require('fs-plus');ce.stat(le,(me,pe)=>{me?_e(me):ue({name:H(le),path:le,size:pe.size,type:I(le),mediaType:A(le)})})}catch(ce){_e('Couldn\'t require \'fs-plus\' module.')}else if(ee.isDevice()){const ce=0===le.indexOf('file://')?le:`file://${le}`;ae.resolveLocalFileSystemURL(ce,function(me){me.file(function(pe){const ge=pe.type?pe.type:I(le);ue({name:pe.name,path:ce,size:pe.size,type:ge,mediaType:A(le)})})},_e)}else $(le).then((ce)=>{ue({name:le.split('/').pop(),path:le,size:ce.size,type:ce.type,mediaType:N(ce.type)})})})},E.deleteFile=function(le){return new Z.Promise((ue,_e)=>{if(ee.isElectron())try{const ce=ne.require('fs-plus'),me=ce.existsSync(le);me?(ce.unlinkSync(le),ue()):_e(`File '${le}' doesn't exist and cannot be deleted.`)}catch(ce){_e(`Something went wrong while trying to delete the file '${le}': ${ce}`)}else ee.isDevice()?ae.resolveLocalFileSystemURL(le,(ce)=>{ce.isDirectory?_e(`File path '${le}' is a directory and cannot be deleted.`):ce.remove(ue,_e)}):ue()})},E.urlToBlob=$,E.blobToObjectUrl=function(le){return new Z.Promise((ue)=>{ue(URL.createObjectURL(le))})},E.deleteAttachments=function(){return new Z.Promise((le,ue)=>{if(ee.isElectron()){const _e=ne.require('path'),ce=ne.require('fs'),me=ne.require('electron').remote.app.getPath('userData'),pe=_e.sep,ge=me+pe+de+pe;if(!ce.existsSync(ge))return le();ce.readdir(ge,(he,fe)=>{if(he)return ue(he);for(const ye of fe)ce.lstatSync(_e.join(ge,ye)).isFile()&&ce.unlinkSync(_e.join(ge,ye));le()})}else if(ee.isDevice()){const _e=ee.getPlatformName(),ce=te.getSource('file');if(!1!==ce){let me=null;'ios'===_e?me=ce.documentsDirectory:'android'===_e&&(me=ce.externalDataDirectory),null===me?ue('Unsupported platform, expected Android or iOS.'):ae.resolveLocalFileSystemURL(me,(pe)=>{pe.getDirectory(de,{create:!1,exclusive:!1},function(ge){ge.removeRecursively(le,ue)},function(ge){1===ge.code?le():(console.error(`Couldn't get '${de}' to delete:`,ge),ue(ge))})},function(pe){ue(pe)})}else ue('No file plugin available.')}else le()})},E.pickFile=function(le){return new Z.Promise((ue,_e)=>{let ce=[],me=['*'],pe='All Files';if(void 0===le.mediaType?void 0!==le.mimeTypes&&(ce=le.mimeTypes,me=Object.keys(oe).filter((ge)=>0<=ce.indexOf(oe[ge].mimeType))):(me=Object.keys(oe).filter((ge)=>oe[ge].mediaType===le.mediaType),ce=me.map((ge)=>{return oe[ge].mimeType}),pe=le.mediaType),ee.isElectron()){const ge=ne.require('electron').remote.dialog;ge.showOpenDialog({properties:['openFile','multiSelections'],filters:[{name:pe,extensions:me}]},(he)=>{const fe=ne.require('path'),ye=ne.require('fs'),Me=ne.require('electron').remote.app.getPath('userData'),Te=fe.sep,Le=Me+Te+de+Te;ye.existsSync(Le)||ye.mkdirSync(Le);const Se=[];he.forEach((ve)=>{Se.push(new Z.Promise((be,Ce)=>{const Ee=fe.join(Le,Date.now()+'_'+fe.basename(ve)),De=(ke)=>{console.error(`A problem occurred when trying to copy the file '${ve}' to '${Ee}'.`,ke),Ce(ke)},we=ye.createReadStream(ve);we.on('error',De);const Ye=ye.createWriteStream(Ee);Ye.on('error',De),Ye.on('close',()=>{be(Ee)}),we.pipe(Ye)}))}),Z.Promise.all(Se).then(ue).catch(_e)})}else if(ee.isDevice()){const ge=ee.getPlatformName(),he=te.getSource('file');if(!1!==he){let fe=null;'ios'===ge?fe=he.documentsDirectory:'android'===ge&&(fe=he.externalDataDirectory),null===fe?_e('Unsupported platform, expected Android or iOS.'):ae.resolveLocalFileSystemURL(fe,(ye)=>{ye.getDirectory(de,{create:!0,exclusive:!1},()=>{const Te=te.getSource('fileimporter');null===Te?_e('File importer plugin not available.'):Te.importFile((Le)=>{ue([Le])},_e,void 0,ce,de)},_e)},_e)}else _e('No file plugin available.')}else{const ge=document.createElement('input');ge.setAttribute('type','file'),ge.setAttribute('multiple','multiple'),ge.addEventListener('change',()=>{const he=[];for(let fe=0;fe<ge.files.length;fe++)he.push(URL.createObjectURL(ge.files[fe]));ue(he)}),ge.click()}})}},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class I{constructor(){this.nsResolve=function(A){return'vc'==A?'vcard-temp':null},this.json={}}static fromXml(A){const N=new I;try{N.initFromXML(A)}catch(H){return console.error('Bad vCard: '+H),void 0}return N}static fromJSON(A){const N=new I;return N.initFromJSON(A),N}_extractEmail(A){const N={};return'string'==typeof A.USERID&&(N.address=A.USERID),A.HOME&&(N.home=!0),A.WORK&&(N.work=!0),A.INTERNET&&(N.internet=!0),A.PREF&&(N.pref=!0),A.X400&&(N.x400=!0),N}_extractTelephone(A){const N={};return'string'==typeof A.NUMBER&&(N.number=A.NUMBER),A.HOME&&(N.home=!0),A.WORK&&(N.work=!0),A.VOICE&&(N.voice=!0),A.FAX&&(N.fax=!0),A.PAGER&&(N.pager=!0),A.MSG&&(N.msg=!0),A.CELL&&(N.cell=!0),A.VIDEO&&(N.video=!0),A.BBS&&(N.bbs=!0),A.MODEM&&(N.modem=!0),A.ISDN&&(N.isdn=!0),A.PCS&&(N.pcs=!0),A.PREF&&(N.pref=!0),N}_extractAddress(A){const N={};return'string'==typeof A.POBOX&&(N.poBox=A.POBOX),'string'==typeof A.EXTADD&&(N.extraAddress=A.EXTADD),'string'==typeof A.STREET&&(N.street=A.STREET),'string'==typeof A.LOCALITY&&(N.locality=A.LOCALITY),'string'==typeof A.REGION&&(N.locality=A.REGION),'string'==typeof A.PCODE&&(N.locality=A.PCODE),'string'==typeof A.CTRY&&(N.locality=A.CTRY),A.WORK&&(N.work=!0),A.HOME&&(N.home=!0),A.POSTAL&&(N.postal=!0),A.PARCEL&&(N.parcel=!0),A.DOM&&(N.dom=!0),A.INTL&&(N.intl=!0),A.PREF&&(N.pref=!0),N}initFromXML(A){const N={};'string'==typeof A.VERSION&&(N.version=A.VERSION),'string'==typeof A.FN&&(N.fullName=A.FN),'object'!=typeof A.N||Array.isArray(A.N)||(N.name={},'string'==typeof A.N.FAMILY&&(N.name.family=A.N.FAMILY),'string'==typeof A.N.GIVEN&&(N.name.given=A.N.GIVEN),'string'==typeof A.N.MIDDLE&&(N.name.middle=A.N.MIDDLE),'string'==typeof A.N.PREFIX&&(N.name.prefix=A.N.PREFIX),'string'==typeof A.N.SUFFIX&&(N.name.suffix=A.N.SUFFIX)),'string'==typeof A.NICKNAME&&(N.nickName=A.NICKNAME),'object'!=typeof A.PHOTO||Array.isArray(A.PHOTO)||(N.photo={},'string'==typeof A.PHOTO.TYPE&&(N.photo.type=A.PHOTO.TYPE),'string'==typeof A.PHOTO.BINVAL&&(N.photo.binval=A.PHOTO.BINVAL)),'string'==typeof A.BDAY&&(N.birthday=A.BDAY),'object'==typeof A.ADR&&(N.address=[],Array.isArray(A.ADR)?A.ADR.forEach((H)=>{N.address.push(this._extractAddress(H))}):N.address.push(this._extractAddress(A.ADR))),'object'==typeof A.TEL&&(N.telephone=[],Array.isArray(A.TEL)?A.TEL.forEach((H)=>{N.telephone.push(this._extractTelephone(H))}):N.telephone.push(this._extractTelephone(A.TEL))),'object'==typeof A.EMAIL&&(N.email=[],Array.isArray(A.EMAIL)?A.EMAIL.forEach((H)=>{N.email.push(this._extractEmail(H))}):N.email.push(this._extractEmail(A.EMAIL))),'string'==typeof A.JABBERID&&(N.jabberId=A.JABBERID),'string'==typeof A.MAILER&&(N.mailer=A.MAILER),'string'==typeof A.TZ&&(N.timeZone=A.TZ),'object'!=typeof A.GEO||Array.isArray(A.GEO)||(N.geolocation={},'string'==typeof A.GEO.LAT&&(N.geolocation.lat=A.GEO.LAT),'string'==typeof A.GEO.LON&&(N.geolocation.lng=A.N.GIVEN)),'string'==typeof A.TITLE&&(N.title=A.TITLE),'string'==typeof A.ROLE&&(N.role=A.ROLE),'object'!=typeof A.LOGO||Array.isArray(A.LOGO)||(N.logo={},'string'==typeof A.LOGO.TYPE&&(N.logo.type=A.PHOTO.TYPE),'string'==typeof A.PHOTO.BINVAL&&(N.logo.binval=A.PHOTO.BINVAL),'string'==typeof A.PHOTO.EXTVAL&&(N.logo.extval=A.PHOTO.EXTVAL)),'object'!=typeof A.AGENT||Array.isArray(A.AGENT)||(N.agent={},'string'==typeof A.AGENT.EXTVAL&&(N.agent.extval=A.AGENT.EXTVAL)),'object'!=typeof A.ORG||Array.isArray(A.ORG)||(N.organisation={},'string'==typeof A.ORG.ORGNAME&&(N.organisation.name=A.ORG.ORGNAME),'string'==typeof A.ORG.ORGUNIT&&(N.organisation.unit=A.ORG.ORGUNIT)),'object'==typeof A.CATEGORIES&&(N.categories=[],Array.isArray(A.CATEGORIES)?A.CATEGORIES.forEach((H)=>{N.categories.push({keyword:H.KEYWORD})}):N.telephone.push({keyword:A.CATEGORIES.KEYWORD})),'string'==typeof A.NOTE&&(N.note=A.NOTE),'string'==typeof A.PRODID&&(N.prodid=A.PRODID),'string'==typeof A.REV&&(N.rev=A.REV),'string'==typeof A['SORT-STRING']&&(N.sortString=A['SORT-STRING']),'object'!=typeof A.SOUND||Array.isArray(A.SOUND)||(N.sound={},'string'==typeof A.SOUND.PHONETIC&&(N.sound.phonetic=A.SOUND.PHONETIC),'string'==typeof A.SOUND.BINVAL&&(N.sound.binval=A.SOUND.BINVAL),'string'==typeof A.SOUND.EXTVAL&&(N.sound.extval=A.SOUND.EXTVAL)),'string'==typeof A.UID&&(N.uid=A.UID),'string'==typeof A.URL&&(N.url=A.URL),'string'==typeof A.DESC&&(N.description=A.DESC),'object'!=typeof A.CLASS||Array.isArray(A.CLASS)||(A.CLASS.PUBLIC&&(N.classification='public'),A.CLASS.PRIVATE&&(N.classification='private'),A.CLASS.CONFIDENTIAL&&(N.classification='confidential')),'object'!=typeof A.KEY||Array.isArray(A.KEY)||(N.key={},'string'==typeof A.KEY.CRED&&(N.key.credential=A.KEY.CRED),'string'==typeof A.KEY.TYPE&&(N.key.type=A.KEY.TYPE)),this.json=N}initFromJSON(A){this.json=A}toJSON(){return this.json}toXML(A){const N=new DOMParser().parseFromString('<vCard xmlns="vcard-temp"/>','text/xml'),H=N.firstElementChild;if(this.json.fullName&&this.addNode(H,'FN',this.json.fullName),this.json.name){const z=this.addNode(H,'N');this.json.name.family&&this.addNode(z,'FAMILY',this.json.name.family),this.json.name.given&&this.addNode(z,'GIVEN',this.json.name.given),this.json.name.middle&&this.addNode(z,'MIDDLE',this.json.name.middle),this.json.name.prefix&&this.addNode(z,'PREFIX',this.json.name.prefix),this.json.name.suffix&&this.addNode(z,'SUFFIX',this.json.name.suffix)}if(this.json.nickName&&this.addNode(H,'NICKNAME',this.json.nickName),this.json.photo){const z=this.addNode(H,'PHOTO');this.json.photo.type&&this.addNode(z,'TYPE',this.json.photo.type),this.json.photo.binval&&this.addNode(z,'BINVAL',this.json.photo.binval)}if(this.json.birthday&&this.addNode(H,'BDAY',this.json.birthday),this.json.address&&this.json.address.forEach((z)=>{const W=this.addNode(H,'ADR');z.home&&this.addNode(W,'HOME'),z.work&&this.addNode(W,'WORK'),z.postal&&this.addNode(W,'POSTAL'),z.parcel&&this.addNode(W,'PARCEL'),z.dom&&this.addNode(W,'DOM'),z.intl&&this.addNode(W,'INTL'),z.pref&&this.addNode(W,'PREF'),z.poBox&&this.addNode(W,'POBOX',z.poBox),z.extraAddress&&this.addNode(W,'EXTADD',z.extraAddress),z.street&&this.addNode(W,'STREET',z.street),z.locality&&this.addNode(W,'LOCALITY',z.locality),z.region&&this.addNode(W,'REGION',z.region),z.postcode&&this.addNode(W,'PCODE',z.postcode),z.country&&this.addNode(W,'CTRY',z.country)}),this.json.telephone&&this.json.telephone.forEach((z)=>{const W=this.addNode(H,'TEL');z.home&&this.addNode(W,'HOME'),z.work&&this.addNode(W,'WORK'),z.voice&&this.addNode(W,'VOICE'),z.fax&&this.addNode(W,'FAX'),z.pager&&this.addNode(W,'PAGER'),z.msg&&this.addNode(W,'MSG'),z.cell&&this.addNode(W,'CELL'),z.video&&this.addNode(W,'VIDEO'),z.bbs&&this.addNode(W,'BBS'),z.modem&&this.addNode(W,'MODEM'),z.isdn&&this.addNode(W,'ISDN'),z.pcs&&this.addNode(W,'PCS'),z.pref&&this.addNode(W,'PREF'),z.number&&this.addNode(W,'NUMBER',z.number)}),this.json.email&&this.json.email.forEach((z)=>{const W=this.addNode(H,'EMAIL');z.home&&this.addNode(W,'HOME'),z.work&&this.addNode(W,'WORK'),z.internet&&this.addNode(W,'INTERNET'),z.pref&&this.addNode(W,'PREF'),z.x400&&this.addNode(W,'X400'),z.address&&this.addNode(W,'USERID',z.address)}),this.json.jabberId&&this.addNode(H,'JABBERID',this.json.jabberId),this.json.mailer&&this.addNode(H,'MAILER',this.json.mailer),this.json.timeZone&&this.addNode(H,'TZ',this.json.timeZone),this.json.geolocation){const z=this.addNode(H,'GEO');this.json.geolocation.lat&&this.addNode(z,'LAT',this.json.geolocation.lat),this.json.geolocation.lng&&this.addNode(z,'LON',this.json.geolocation.lng)}if(this.json.title&&this.addNode(H,'TITLE',this.json.title),this.json.role&&this.addNode(H,'ROLE',this.json.role),this.json.logo){const z=this.addNode(H,'LOGO');this.json.logo.type&&this.addNode(z,'TYPE',this.json.logo.type),this.json.logo.binval&&this.addNode(z,'BINVAL',this.json.logo.binval),this.json.logo.extval&&this.addNode(z,'EXTVAL',this.json.logo.extval)}if(this.json.organisation){const z=this.addNode(H,'ORG');this.json.organisation.name&&this.addNode(z,'ORGNAME',this.json.organisation.name),this.json.organisation.unit&&this.addNode(z,'ORGUNIT',this.json.organisation.unit)}if(this.json.categories&&this.json.categories.forEach((z)=>{const W=this.addNode(H,'CATEGORIES');z.keyword&&this.addNode(W,'KEYWORD',z.keyword)}),this.json.note&&this.addNode(H,'NOTE',this.json.note),this.json.productId&&this.addNode(H,'PRODID',this.json.productId),this.json.lastRevised&&this.addNode(H,'REV',this.json.lastRevised),this.json.sortString&&this.addNode(H,'SORT-STRING',this.json.sortString),this.json.sound){const z=this.addNode(H,'SOUND');this.json.sound.phonetic&&this.addNode(z,'PHONETIC',this.json.sound.phonetic),this.json.sound.extval&&this.addNode(z,'EXTVAL',this.json.sound.extval),this.json.sound.binval&&this.addNode(z,'BINVAL',this.json.sound.binval)}if(this.json.uid&&this.addNode(H,'UID',this.json.uid),this.json.url&&this.addNode(H,'URL',this.json.url),this.json.description&&this.addNode(H,'DESC',this.json.description),this.json.classification){const z=this.addNode(H,'CLASS');'public'===this.json.classification&&this.addNode(z,'PUBLIC'),'private'===this.json.classification&&this.addNode(z,'PRIVATE'),'confidential'===this.json.classification&&this.addNode(z,'CONFIDENTIAL')}if(this.json.key){const z=this.addNode(H,'KEY');this.json.key.credential&&this.addNode(z,'CRED',this.json.key.credential),this.json.key.type&&this.addNode(z,'TYPE',this.json.key.type)}let B='';if(A)B=new XMLSerializer().serializeToString(N);else{const z=N.children[0];for(let W=0;W<z.childElementCount;W++){console.log(z.childNodes.item(W));const J=new XMLSerializer().serializeToString(z.childNodes.item(W));B+=J}}return B}addNode(A,N,H){const B=A.ownerDocument.createElement(N);return A.appendChild(B),void 0!==H&&(B.textContent=H),B}}E.VCardSimple=I},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(K,X,Q,Z){return new(Q||(Q=Promise))(function(ee,te){function ne(de){try{se(Z.next(de))}catch(ie){te(ie)}}function ae(de){try{se(Z['throw'](de))}catch(ie){te(ie)}}function se(de){de.done?ee(de.value):new Q(function(ie){ie(de.value)}).then(ne,ae)}se((Z=Z.apply(K,X||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(19),N=R(35),H=R(12),B=R(159),z=R(3),W=R(6),J=R(36),G=R(5);class ${constructor(K,X){if(this.suppressMode=!1,this._messageHandlers=new Map,this._messageProcessorQueue=Promise.resolve(),this._suppressModeQueue=[],this._deferredStanzas=[],this._waitingAlertId=null,!X)throw new Error('You must supply a config object');X.i18n&&X.i18n.enabled?G.setLocale(X.i18n.locale||X.i18n.language||'en-GB'):G.setLocale('en-GB'),this.name=K,this.config=X,this._eventListeners={},this.logger=new H.Logger(this.config.logging||[]),this._setUpHandlers(),N.LayerRegistration.addInstance(this.name,this)}static getInstance(K){return N.LayerRegistration.getInstance(K)}static onReady(K,X){N.LayerRegistration.onReady(K,X)}bootstrap(K,X){return this._buildCommonComponents(),this.showWaitingMessage('Initialising app'),Promise.resolve().then(()=>this._setStore(X)).then(()=>this._setLogger()).then(()=>this._setComms(K)).then(()=>this._setupPushNotifications()).then(()=>this._setupCommonEventListeners()).then(()=>N.LayerRegistration.fireReady(this.name)).then(()=>this.dismissWaitingMessage()).catch((Q)=>{N.LayerRegistration.fireReady(this.name),setTimeout(()=>{this.error('Error during bootstrap',Q)},100)})}on(K,X,Q=!1,Z=!1){void 0===this._eventListeners[K]&&(this._eventListeners[K]=[]);const ee=G.generateRandomSixString();return this._eventListeners[K].push({id:ee,oneTimeOnly:Q,allowSuppress:Z,callback:(ne)=>I(this,void 0,void 0,function*(){yield X(ne.detail)})}),()=>{const ne=this._eventListeners[K].findIndex((ae)=>ae.id===ee);if(-1!==ne)return this._eventListeners[K].splice(ne,1)[0]}}emit(K,X){return I(this,void 0,void 0,function*(){const Q=[Promise.resolve()];this._eventListeners[K]||(this._eventListeners[K]=[]),this.logger.log(H.LoggerTypes.Events,`%c RAISING EVENT:%c ${K} (${this._eventListeners[K].length} listeners)`,'color: #066; font-weight: bold;','color: #999; font-weight: normal;',{data:X});const Z=[];for(let ee=0;ee<this._eventListeners[K].length;ee++){const te=this._eventListeners[K][ee];this.suppressMode&&te.allowSuppress||Q.push(te.callback({detail:X})),!0===te.oneTimeOnly&&Z.push(ee)}Z.length&&(this._eventListeners[K]=this._eventListeners[K].filter((ee,te)=>!Z.includes(te))),yield Promise.all(Q)})}login(K,X){return I(this,void 0,void 0,function*(){return yield this.comms.login(K,X)})}attemptReconnect(){this.comms.attemptReconnect()}logout(K=!1,X=!0){return I(this,void 0,void 0,function*(){return yield this.comms.logout(K,X)})}getSyncedTimestamp(){return this.comms.getSyncedTimestamp()}getConnectionStatus(){return this.comms.getConnectionStatus()}clearAllData(K=!1){return I(this,void 0,void 0,function*(){try{yield this.store.clearAllData(),yield this.comms.clearAllData(K)}catch(X){this.error('Error clearing data',X)}})}getCurrentUserJid(){return this.comms.username}getCurrentUserResource(){return this.comms.getCurrentUserResource()}getCurrentUser(){return null}getCurrentXmppDisplayName(){return this.comms.username}updateUserDirectory(){return I(this,void 0,void 0,function*(){yield this.comms.updateUserDirectory()})}getUserByJid(K){return I(this,void 0,void 0,function*(){return yield this.comms.getUserByJid(K)})}searchUsers(K='',X=[]){return I(this,void 0,void 0,function*(){return yield this.comms.searchUsers(K,X)})}markChatEntryRead(K){return I(this,void 0,void 0,function*(){yield this.comms.markMessageRead(K.id)})}downloadMessageAttachments(K){return I(this,void 0,void 0,function*(){try{return K.attachments&&0!==K.attachments.length?yield this.comms.downloadMessageAttachments(K.id):void 0}catch(X){this.error('Error downloading message attachment(s)',X)}})}downloadFile(K){return I(this,void 0,void 0,function*(){try{return yield this.comms.downloadFile(K)}catch(X){this.error('Error downloading file',X)}})}processXmlStanzaStringsFromMam(K,X=!0){return I(this,void 0,void 0,function*(){try{return yield this.comms.processXmlStanzaStringsFromMam(K,X)}catch(Q){this.error('Error processing XML stanzas from MAM',Q)}})}error(K,X,Q=null){return I(this,void 0,void 0,function*(){yield this.cancelSuppressMode('*'),this.dismissWaitingMessage();const Z='string'==typeof X?X:X.message;this.emit(W.BaseEvents._Request_RaiseAlert,new z.DefaultAlerts(this).AlertErrorWithOkayButton(K,Z,1,{})),this.logger.error(Q||X)})}getLabel(K,X){if(!this.config.labels||!this.config.labels[K])return null;const Q=this.translate(this.config.labels[K],!1);return G.tokenReplace(Q,X)}translate(K,X=!1){if(!this.config.i18n||!0!==this.config.i18n.enabled||'function'!=typeof this.config.i18n.translateFn)return K;if('undefined'!=typeof K){if(null===K)return null;if(''===K)return'';const Q=this.config.i18n.translateFn(K);return null===Q?!0===X?null:this.config.i18n.debugMode?` ${K} `:K:Q}}translateI18nItem(K){if(!this.config.i18n||!0!==this.config.i18n.enabled)return K.key;const X=this.translate(K.scopedKey,!0);return null===X?this.translate(K.key):X}getUniqueCommsId(){return this.comms.getUniqueId()}sendMessage(K,X,Q,Z=[],ee=!1){return I(this,void 0,void 0,function*(){const te=G.deepCloneObject(Q),ne=yield this._prepareMessage(K,te);if(null===ne)return null;try{const ae=yield this.comms.sendMessage(X,ne,Z);return G.parseMessagePayload(ae,K)}catch(ae){if(ee)throw ae;else this.error('Error sending message',ae)}})}sendRoomChatMessage(K,X,Q=[],Z=!0,ee=!1){return I(this,void 0,void 0,function*(){try{return yield this.comms.sendRoomMessage(K,X,null,Q,Z)}catch(te){if(ee)throw te;else this.error('Error sending room chat message',te)}})}sendRoomMessage(K,X,Q,Z=!1){return I(this,void 0,void 0,function*(){const ee=G.deepCloneObject(Q),te=yield this._prepareMessage(X,ee);if(null===te)return null;try{const ne=yield this.comms.sendRoomMessage(K,null,te);return G.parseMessagePayload(ne,X)}catch(ne){if(Z)throw ne;else this.error('Error sending room message',ne)}})}sendMulticastMessage(K,X,Q,Z=[],ee=!1){return I(this,void 0,void 0,function*(){const te=G.deepCloneObject(X),ne=yield this._prepareMessage(K,te);if(null===ne)return null;try{const ae=yield this.comms.sendMulticastMessage(Q,ne,Z);return G.parseMessagePayload(ae,K)}catch(ae){if(ee)throw ae;else'object'==typeof ae?(this.logger.error(ae),this._workOutIfAttachmentTooLarge(ae)):this.error('Error sending multicast message',ae)}})}sendIq(K,X,Q,Z,ee=!1){return I(this,void 0,void 0,function*(){const te=G.deepCloneObject(Z),ne=this._getHandlerForMessageType(Q);if(!ne)return null;const ae=yield this._prepareIq(Q,te);if(null===ae)return null;let se=null;try{se=yield this.comms.sendIq(K,X,ae)}catch(de){const ie=de;if(ee)throw ie;else return yield ne.callHandleIqErrorResponse(te,ie)}try{return yield ne.callHandleIqResponse(te,se)}catch(de){const ie=new J.IQError(de.message||de,se);if(ee)throw ie;else return yield ne.callHandleIqErrorResponse(te,ie)}})}sendMessageToBot(K,X,Q=!1){return I(this,void 0,void 0,function*(){const Z=G.deepCloneObject(X);try{yield this._sendBotCommand(K,Z,null)}catch(ee){if(Q)throw ee;else this.error('Error sending bot message',ee)}})}sendBotCommand(K,X,Q=!1){return I(this,void 0,void 0,function*(){const Z=G.deepCloneObject(X);try{return yield this.comms.sendBotCommand(K.toString(),Z)}catch(ee){if(Q)throw ee;else this.error('Error sending bot command',ee)}})}setSupportLoggingTypes(K=['_all_']){return I(this,void 0,void 0,function*(){return this.logger.setTypes(K),yield this.store.saveLoggerTypes(K)})}resetSupportLogging(){return I(this,void 0,void 0,function*(){return this.logger.resetTypes(),yield this.store.deleteLoggerTypes()})}showWaitingMessage(K){return I(this,void 0,void 0,function*(){yield this.dismissWaitingMessage();const X=new z.DefaultAlerts(this).AlertWaiting(K);this._waitingAlertId=X.id,this._alertModalManager.raiseAlert(X)})}dismissWaitingMessage(){return I(this,void 0,void 0,function*(){this._waitingAlertId&&(this._alertModalManager.dismissAlertById(this._waitingAlertId),this._waitingAlertId=null)})}enableSuppressMode(K,X=!1){if('*'===K)throw new Error('Suppress mode cannot be enabled with the id \'*\'');X&&this._suppressModeQueue.includes(K)?this.logger.log(H.LoggerTypes.Other,`%c SUPPRESSION MODE ALREADY EXISTS IN QUEUE %c${K}`,'color: #696; font-weight: bold;','color: #999; font-weight: normal;'):(this.logger.log(H.LoggerTypes.Other,`%c ADDING TO SUPPRESSION MODE QUEUE %c${K}`,'color: #696; font-weight: bold;','color: #999; font-weight: normal;'),this._suppressModeQueue.push(K)),this.logger.log(H.LoggerTypes.Other,'%c\uD83D\uDD07 SUPPRESSION MODE QUEUE','color: #696; font-weight: bold;',this._suppressModeQueue),this.suppressMode||(this.logger.log(H.LoggerTypes.Other,'%c\uD83D\uDD07 ENTERING SUPPRESSION MODE','color: #696; font-weight: bold;'),this.suppressMode=!0)}cancelSuppressMode(K){return I(this,void 0,void 0,function*(){if(0!==this._suppressModeQueue.length)return this._messageProcessorQueue=this._messageProcessorQueue.then(()=>{return new Promise((X)=>{if('*'===K)this.logger.log(H.LoggerTypes.Other,'%c\uD83D\uDD07 CLEARING SUPPRESSION MODE QUEUE','color: #696; font-weight: bold;'),this._suppressModeQueue=[],this.suppressMode=!1;else{const Q=this._suppressModeQueue.indexOf(K);-1!==Q&&(this.logger.log(H.LoggerTypes.Other,`%c REMOVING FROM SUPPRESSION MODE QUEUE %c${K}`,'color: #696; font-weight: bold;','color: #999; font-weight: normal;'),this._suppressModeQueue.splice(Q,1),this.logger.log(H.LoggerTypes.Other,'%c\uD83D\uDD07 SUPPRESSION MODE QUEUE','color: #696; font-weight: bold;',this._suppressModeQueue))}if(!0===this.suppressMode&&0===this._suppressModeQueue.length){if(this.logger.log(H.LoggerTypes.Other,'%c\uD83D\uDD0A EXITING SUPPRESSION MODE','color: #696; font-weight: bold;'),this.suppressMode=!1,0<this._deferredStanzas.length){const Q=[...this._deferredStanzas],Z=Q.filter((ee)=>ee.eventType===A.CtXmppClient.EVENT_TYPES.NEW_MESSAGE).map((ee)=>ee.payload.data);this._deferredStanzas=[],this.logger.log(H.LoggerTypes.Other,`%c HANDLING ${Z.length} DEFERRED MESSAGE(S) RECEIVED DURING SUPPRESSED MODE`,'color: #696; font-weight: bold;',Z),Q.forEach((ee)=>{switch(ee.eventType){case A.CtXmppClient.EVENT_TYPES.NEW_MESSAGE:this.handleNewMessage(ee.payload);break;case A.CtXmppClient.EVENT_TYPES.MESSAGE_UPDATED:this.handleMessageUpdate(ee.payload);break;case A.CtXmppClient.EVENT_TYPES.RECEIPT_RECEIVED:this.handleChatMarkerUpdate(ee.payload);}})}else this.logger.log(H.LoggerTypes.Other,`%c NO MESSAGES RECEIVED DURING SUPPRESSED MODE`,'color: #696; font-weight: bold;');this.logger.log(H.LoggerTypes.Other,'%c\uD83C\uDFA8 REDRAWING UIS','color: #696; font-weight: bold;'),this.emit(W.BaseEvents._Request_RedrawAllUIs)}X()})}),this._messageProcessorQueue})}addDeferredStanza(K){this._deferredStanzas||(this._deferredStanzas=[]),this.logger.log(H.LoggerTypes.Other,`%c ADDING DEFERRED STANZA %c${K.id} > ${K.eventType}`,'color: #696; font-weight: bold;','color: #999; font-weight: normal;',{payload:K.payload}),this._deferredStanzas.push(K)}removeDeferredStanza(K,X){this._deferredStanzas&&this._deferredStanzas.length&&(!this._deferredStanzas.some((Q)=>Q.id===K&&Q.eventType===X)||(this.logger.log(H.LoggerTypes.Other,`%c REMOVING DEFERRED STANZA %c${K} > ${X}`,'color: #696; font-weight: bold;','color: #999; font-weight: normal;'),this._deferredStanzas=this._deferredStanzas.filter((Q)=>{return Q.id!==K||Q.eventType!==X})))}getHandlerForMessage(K){const X=G.getMessageType(K);return this._getHandlerForMessageType(X)}_setComms(K){return new Promise((X,Q)=>{const Z=this.config.xmpp.initTimeout||1e4,ee=setTimeout(()=>{Q(`Comms was not initialised within ${Math.floor(Z/1e3)} seconds. Aborting.`)},Z);this.comms=K,this.comms.onLogin((te)=>{this.handleLogin(te)}),this.comms.onLogout((te)=>{this.handleLogout(te)}),this.comms.onNewMessage((te)=>{this.handleNewMessage(te)}),this.comms.onMessageUpdate((te)=>{this.handleMessageUpdate(te)}),this.comms.onChatMarkerUpdate((te)=>{this.handleChatMarkerUpdate(te)}),this.comms.onStatusUpdate((te,ne,ae)=>{this.handleConnectionChange(te,ne,ae)}),this.comms.onPresenceUpdate((te)=>{this.handlePresenceUpdate(te)}),this.comms.onRoomNewParticipant((te)=>{this.handleRoomParticipantUpdate(te)}),this.comms.onRoomParticipantUpdate((te)=>{this.handleRoomParticipantUpdate(te)}),this.comms.onStartFetchingMissedMessages(()=>{this.enableSuppressMode('baseLayer#mam',!0)}),this.comms.onFinishedFetchingMissedMessages(()=>{this.cancelSuppressMode('baseLayer#mam')}),this.comms.onInitialized(()=>{X(),clearTimeout(ee),this.config.xmpp.user.id&&this.config.xmpp.user.password&&this.config.xmpp.user.domain&&(this.showWaitingMessage(`Logging in as ${this.config.xmpp.user.id}`),this._attemptAutoLogin(this.config.xmpp.user.id,this.config.xmpp.user.password,this.config.xmpp.user.domain))})})}_setStore(K){return new Promise((X)=>{this.store=K,this.store.init().then(()=>X())})}_setLogger(){return new Promise((K)=>I(this,void 0,void 0,function*(){const X=yield this.store.getLoggerTypes();X&&this.logger.setTypes(X),K()}))}_setupPushNotifications(){return new Promise((K)=>I(this,void 0,void 0,function*(){const X=window;this.config.enablePushNotifications&&X.cordova?X.cordova.plugins.notification?X.cti.store.notification&&X.cti.store.notification.token?(yield this.store.savePushNotificationToken(X.cti.store.notification.token),K()):X.cordova.plugins.notification.registerForPush((Q)=>I(this,void 0,void 0,function*(){yield this.store.savePushNotificationToken(Q),K()}),(Q)=>{this.logger.error(Q),K()},{channelName:this.name}):K():K()}))}_setupCommonEventListeners(){return new Promise((K)=>I(this,void 0,void 0,function*(){const X=yield this.store.getTheme();this._setThemeOnHtml(X),this.on(W.BaseEvents._Request_ThemeChange,(Q)=>I(this,void 0,void 0,function*(){yield this.store.saveTheme(Q),this._setThemeOnHtml(Q)})),K()}))}_setThemeOnHtml(K){document.querySelector('html').setAttribute('theme',K),this.emit(W.BaseEvents._Request_RedrawAllUIs)}_setUpHandlers(){this._messageHandlers=new Map,this.getHandlers().forEach((K)=>{K.messageKey&&this._messageHandlers.set(K.messageKey,K),K.eventType&&K.eventType.length&&K.eventType.forEach((X)=>{this.on(X,(Q)=>I(this,void 0,void 0,function*(){try{yield K.callHandleEvent(X,Q)}catch(Z){this.error('Error handling event',`Event type: ${X.toString()}. ${Z.message||Z}`)}}))})})}_prepareMessage(K,X){return I(this,void 0,void 0,function*(){const Q=this._messageHandlers.get(K),Z=yield Q.callCreateMessage(X);return null===Z||void 0===Z?null:{[Q.messageKey]:JSON.stringify(Z)}})}_prepareIq(K,X){return I(this,void 0,void 0,function*(){const Q=this._messageHandlers.get(K),Z=yield Q.callCreateIq(X);return null===Z||void 0===Z?null:Z})}_sendBotCommand(K,X,Q){return I(this,void 0,void 0,function*(){const Z=K.toString(),ee=yield this._prepareBotMessage(K,X,Q);if(null!==ee){const te=yield this.comms.sendBotCommand(Z,ee);if(te&&!1===te.success){const ne=yield this._shouldRetryBotMessage(K,X,te);!0===ne&&(yield this._sendBotCommand(K,X,te))}}})}_prepareBotMessage(K,X,Q){return I(this,void 0,void 0,function*(){const Z=this._messageHandlers.get(K),ee=yield Z.callCreateBotMessage(X,Q);return null===ee||void 0===ee?null:{[Z.messageKey]:JSON.stringify(ee)}})}_shouldRetryBotMessage(K,X,Q){return I(this,void 0,void 0,function*(){const Z=this._messageHandlers.get(K);return yield Z.callHandleFailedBotResponse(X,Q)})}_buildCommonComponents(){return I(this,void 0,void 0,function*(){const K='div',X='___ct_base_layer_modal_container';let Q=document.querySelector(`${K}#${X}`);Q||(Q=document.createElement(K),Q.id=X,Q.setAttribute('style','position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: 99999;'),document.body.appendChild(Q)),this._alertModalManager=document.querySelector('ct-alert-modal-manager'),this._alertModalManager||(this._alertModalManager=document.createElement('ct-alert-modal-manager'),this._alertModalManager.owner=this.name,Q.appendChild(this._alertModalManager)),yield this.generateCommonComponents(Q)})}_attemptAutoLogin(K,X,Q){return I(this,void 0,void 0,function*(){let Z=`${K}@${Q}`;this.config.xmpp.user&&!0===this.config.xmpp.user.forceLowercaseJid&&(Z=Z.toLowerCase()),this.logger.log(H.LoggerTypes.Connectivity,`%c ATTEMPTING AUTOMATIC LOGIN AS > %c${Z}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;'),yield this.comms.login(Z,X)})}_getHandlerForMessageType(K){return this._messageHandlers.get(K.toString())||this.error('No handler found',`No handlers was found for message type '${K.toString()}'`),this._messageHandlers.get(K)}_workOutIfAttachmentTooLarge(K){const X='There was an error sending the message, please try again.';if(K.nodeName&&'iq'===K.nodeName&&K.childNodes&&K.childNodes[1]&&'error'===K.childNodes[1].nodeName){const Q=K.childNodes[1];if(Q.childNodes&&Q.childNodes[1]&&'text'===Q.childNodes[1].nodeName){const Z=Q.childNodes[1],ee=Z.textContent.match(/\d+/)[0],te=ee?parseInt(ee):0;if(te){const ne=Math.round(te/1024/1024),ae=`The attachment is too large. Please select a file lower than ${ne}MB in size.`;throw this.error('Attachment Too Large',ae),new Error(ae)}else{const ne='The attachment is too large. Please choose a smaller attachment.';throw this.error('Attachment Too Large',ne),new Error(ne)}}}throw this.error('Error sending multicast message',X),new Error(X)}handleLogin(K){this.emit(W.BaseEvents.LoginResult,K)}handleLogout(K){this.emit(W.BaseEvents.LogoutResult,K)}handleNewMessage(K){if(!0===this.suppressMode&&!0!==K.fromMam)return void this.addDeferredStanza({id:K._id,eventType:A.CtXmppClient.EVENT_TYPES.NEW_MESSAGE,payload:K});this.emit(W.BaseEvents.UserActivity,new W.UserActivityEventArgs(K.jid,K.ts));const X=G.getMessageType(K),Q=G.parseMessagePayload(K,X),Z=this._getHandlerForMessageType(X);Z&&(this._messageProcessorQueue=this._messageProcessorQueue.then(()=>I(this,void 0,void 0,function*(){try{return this.removeDeferredStanza(K._id,A.CtXmppClient.EVENT_TYPES.NEW_MESSAGE),this.logger.log(H.LoggerTypes.ProcessingReceived,`%c PROCESSING NEW MESSAGE:%c`,'color: #060; font-weight: bold;','color: #999; font-weight: normal;',G.getMessageContentForDebug(Q)),yield Z.callHandleMessage(Q)}catch(ee){this.error('Error processing message',ee)}})).catch((ee)=>this.error('Error processing message',ee)))}handleMessageUpdate(K){if(!0===this.suppressMode)return void this.addDeferredStanza({id:K._id,eventType:A.CtXmppClient.EVENT_TYPES.MESSAGE_UPDATED,payload:K});this.emit(W.BaseEvents.UserActivity,new W.UserActivityEventArgs(K.jid,K.ts));const X=G.getMessageType(K),Q=G.parseMessagePayload(K,X),Z=this._getHandlerForMessageType(X);Z&&(this._messageProcessorQueue=this._messageProcessorQueue.then(()=>I(this,void 0,void 0,function*(){try{return this.removeDeferredStanza(K._id,A.CtXmppClient.EVENT_TYPES.MESSAGE_UPDATED),this.logger.log(H.LoggerTypes.ProcessingUpdated,`%c PROCESSING MESSAGE UPDATE:%c`,'color: #060; font-weight: bold;','color: #999; font-weight: normal;',G.getMessageContentForDebug(Q)),yield Z.callHandleMessageUpdate(Q)}catch(ee){this.error('Error processing message update',ee)}})).catch((ee)=>this.error('Error processing message update',ee)))}handleChatMarkerUpdate(K){if(!0===this.suppressMode)return void this.addDeferredStanza({id:K.message_id,eventType:A.CtXmppClient.EVENT_TYPES.RECEIPT_RECEIVED,payload:K});const X=Object.assign({},K);let Q=`${X.sender_resource}@${this.config.xmpp.user.domain}`;this.config.xmpp.user&&!0===this.config.xmpp.user.forceLowercaseJid&&(Q=Q.toLowerCase()),X.sender_resource=Q,this.emit(W.BaseEvents.UserActivity,new W.UserActivityEventArgs(X.sender_resource,X.message.updated_at||X.message.ts));const Z=G.getMessageType(X.message),ee=G.parseMessagePayload(X.message,Z),te=Object.assign({},X,{message:ee}),ne=this._getHandlerForMessageType(Z);ne&&(this._messageProcessorQueue=this._messageProcessorQueue.then(()=>I(this,void 0,void 0,function*(){try{this.removeDeferredStanza(K.message_id,A.CtXmppClient.EVENT_TYPES.RECEIPT_RECEIVED);const ae=X.sender_resource.split('@').shift();return this.logger.log(H.LoggerTypes.ProcessingChatMarker,`%c PROCESSING CHAT MARKER: %c${ae} > ${X.type}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;'),yield ne.callHandleMessageReceipt(te)}catch(ae){this.error('Error processing chat marker',ae)}})).catch((ae)=>this.error('Error processing chat marker',ae)))}handleRoomParticipantUpdate(K){if(K.jid){this.emit(W.BaseEvents.UserActivity,new W.UserActivityEventArgs(K.jid,K.updated_at||K.ts));const X=K.metadata&&K.metadata.role?K.metadata.role:'';this.emit(W.BaseEvents.RoomParticipantUpdate,new W.RoomParticipantUpdateEventArgs(K.jid,K.room_name,X,z.RoomRole[K.room_role]))}}handleConnectionChange(K,X,Q){this.comms.setConnectionStatus(K),$.onReady(this.name,()=>{this.emit(W.BaseEvents.ConnectionStatusChange,new W.ConnectionStatusEventArgs(K,X,Q))})}handlePresenceUpdate(K){K.online&&this.emit(W.BaseEvents.UserActivity,new W.UserActivityEventArgs(K.id,this.getSyncedTimestamp()));const X=K.online?z.ConnectionStatus.Connected:z.ConnectionStatus.Disconnected;this.emit(W.BaseEvents.OtherUserConnectionStatusChange,new W.UserConnectionStatusEventArgs(K.id,X))}static getUniqueTranslationKeys(K=!1,...X){return B.getCommonI18nKeys(K,...X)}}E.BaseLayer=$},function(L,E,R){'use strict';var I=this&&this.__decorate||function(K,X,Q,Z){var ee=arguments.length,te=3>ee?X:null===Z?Z=Object.getOwnPropertyDescriptor(X,Q):Z,ne;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)te=Reflect.decorate(K,X,Q,Z);else for(var ae=K.length-1;0<=ae;ae--)(ne=K[ae])&&(te=(3>ee?ne(te):3<ee?ne(X,Q,te):ne(X,Q))||te);return 3<ee&&te&&Object.defineProperty(X,Q,te),te},A=this&&this.__awaiter||function(K,X,Q,Z){return new(Q||(Q=Promise))(function(ee,te){function ne(de){try{se(Z.next(de))}catch(ie){te(ie)}}function ae(de){try{se(Z['throw'](de))}catch(ie){te(ie)}}function se(de){de.done?ee(de.value):new Q(function(ie){ie(de.value)}).then(ne,ae)}se((Z=Z.apply(K,X||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(16),H=R(0),B=R(35),z=R(12),W=R(3),J=R(6),G=R(34);class $ extends G.CTBaseComponent{constructor(){super(...arguments),this._connected=!1,this._metadata=null,this._defaultAlerts=null,this._debouncers={},this._listenerUnsubscribers=[]}get layer(){return this._baseLayer?this._baseLayer:null}get metadata(){if(null===this._metadata)throw new Error(`Metadata not set for component <${this.localName}>`);return this._metadata}get defaultAlerts(){return this._defaultAlerts||(this._defaultAlerts=new W.DefaultAlerts(this._baseLayer))}get componentStyles(){return this.generateComponentStyles}componentMarkup(){if(!this.layer){const K=this._findParentCTLayerComponent();if(K&&(this._baseLayer=K._baseLayer,this._initializeForBaseLayer()),!this._connected)return null;if(!this.layer)return K?console.error(`Component <${this.localName}> child of <${K.localName}> does not have an owner layer specified`):console.error(`Component <${this.localName}> does not have an owner layer specified`),N.h('em',{style:{display:'inline-block',fontSize:'12px',color:'#900',backgroundColor:'#FF0',padding:'3px 6px'}},`${this.localName}:`,N.h('br'),'OWNER NOT SPECIFIED')}return this.generateComponentMarkup()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._listenerUnsubscribers.forEach((K)=>K())}attributeChangedCallback(K,X,Q){super.attributeChangedCallback(K,X,Q);'owner'===K?Q!==X&&''!==Q&&(this.owner=Q,this._attemptConnectToBaseLayer()):void 0}setMetadata(K){this._metadata=K}defer(K){setTimeout(K,0)}debounce(K,X,Q=100){clearTimeout(this._debouncers[K]),this._debouncers[K]=setTimeout(()=>{X(),delete this._debouncers[K]},Q)}cancelDebounce(K){clearTimeout(this._debouncers[K])}emitEvent(K,X){return A(this,void 0,void 0,function*(){this._baseLayer?yield this._baseLayer.emit(K,X):console.error(`Could not emit event from component <${this.localName}> - it does not have an owner layer specified`)})}emitComponentEvent(K,X){this._baseLayer?(this._baseLayer.logger.log(z.LoggerTypes.Events,`%c RAISING COMPONENT EVENT:%c ${K}`,'color: #066; font-weight: bold;','color: #999; font-weight: normal;',{component:this,data:X}),this.dispatchEvent(new CustomEvent(K,{detail:X}))):console.error(`Could not emit event from component <${this.localName}> - it does not have an owner layer specified`)}addListener(K,X,Q){if(this._baseLayer){let Z=!1,ee=!0;Q&&!0===Q.onceOnly&&(Z=!0),Q&&!0===Q.dontSuppress&&(ee=!1);const te=this._baseLayer.on(K,X,Z,ee);this._listenerUnsubscribers.push(te)}else console.error(`Could not set event handler on component <${this.localName}> - it does not have an owner layer specified`)}addListeners(K,X,Q){K.forEach((Z)=>{this.addListener(Z,X,Q)})}launchModal(K){this._baseLayer.emit(J.BaseEvents._Request_RaiseAlert,K)}launchAckownledgeDialog(K,X,Q){this._baseLayer.emit(J.BaseEvents._Request_RaiseAlert,this.defaultAlerts.AlertAcknowledge(K,X,1,{okay:()=>{Q()}}))}launchConfirmationDialog(K,X,Q,Z){this._baseLayer.emit(J.BaseEvents._Request_RaiseAlert,this.defaultAlerts.AlertYesNoQuestion(K,X,1,{yes:()=>{Q()},no:()=>{'function'==typeof Z&&Z()}}))}showWaitingMessage(K){return A(this,void 0,void 0,function*(){yield this._baseLayer.showWaitingMessage(K)})}dismissWaitingMessage(){return A(this,void 0,void 0,function*(){yield this._baseLayer.dismissWaitingMessage()})}getLabel(K,X){return this.layer.getLabel(K,X)}translate(K){return this._baseLayer.translate(K,!1)}translateI18nItem(K){let X;if(K&&['scope','key'].every((Z)=>K.hasOwnProperty(Z))?X=K.key:(X=K.toString(),K=this.metadata&&this.metadata.getI18nItem(X)||null),null===K)return X;if(null===this.metadata)return X;if(!this._baseLayer.config.i18n||!0!==this._baseLayer.config.i18n.enabled)return X;const Q=this._baseLayer.translate(K.scopedKey,!0);return null===Q?this._baseLayer.translate(K.key):Q}_attemptConnectToBaseLayer(){this.owner&&B.LayerRegistration.onReady(this.owner,()=>{this._connectToLayer()})}_connectToLayer(){return A(this,void 0,void 0,function*(){this._connected||this.owner&&(this._baseLayer=B.LayerRegistration.getInstance(this.owner)||null,this._baseLayer&&(yield this._initializeForBaseLayer()))})}_initializeForBaseLayer(){return A(this,void 0,void 0,function*(){this.layer&&(yield this.initialize.apply(this),this.setupListeners(),this._connected=!0,this.forceRedraw(),this.addListener(J.BaseEvents._Request_RedrawAllUIs,()=>A(this,void 0,void 0,function*(){this.layer&&(yield this.initialize.apply(this),this.forceRedraw())})))})}_findParentCTLayerComponent(){let K=this,X=!1;do K=K.parentNode||K.host,K||(X=!0),K&&K.owner&&(X=!0);while(!X);return K||null}}$.is=null,I([H.prop({type:String,attribute:!0})],$.prototype,'owner',void 0),E.CTLayerComponent=$},function(L,E,R){'use strict';var I=this&&this.__awaiter||function($,K,X,Q){return new(X||(X=Promise))(function(Z,ee){function te(se){try{ae(Q.next(se))}catch(de){ee(de)}}function ne(se){try{ae(Q['throw'](se))}catch(de){ee(de)}}function ae(se){se.done?Z(se.value):new X(function(de){de(se.value)}).then(te,ne)}ae((Q=Q.apply($,K||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(32),N=R(19),H=R(3),B=R(36),z=R(6),W=R(12),J=R(5);E.BaseComms=class{constructor($,K,X,Q){this._firstConnectionInitialized=!1,this._loggingIn=!1,this._loginTimeout=null,this._clientName=$;const Z={debug:Q.getTypesAsEnumValues().includes(W.LoggerTypes.XmppClient),mucHost:K.mucHost,mam:{auto:K.mam&&!0===K.mam.autoFetch||!1,defaultTimeLimit:K.maxMessageAge||0,pageSize:500},autoLogin:!(K.autoLogin!==void 0)||K.autoLogin,autoReconnect:!(K.autoReconnect!==void 0)||K.autoReconnect,enablePing:!1!==K.enablePing,pingInterval:K.pingInterval||5e3,pingTimeout:K.pingTimeout||1e4,multicastHost:K.multicastHost,uploadHost:K.uploadHost,autoMarkMessages:K.useChatMarkers,autoPurgeOldMessagesAge:K.maxMessageAge||0,encryption:K.encryption||!1,fileEncryption:K.fileEncryption||!1,authAttachments:!0===K.authAttachments,streamResumption:!1!==K.streamResumption,useEncodedJidAsResource:K.user&&!0===K.user.userPersistentResource||!1,adSpn:K.adSpn||null,adSecurityPackage:K.adSecurityPackage||null,push:K.push||{enabled:!1},updateUserDirectoryOnLogin:K.updateUserDirectoryOnLogin||null,enableMessageCarbons:K.enableMessageCarbons||!1,bringToForegroundOnVoipPush:K.bringToForegroundOnVoipPush===void 0?null:K.bringToForegroundOnVoipPush};K.push&&(Z.push=K.push),K.adTokenPlaceholder&&(Z.adTokenPlaceholder=K.adTokenPlaceholder),this.client=new N.CtXmppClient(this._clientName,K.endpoint,Z),this.store=X,this.logger=Q,this.xmppConfig=K,this._localEventHandlers={},this._setupCommonHandlers()}onInitialized($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.INITIALISED,()=>{$()})}onLogin($){const K='comms-login';this._localEventHandlers[K]===void 0&&(this._localEventHandlers[K]=[]),this._localEventHandlers[K].push($)}onLogout($){const K='comms-logout';this._localEventHandlers[K]===void 0&&(this._localEventHandlers[K]=[]),this._localEventHandlers[K].push($)}onNewMessage($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.NEW_MESSAGE,(K)=>{$(Object.assign({},K))})}onMessageUpdate($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.MESSAGE_UPDATED,(K)=>{$(Object.assign({},K))})}onChatMarkerUpdate($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.RECEIPT_RECEIVED,(K)=>{$(Object.assign({},K))})}onStatusUpdate($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.STATUS,(K)=>{let X=H.ConnectionStatus.Disconnected,Q=null;switch(K.id){case A.default.Strophe.Status.CONNFAIL:X=H.ConnectionStatus.Disconnected,Q=new H.DisconnectionStatus(K.wontReconnect,K.reason);break;case A.default.Strophe.Status.AUTHFAIL:X=H.ConnectionStatus.Disconnected,Q=new H.DisconnectionStatus(!1,K.reason);break;case A.default.Strophe.Status.ERROR:X=H.ConnectionStatus.Disconnected,Q=new H.DisconnectionStatus(K.wontReconnect,K.reason);break;case A.default.Strophe.Status.CONNECTING:X=H.ConnectionStatus.Connecting;break;case A.default.Strophe.Status.AUTHENTICATING:X=H.ConnectionStatus.Connecting;break;case A.default.Strophe.Status.CONNECTED:X=H.ConnectionStatus.Connected;break;case A.default.Strophe.Status.DISCONNECTING:X=H.ConnectionStatus.Disconnecting;break;case A.default.Strophe.Status.DISCONNECTED:X=H.ConnectionStatus.Disconnected,Q=new H.DisconnectionStatus(K.wontReconnect,K.reason);break;default:H.ConnectionStatus.Disconnected;}$(X,K.reconnectTime,Q)})}onPresenceUpdate($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.PRESENCE_UPDATE,(K)=>{$(K)})}onRoomNewParticipant($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.NEW_PARTICIPANT,(K)=>{$(Object.assign({},K))})}onRoomParticipantUpdate($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.PARTICIPANT_UPDATED,(K)=>{$(Object.assign({},K))})}onError($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.ERROR,(K)=>{$(K)})}onStartFetchingMissedMessages($){const K='missed-messages-start';this._localEventHandlers[K]===void 0&&(this._localEventHandlers[K]=[]),this._localEventHandlers[K].push($)}onFinishedFetchingMissedMessages($){const K='missed-messages-finished';this._localEventHandlers[K]===void 0&&(this._localEventHandlers[K]=[]),this._localEventHandlers[K].push($)}onAutoReconnected($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.AUTO_RECONNECTED,(K)=>{$(K)})}onDatabasesAutoDestroyed($){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.AUTO_DBS_DESTROYED,()=>{$()})}getSyncedTimestamp($){const K=null===$||$===void 0?new Date().getTime():$;return this.client.getSyncedTimestamp(K)}getCurrentUserResource(){return this.client.resource}getConnectionStatus(){return this.status}setConnectionStatus($){this.status=$}login($,K,X=!0){return I(this,void 0,void 0,function*(){return!0===this._loggingIn?Promise.reject(new Error('Login currently in progress, please wait.')):new Promise((Q,Z)=>I(this,void 0,void 0,function*(){try{let ee=K;!0===this.xmppConfig.user.sendAppIdentifier&&(ee=`app_id~${this.xmppConfig.user.appIdentifier}~${K}`),this._loggingIn=!0,clearTimeout(this._loginTimeout);const te=this.xmppConfig.loginTimeout||1e4;this._loginTimeout=setTimeout(()=>I(this,void 0,void 0,function*(){clearTimeout(this._loginTimeout),yield this.logout(!0,!0),this.logger.log(W.LoggerTypes.Connectivity,'%c\uD83D\uDEAB LOGIN TIMED OUT','color: #600; font-weight: bold;'),Z(new Error(`Logging in took longer than ${Math.floor(te/1e3)} seconds. Please check your connectivity and try again.`))}),te),this.xmppConfig.user&&!0===this.xmppConfig.user.forceLowercaseJid&&($=$.toLowerCase()),this.logger.log(W.LoggerTypes.Connectivity,`%c ATTEMPTING LOGIN > %c${$}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;'),this.username=$,yield this.client.login($,ee),this.checkTimeSync(!1),X&&this.triggerLoginEvent(!0),clearTimeout(this._loginTimeout),this._loggingIn=!1,Q()}catch(ee){clearTimeout(this._loginTimeout),this._loggingIn=!1,this.logger.log(W.LoggerTypes.Connectivity,`%c LOGIN FAILED > %c${$}`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;'),this.username='',X&&this.triggerLoginEvent(!1,ee.msg),Z(ee)}}))})}logout($=!1,K=!0){return I(this,void 0,void 0,function*(){try{this.logger.log(W.LoggerTypes.Connectivity,`%c LOGGING OUT > %c${this.username}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;'),this._loggingIn=!1,this._firstConnectionInitialized=!1,yield this.client.logout($),this.username='',K&&this.triggerLogoutEvent(!0)}catch(X){this.logger.log(W.LoggerTypes.Connectivity,`%c LOGOUT FAILED > %c${this.username}`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;'),K&&this.triggerLogoutEvent(!1)}})}attemptReconnect(){this.client.reLoginNow()}joinRoom($){return I(this,void 0,void 0,function*(){yield this._joinOrLeaveRoom($)})}leaveRoom($){return I(this,void 0,void 0,function*(){yield this._joinOrLeaveRoom($,!0)})}setClientStateActive($){return I(this,void 0,void 0,function*(){const K=$?N.CtXmppClient.CLIENT_STATES.ACTIVE:N.CtXmppClient.CLIENT_STATES.INACTIVE;this.client.setClientState(K)})}getUniqueId(){return this.client.getUniqueId()}sendMessage($,K,X=[]){return I(this,void 0,void 0,function*(){if(!$)throw new Error('No recipient specified');if(this.status!==H.ConnectionStatus.Connected)throw new Error('Unable to send message: not currently connected');const Q=yield this.client.sendChatMessage($,null,K,X);return this.logger.shouldLog(W.LoggerTypes.MessageSent)&&this.logger.log(W.LoggerTypes.MessageSent,`%c MESSAGE SENT: %c${$} >`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;',J.getMessageContentForDebug(Q)),Q})}sendRoomMessage($,K=null,X=null,Q=[],Z=!0){return I(this,void 0,void 0,function*(){if(!$)throw new Error('No room name specified');if(this.status!==H.ConnectionStatus.Connected)throw new Error('Unable to send room message: not currently connected');const ee=yield this.client.sendGroupChatMessage($,K,X,Q,Z);return this.logger.shouldLog(W.LoggerTypes.MessageSent)&&this.logger.log(W.LoggerTypes.MessageSent,`%c ROOM MESSAGE SENT: %c${$} >`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;',J.getMessageContentForDebug(ee)),ee})}sendMulticastMessage($,K,X=[]){return I(this,void 0,void 0,function*(){if(this.status!==H.ConnectionStatus.Connected)throw new Error('Unable to multicast message: not currently connected');const Q=yield this.client.sendMulticastMessage($,null,K,X);if(this.logger.shouldLog(W.LoggerTypes.MessageSent)){const Z=JSON.stringify($);this.logger.log(W.LoggerTypes.MessageSent,`%c MUTILCAST MESSAGE SENT: %c${Z} >`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;',J.getMessageContentForDebug(Q))}return Q})}sendIq($,K,X){return I(this,void 0,void 0,function*(){if(!$)throw new Error('No recipient specified');if(!K)throw new Error('No type specified');if(this.status!==H.ConnectionStatus.Connected)throw new Error('Unable to send IQ: not currently connected');const Q=Object.keys(X)[0];this.logger.shouldLog(W.LoggerTypes.MessageSent)&&this.logger.log(W.LoggerTypes.MessageSent,`%c IQ SENT: %c${Q} >`,'color: #906; font-weight: bold;','color: #999; font-weight: normal;',{iq:X});try{const Z=yield this.client.sendIq($,K,X);return this.logger.shouldLog(W.LoggerTypes.MessageSent)&&this.logger.log(W.LoggerTypes.MessageSent,`%c IQ RESPONSE: %c${Q} >`,'color: #906; font-weight: bold;','color: #999; font-weight: normal;',Object.assign({},Z)),Z.iq}catch(Z){const ee=N.CtXmppClient.xmlToJson(Z),te=ee&&ee.iq&&ee.iq.error&&ee.iq.error.text&&ee.iq.error.text.$value||'';throw this.logger.log(W.LoggerTypes.MessageSent,`%c IQ ERROR: %c${Q} > ${te}`,'color: #C00; font-weight: bold;','color: #999; font-weight: normal;',Object.assign({},ee)),new B.IQError(te,ee.iq)}})}sendBotCommand($,K){return I(this,void 0,void 0,function*(){if(this.status!==H.ConnectionStatus.Connected)throw new Error(`Unable to send bot command "${$}": not currently connected`);if(!this.xmppConfig.bot)throw new Error('No bot configured in XmppConfig');const X=this.xmppConfig.bot.componentJid;if(!X)throw new Error('Unable to issue bot command; no bot component jid configured');if(void 0!==K&&null!==K){const Q=Object.assign({},K);$ in Q&&(Q[$]=JSON.parse(Q[$])),this.logger.log(W.LoggerTypes.MessageSent,`%c BOT COMMAND SENT: %c${$} >`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;',{data:Q})}else this.logger.log(W.LoggerTypes.MessageSent,`%c BOT COMMAND SENT: %c${$}`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;');try{const Q=yield this.client.sendBotCommand(X,$,K,this.xmppConfig.bot.timeout);return this.logger.log(W.LoggerTypes.MessageSent,`%c BOT RESPONSE: %c${$} > ${Q.success?'success':'fail'}`,'color: #600; font-weight: bold;','color: #999; font-weight: normal;',{data:Q.data||null}),Q}catch(Q){const Z='Server connections to local subdomains are forbidden'===Q?`Unable to connect to bot: ${X}`:Q.message||Q;throw new Error(Z)}})}deleteMessageById($,K=!0){return I(this,void 0,void 0,function*(){yield this.client.deleteMessageById($,K)})}updateStatus($,K,X=!1,Q){return I(this,void 0,void 0,function*(){const Z=yield this.client.setChatStatus($,K,X,Q);if(this.logger.shouldLog(W.LoggerTypes.Status)){const ee=JSON.stringify(Z);this.logger.log(W.LoggerTypes.Status,`%c STATUS UPDATED: %c${ee}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;')}return Z})}listParticipantsByRoom($){return I(this,void 0,void 0,function*(){const K=yield this.client.listParticipantsByRoom($);return Promise.all(K.map((X)=>I(this,void 0,void 0,function*(){return yield this._participantToUser(X)})))})}getParticipantByRoomAndJid($,K){return I(this,void 0,void 0,function*(){const X=yield this.client.getParticipantByRoomAndJid($,K);return!X?null:yield this._participantToUser(X)})}getAllContacts(){return I(this,void 0,void 0,function*(){const $=yield this.client.getContacts();return Promise.all($.map((K)=>I(this,void 0,void 0,function*(){return yield this._xmppContactToUser(K)})).filter((K)=>null!==K))})}getUserByJid($){return I(this,void 0,void 0,function*(){const K=yield this.client.getUserByJid($);return K?yield this._directoryUserToUser(K):null})}updateUserDirectory(){return I(this,void 0,void 0,function*(){yield this.client.updateUserDirectory()})}searchUsers($='',K=[]){return I(this,void 0,void 0,function*(){const X=$!==void 0&&null!==$&&0<$.length,Q=X?yield this.client.searchUsers($,K):yield this.client.getAllUsers(),Z=[];for(const ee of Q)null!==ee&&Z.push((yield this._directoryUserToUser(ee)));return Z})}markMessageRead($){return I(this,void 0,void 0,function*(){const K=yield this.client.getMessageById($);!K||K.state.markers.some((X)=>'read'===X.type&&X.sender_resource===this.username)||(yield this.client.markMessageRead(K))})}getChatHistory($){return I(this,void 0,void 0,function*(){return yield this.client.getChatHistory($)})}queryMam($,K,X,Q,Z=!0){return I(this,void 0,void 0,function*(){return yield this.client.queryMam($,K,X,Q,Z)})}processXmlStanzaStringsFromMam($,K=!0){return I(this,void 0,void 0,function*(){return yield this.client.processXmlStanzaStringsFromMam($,K)})}clearAllData($=!1){return I(this,void 0,void 0,function*(){yield this.client.destroyDbs(!1,$)})}createPushNotificationRegistration($){return I(this,void 0,void 0,function*(){const K=this._generatePushNotificationPayload($.platform,$.channelUri,$.azureId);return yield this.client.sendIq('push.localhost','set',K)})}checkTimeSync($=!0){const K=new Date().getTime(),X=this.getSyncedTimestamp(K),Q=Math.abs(X-K),ee=Q<1e4,te=ee?'#666':'#F00',ne=ee?'#999':'#F00',ae=$?console.log:ee?()=>{}:console.log;if(ae.call(console.log,`%c CLIENT TIME: %c${new Date(K).toTimeString()}`,'color: #666; font-weight: bold;','color: #999; font-weight: normal;'),ae.call(console.log,`%c SERVER TIME: %c${new Date(X).toTimeString()}`,'color: #666; font-weight: bold;','color: #999; font-weight: normal;'),Q){const se=Math.floor(Q/3600000%24),de=Math.floor(Q/60000%60),ie=Math.floor(Q/1e3%60),oe=Math.floor(Q%1e3);let le='';0<se&&(le+=`${se}h `),0<de&&(le+=`${de}m `),0<ie&&(le+=`${ie}s `),0<oe&&(le+=`${oe}ms `),K>X?ae.call(console.log,`%c TIME SYNC: %cClient is %c${le.trim()} ahead %cof server`,`color: ${te}; font-weight: bold;`,`color: ${ne}; font-weight: normal;`,`color: ${ne}; font-weight: bold;`,`color: ${ne}; font-weight: normal;`):ae.call(console.log,`%c TIME SYNC: %cClient is %c${le.trim()} behind %cserver`,`color: ${te}; font-weight: bold;`,`color: ${ne}; font-weight: normal;`,`color: ${ne}; font-weight: bold;`,`color: ${ne}; font-weight: normal;`)}else ae.call(console.log,`%c TIME SYNC: %cClient and server times are identical`,'color: #666; font-weight: bold;','color: #999; font-weight: normal;')}updateVCardForUser($){return I(this,void 0,void 0,function*(){return this.username&&this.username===$?null:void(yield this.client.updatevCardForContact($))})}getOurVCard(){return I(this,void 0,void 0,function*(){try{return yield this.client.getOurvCard()}catch($){return null}})}downloadMessageAttachments($){return I(this,void 0,void 0,function*(){const K=yield this.client.getMessageById($);K&&(yield this.client.downloadAttachments(K,!0))})}downloadFile($){return I(this,void 0,void 0,function*(){const K=yield this.client.doDownload($);return K.source||null})}initializeFirstConnection(){return I(this,void 0,void 0,function*(){})}buildCurrentUser($){return I(this,void 0,void 0,function*(){const K=$.split('@').shift(),X={id:$,jid:$,username:K,firstName:'',lastName:'',connectionStatus:this.getConnectionStatus()},Q=yield this.getOurVCard();return yield this.embelishUser(X,Q,H.UserAdditionalDetailsType.VCard)})}triggerLoginEvent($,K){this._fireLocalEventHandlers('comms-login',new z.CommsEventArgs($,K))}triggerLogoutEvent($,K){this._fireLocalEventHandlers('comms-logout',new z.CommsEventArgs($,K))}triggerFetchingMissedMessagesState($){$?this._fireLocalEventHandlers('missed-messages-start'):this._fireLocalEventHandlers('missed-messages-finished')}_setupCommonHandlers(){this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.NEW_MESSAGE,($)=>I(this,void 0,void 0,function*(){this.logger.shouldLog(W.LoggerTypes.MessageReceived)&&this.logger.log(W.LoggerTypes.MessageReceived,`%c MESSAGE RECEIVED:%c`,'color: #060; font-weight: bold;','color: #999; font-weight: normal;',J.getMessageContentForDebug($))})),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.MESSAGE_UPDATED,($)=>{this.logger.shouldLog(W.LoggerTypes.MessageUpdated)&&this.logger.log(W.LoggerTypes.MessageUpdated,`%c MESSAGE UPDATED:%c`,'color: #060; font-weight: bold;','color: #999; font-weight: normal;',J.getMessageContentForDebug($))}),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.RECEIPT_RECEIVED,($)=>{if(this.logger.shouldLog(W.LoggerTypes.MessageChatMarker)){const K=$.sender_resource.split('@').shift();this.logger.log(W.LoggerTypes.MessageChatMarker,`%c CHAT MARKER RECEIVED: %c${K} > ${$.type}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;')}}),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.STATUS,($)=>I(this,void 0,void 0,function*(){const K=H.ConnectionStatus[$.label];if(this.setConnectionStatus(K),K===H.ConnectionStatus.Connected&&(this.username=this.client.bareJid,!1===this._firstConnectionInitialized&&(yield this.initializeFirstConnection(),this._firstConnectionInitialized=!0)),this.logger.shouldLog(W.LoggerTypes.Connectivity)){const X=$.reconnectTime?` - reconnect attempt in ${$.reconnectTime/1e3} second(s)`:'';this.logger.log(W.LoggerTypes.Connectivity,`%c CONNECTIVITY CHANGE: %c${K}${X}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;')}})),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.NEW_PARTICIPANT,($)=>I(this,void 0,void 0,function*(){if($.jid&&this.logger.shouldLog(W.LoggerTypes.Participation)){const K=yield this._participantToUser($);this.logger.log(W.LoggerTypes.Participation,`%c NEW PARTICIPANT: %c${K.username} > ${K.connectionStatus}`,'color: #006; font-weight: bold;','color: #999; font-weight: normal;',{participant:$})}})),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.PARTICIPANT_UPDATED,($)=>I(this,void 0,void 0,function*(){if($.jid&&this.logger.shouldLog(W.LoggerTypes.Participation)){const K=yield this._participantToUser($);this.logger.log(W.LoggerTypes.Participation,`%c PARTICIPANT UPDATED: %c${K.username} > ${K.connectionStatus}`,'color: #006; font-weight: bold;','color: #999; font-weight: normal;',{participant:$})}})),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.PRESENCE_UPDATE,($)=>I(this,void 0,void 0,function*(){if($.id&&this.logger.shouldLog(W.LoggerTypes.Presence)){const K=yield this._xmppContactToUser($);K?this.logger.log(W.LoggerTypes.Presence,`%c PRESENCE UPDATED: %c${K.username} > ${K.connectionStatus}`,'color: #006; font-weight: bold;','color: #999; font-weight: normal;'):this.logger.error(W.LoggerTypes.Presence,`%c PRESENCE UPDATED FOR UNKNOWN CONTACT:`,'color: #006; font-weight: bold;',{contact:$})}})),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.ERROR,($)=>{this.logger.error(`%c ERROR:`,'color: #C00; font-weight: bold;','\r\n\t',$)}),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.AUTO_RECONNECTED,({resumed:$})=>I(this,void 0,void 0,function*(){if(this.logger.shouldLog(W.LoggerTypes.Connectivity)){const K=!0===$?' - STREAM RESUMED':'';this.logger.log(W.LoggerTypes.Connectivity,`%c AUTO RECONNECTED AFTER DISCONNECT${K}`,'color: #669; font-weight: bold;')}})),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.DBS_DESTROYED,()=>{this.logger.shouldLog(W.LoggerTypes.CleanUp)&&this.logger.log(W.LoggerTypes.CleanUp,`%c DATABASES DESTROYED`,'color: #669; font-weight: bold;')}),this.client.addEventListener(N.CtXmppClient.EVENT_TYPES.AUTO_DBS_DESTROYED,()=>{this.logger.shouldLog(W.LoggerTypes.CleanUp)&&this.logger.log(W.LoggerTypes.CleanUp,`%c DATABASES AUTO DESTROYED`,'color: #669; font-weight: bold;')})}_joinOrLeaveRoom($,K=!1){return I(this,void 0,void 0,function*(){'participant'===$.type&&((yield K)?this.client.leaveRoom($.name):this.client.joinRoom($.name)),'subscriber'===$.type&&((yield K)?this.client.unsubscribeFromRoom($.name):this.client.subscribeToRoom($.name,$.nodes))})}_participantToUser($){return I(this,void 0,void 0,function*(){const K={id:$._id,jid:$.jid,username:$.username,firstName:'',lastName:'',connectionStatus:$.online?H.ConnectionStatus.Connected:H.ConnectionStatus.Disconnected};return this.embelishUser(K,$,H.UserAdditionalDetailsType.Participant)})}_xmppContactToUser($){return I(this,void 0,void 0,function*(){if(!$||!$.id)return null;const K={id:$.id,jid:$.id,username:$.id.substring(0,$.id.indexOf('@')),firstName:'',lastName:'',connectionStatus:$.online?H.ConnectionStatus.Connected:H.ConnectionStatus.Disconnected,groups:$.groups,subscription:$.subscription};return this.embelishUser(K,$,H.UserAdditionalDetailsType.Contact)})}_directoryUserToUser($){return I(this,void 0,void 0,function*(){if(!$||!$.jid)return null;const K=$.jid,X={id:K,jid:K,username:K.substring(0,K.indexOf('@')),connectionStatus:H.ConnectionStatus.Disconnected,prefix:$.prefix,firstName:$.firstName,lastName:$.lastName,displayName:null,telephone:$.telephone,jobTitle:$.jobTitle,avatar:$.avatar,group:$.group};return this.embelishUser(X,$,H.UserAdditionalDetailsType.DirectoryUser)})}_fireLocalEventHandlers($,K){this._localEventHandlers[$]!==void 0&&this._localEventHandlers[$].forEach((X)=>X(K))}_generatePushNotificationPayload($,K,X){return{push:{$attributes:{xmlns:'urn:commontime:infinity:push'},notification:{type:'android'===$?'gcm':'apns',installation_id:X,registration_id:K}}}}}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(16);E.Stroolean=I.prop.create({coerce:(A)=>'string'==typeof A&&'true'===A.toLowerCase(),default:!1,deserialize:(A)=>'string'==typeof A&&'true'===A.toLowerCase(),serialize:(A)=>A?'true':'false'}),E.NullableNumber=I.prop.create({coerce:(A)=>'null'===A?null:parseInt(A),default:null,deserialize:(A)=>'null'===A?null:parseInt(A),serialize:(A)=>null===A||A===void 0?'null':A.toString()})},function(L,E,R){'use strict';function A(z){if('function'==typeof z){const W=z();return W instanceof Array?'array':'object'==typeof W?'object':typeof W}}var N=this&&this.__rest||function(z,W){var J={};for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&0>W.indexOf(G)&&(J[G]=z[G]);if(null!=z&&'function'==typeof Object.getOwnPropertySymbols)for(var $=0,G=Object.getOwnPropertySymbols(z);$<G.length;$++)0>W.indexOf(G[$])&&(J[G[$]]=z[G[$]]);return J};Object.defineProperty(E,'__esModule',{value:!0});const H=R(16),B=(z)=>z;E.prop=function(z){return function(W,J){const{type:G}=z,$=N(z,['type']),K=A(G),X=H.prop[K]||B,Q=W.constructor,Z=Q.props||{},ee=Object.assign({},Z,{[J]:X($)});Object.defineProperty(Q,'props',{configurable:!0,get(){return ee}})}}},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class I extends Error{constructor(A,N){super(A),this.iqResponse=N}}E.IQError=I},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class I extends Error{constructor(A,N){super(N),this.connectionStatus=A}}E.NotConnectedError=I},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(14);class A extends I.BaseEventArgs{constructor(N,H){super(),this.success=N,H&&(this.errorMessage=H)}}E.CommsEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(14);class A extends I.BaseEventArgs{constructor(N,H,B){super(),this.status=N,this.reconnectTime=H,this.disconnectStatus=B}}E.ConnectionStatusEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(14);class A extends I.BaseEventArgs{constructor(N,H,B,z){super(),this.jid=N,this.roomName=H,this.role=B,this.roomRole=z}}E.RoomParticipantUpdateEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(14);class A extends I.BaseEventArgs{constructor(N,H){super(),this.jid=N,this.date=H}}E.UserActivityEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(14);class A extends I.BaseEventArgs{constructor(N,H){super(),this.jid=N,this.connectionStatus=H}}E.UserConnectionStatusEventArgs=A},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(H,B,z,W){return new(z||(z=Promise))(function(J,G){function $(Q){try{X(W.next(Q))}catch(Z){G(Z)}}function K(Q){try{X(W['throw'](Q))}catch(Z){G(Z)}}function X(Q){Q.done?J(Q.value):new z(function(Z){Z(Q.value)}).then($,K)}X((W=W.apply(H,B||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(3);E.BaseHandler=class{constructor(H){this.messageKey=null,this.eventType=[],this.layer=H,this.defaultAlerts=new A.DefaultAlerts(H)}createMessage(){throw new Error('Not implemented')}createIq(){throw new Error('Not implemented')}createBotMessage(){throw new Error('Not implemented')}handleFailedBotResponse(){return I(this,void 0,void 0,function*(){return!1})}handleMessage(){return I(this,void 0,void 0,function*(){})}handleMessageUpdate(){return I(this,void 0,void 0,function*(){})}handleMessageReceipt(){return I(this,void 0,void 0,function*(){})}handleEvent(){return I(this,void 0,void 0,function*(){})}handleIqResponse(H,B){return I(this,void 0,void 0,function*(){return B})}handleIqErrorResponse(H,B){return I(this,void 0,void 0,function*(){return B.iqResponse})}callCreateMessage(H){return I(this,void 0,void 0,function*(){const B=this.createMessage(H);return this._embelishI18n(B),B})}callCreateIq(H){return I(this,void 0,void 0,function*(){const B=this.createIq(H);return this._embelishI18n(B),B})}callCreateBotMessage(H){return I(this,void 0,void 0,function*(){const z=yield this.createBotMessage(H);return this._embelishI18n(z),z})}callHandleFailedBotResponse(H,B){return I(this,void 0,void 0,function*(){return B&&!0!==B.success&&(yield this.handleFailedBotResponse(H,B))})}callHandleMessage(H){return I(this,void 0,void 0,function*(){yield this.handleMessage(H)})}callHandleMessageUpdate(H){return I(this,void 0,void 0,function*(){yield this.handleMessageUpdate(H)})}callHandleMessageReceipt(H){return I(this,void 0,void 0,function*(){yield this.handleMessageReceipt(H)})}callHandleEvent(H,B){return I(this,void 0,void 0,function*(){yield this.handleEvent(H,B)})}callHandleIqResponse(H,B){return I(this,void 0,void 0,function*(){return yield this.handleIqResponse(H,B)})}callHandleIqErrorResponse(H,B){return I(this,void 0,void 0,function*(){return yield this.handleIqErrorResponse(H,B)})}_embelishI18n(H){this.layer.config.i18n&&!0===this.layer.config.i18n.enabled&&(H.language=this.layer.config.i18n.language,H.locale=this.layer.config.i18n.locale)}}},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});class I{constructor(A,N){this.scope=A,this.key=N}get scopedKey(){return`${this.scope}_${this.key}`}}E.I18nItem=I},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(15);E.Metadata=class{constructor(N,H){N&&(this._scope='string'==typeof N?N:'name'in N?N.name:N.toString()),this._i18nItems=new Map,H&&this.fillFromEnum(H)}fillFromEnum(N){let H=0;for(const B in N)N.hasOwnProperty(B)&&0!=H%2&&this.addI18nItem(B),H+=1}addI18nItem(N){N&&this._i18nItems.set(N.toString(),new I.I18nItem(this._scope,N.toString()))}getI18nItem(N){if(N){const H=N.toString();if(!this._i18nItems.has(H))throw new Error(`No i18n item registered for key: "${H}"`);return this._i18nItems.get(H)}}getUniqueI18Keys(N){return[...this._i18nItems.values()].map((H)=>{return N?H.scopedKey:H.key}).filter((H,B,z)=>{return z.indexOf(H)===B})}}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=R(16);E.ComponentStylesMixin=function(N){class H extends N{constructor(...B){super(...B);const z=window.ShadyCSS;if(this.styleElements||(this.styleElements=[]),!!this.componentStyles)if(!z)this.styleElements=[A.h('style',this.componentStyles),...this.styleElements];else{if(!this.overridingStylesMixinApplied)return;const J=this.localName;if(!0!==H._seenTags[J]){H._seenTags[J]=!0;const G=document.createElement('template');G.innerHTML=`<style>${this.componentStyles}</style>`,z.prepareTemplate(G,J)}}}get componentStylesMixinApplied(){return!0}}return H._seenTags={},H}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I=R(81);E.RenderMixin=I.RenderMixin;var A=R(78);E.ComponentStylesMixin=A.ComponentStylesMixin;var N=R(80);E.OverridingStylesMixin=N.OverridingStylesMixin},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=R(16);E.OverridingStylesMixin=function(N){class H extends N{constructor(...B){super(...B);const z=this.localName,W=window.ShadyCSS,G=window.__CtOverridingStyles||{},$=[...(G['*']||[]),...(G[z.toLowerCase()]||[])];if(!W)$&&(!this.styleElements&&(this.styleElements=[]),$.forEach((K)=>{const X=/^(.*?)\.css$/.test(K),Q=X?`@import url('${K}');`:K;this.styleElements=[...this.styleElements,A.h('style',Q)]}));else if(!0!==H._seenTags[z]){function K(Q){return new Promise((Z)=>{const ee=new XMLHttpRequest;ee.onreadystatechange=()=>{ee.readyState===XMLHttpRequest.DONE&&(200===ee.status?Z(ee.responseText):Z(`:host { content: 'Error: could not load stylesheet: ${Q}' }`))},ee.open('GET',Q),ee.send()})}H._seenTags[z]=!0;const X=[];$&&$.forEach((Q)=>{const Z=/^(.*?)\.css$/.test(Q),ee=Z?K(Q):Promise.resolve(Q);X.push(ee)}),Promise.all(X).then((Q)=>{const Z=document.createElement('template');if(this.componentStyles&&!0===this.componentStylesMixinApplied&&(Z.innerHTML+=this.componentStyles),0<Q.length){const ee=Q.join('\n');Z.innerHTML+=`<style>${ee}</style>`}Z.innerHTML.length&&W.prepareTemplate(Z,z)})}}get overridingStylesMixinApplied(){return!0}}return H._seenTags={},H}},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0}),E.RenderMixin=function(A){function N(B){return B instanceof Array?B:[B]}return class extends A{renderCallback(){const B=N(this.styleElements||[]),z=N(this.componentMarkup?this.componentMarkup()||[]:[]);return[...B,...z]}}}},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Broadcaster='broadcaster']='Broadcaster',A[A.Responder='responder']='Responder'})(I=E.AppMode||(E.AppMode={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Meta='meta']='Meta',A[A.Chat='chat']='Chat',A[A.Divider='divider']='Divider'})(I=E.ChatEntryType||(E.ChatEntryType={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Participant='member']='Participant',A[A.Administrator='admin']='Administrator',A[A.Owner='owner']='Owner'})(I=E.ChatRole||(E.ChatRole={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Connecting='connecting']='Connecting',A[A.Connected='connected']='Connected',A[A.Disconnected='disconnected']='Disconnected',A[A.Disconnecting='disconnecting']='Disconnecting'})(I=E.ConnectionStatus||(E.ConnectionStatus={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});E.DisconnectionStatus=class{constructor(A,N){this.wontReconnect=A,this.reason=N}getReason(){return this.reason}}},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.None='none']='None',A[A.Participant='participant']='Participant',A[A.Moderator='moderator']='Moderator'})(I=E.RoomRole||(E.RoomRole={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Contact='contact']='Contact',A[A.VCard='vcard']='VCard',A[A.Participant='participant']='Participant',A[A.DirectoryUser='directoryuser']='DirectoryUser'})(I=E.UserAdditionalDetailsType||(E.UserAdditionalDetailsType={}))},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(25),N=R(12),H=R(5);E.BaseStore=class{constructor(z,W,J=!1,G=!0){this._saveToPersistentQueue=Promise.resolve(),this._isDestoryingDb=!1,this.name=z,this.logger=W,this._autoCompact=J,this._encryption=G}init(){return I(this,void 0,void 0,function*(){if(this._db||(yield this._createDb(this.name)),this.state=yield this.getFromPersistent(),this.logger.shouldLog(N.LoggerTypes.DataStorage)){const z=H.deepCloneObject(this.state);this.logger.log(N.LoggerTypes.DataStorage,'\uD83D\uDCBE %cINITIAL STATE:','color: #606; font-weight: bold;',Object.assign({},z)),this.prevState=z}})}savePushNotificationToken(z){return I(this,void 0,void 0,function*(){this.state.pushNotificationToken=z,yield this.saveToPersistent()})}getPushNotificationToken(){return I(this,void 0,void 0,function*(){return this.state.pushNotificationToken})}savePushNotificationAzureId(z){return I(this,void 0,void 0,function*(){this.state.pushNotificationTokenAzureId=z,yield this.saveToPersistent()})}getPushNotificationAzureId(){return I(this,void 0,void 0,function*(){return this.state.pushNotificationTokenAzureId})}clearAllData(){return I(this,void 0,void 0,function*(){return new Promise((z)=>{localStorage.removeItem(this.name),this._db&&!this._isDestoryingDb?(this._isDestoryingDb=!0,this._db.destroy().then(()=>{return this._createDb(this.name),this.init()}).then(()=>{this._isDestoryingDb=!1,z()})):z()})})}getLoggerTypes(){return I(this,void 0,void 0,function*(){return this.state.loggerTypes})}saveLoggerTypes(z){return I(this,void 0,void 0,function*(){return this.state.loggerTypes=z,yield this.saveToPersistent()})}deleteLoggerTypes(){return I(this,void 0,void 0,function*(){return delete this.state.loggerTypes,yield this.saveToPersistent()})}getStateSnapshot(){return this.state}getTheme(){return I(this,void 0,void 0,function*(){return this.state.theme||''})}saveTheme(z){return I(this,void 0,void 0,function*(){return this.state.theme=z,yield this.saveToPersistent()})}getFromPersistent(){return I(this,void 0,void 0,function*(){if(this._db)try{return yield this._db.get(this.name)}catch(z){const W=this.generateInitialState(),J=yield this._db.put(W);return W._rev=J.rev,W}else return localStorage.getItem(this.name)?JSON.parse(localStorage.getItem(this.name)):this.generateInitialState()})}saveToPersistent(){return I(this,void 0,void 0,function*(){clearTimeout(this._saveDebouncer),this._saveDebouncer=setTimeout(()=>{this._db?this._saveToPersistentQueue=this._saveToPersistentQueue.then(()=>I(this,void 0,void 0,function*(){try{const z=yield this._db.put(this.state);this.state._rev=z.rev,this.logger.shouldLog(N.LoggerTypes.DataStorage)&&this._logUpdate()}catch(z){throw new Error(z)}})):(localStorage[this.name]=JSON.stringify(this.state),this.logger.shouldLog(N.LoggerTypes.DataStorage)&&this._logUpdate())},150)})}_createDb(z){return I(this,void 0,void 0,function*(){if(!window.PouchDB)this.logger.log(N.LoggerTypes.DataStorage,'\uD83D\uDCBE %cCANNOT FIND POUCHDB, USING LOCAL STORAGE INSTEAD','color: #606; font-weight: bold;');else if(this.logger.log(N.LoggerTypes.DataStorage,` %cUSING POUCHDB: %c${z}`,'color: #606; font-weight: bold;','color: #999; font-weight: normal;'),this._db=new window.PouchDB(`${z}`,{revs_limit:1,auto_compaction:this._autoCompact}),!0===this._encryption){this.logger.log(N.LoggerTypes.DataStorage,` %cENCRYPTING POUCHDB...`,'color: #606; font-weight: bold;','color: #999; font-weight: normal;');const W=yield A.getEncryptionKey(z+'_layer');this._db.crypto({key:W})}})}_logUpdate(){const z=H.deepCloneObject(this.state),W=H.getDiffs(this.prevState,z),J=H.groupArrayItemsByKey(W,($)=>$.path),G=Object.keys(J);0===W.length?this.logger.log(N.LoggerTypes.DataStorage,'\uD83D\uDCBE %cSTATE UPDATED %c- NO STATE CHANGES','color: #606; font-weight: bold;','color: #999; font-weight: bold;',Object.assign({},z)):(this.logger.log(N.LoggerTypes.DataStorage,` %cSTATE UPDATED`,'color: #606; font-weight: bold;',Object.assign({},z)),this.logger.group(N.LoggerTypes.DataStorage,3>W.length,` %c${W.length} STATE CHANGE(S):`,'color: #999; font-weight: bold;'),G.forEach(($)=>{this.logger.log(N.LoggerTypes.DataStorage,`%cstate.${$}:`,'color: #666; font-weight: normal;'),J[$].forEach((K)=>{if(K.added||K.deleted){const X=K.added?'090':'900';this.logger.log(N.LoggerTypes.DataStorage,`  %c${K.type.toLowerCase()}:`,`color: #${X}; font-weight: normal;`,K.rhs)}else this.logger.log(N.LoggerTypes.DataStorage,`  %c${K.lhs||'<empty>'} %c %c${K.rhs}`,'color: #900; font-weight: normal;','color: #CCC;','color: #090; font-weight: normal;')})}),this.logger.groupEnd(N.LoggerTypes.DataStorage)),this.prevState=z}}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(0);class A extends I.CTLayerComponent{}E.CTILComponent=A},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(K,X,Q,Z){return new(Q||(Q=Promise))(function(ee,te){function ne(de){try{se(Z.next(de))}catch(ie){te(ie)}}function ae(de){try{se(Z['throw'](de))}catch(ie){te(ie)}}function se(de){de.done?ee(de.value):new Q(function(ie){ie(de.value)}).then(ne,ae)}se((Z=Z.apply(K,X||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(19),N=R(12),H=R(65),B=R(3),z=R(8),W=R(40),J=R(1),G=R(5);class $ extends H.BaseComms{constructor(K,X,Q,Z,ee){super(K,X,Q,Z),this.user=null,this._postLoginTimeout=null,this._mamFetchInProgress=!1,this._mamQueryInProgress=!1,this._disconnectedDuringMamFetch=!1,this._shouldClearData=!1,this._incidentLayer=ee,this._setupHandlers()}joinIncidentRoom(K,X){return I(this,void 0,void 0,function*(){if(!this.xmppConfig||!this.xmppConfig.room)throw new Error('No room configured in XmppConfig');this.triggerFetchingMissedMessagesState(!0);const Q=yield this.client.getLastArchiveIdForRoom(this.xmppConfig.room.name);yield this.joinRoom(this.xmppConfig.room),'function'==typeof K&&(yield K()),yield this._getMissedMessagesFromMam(Q),'function'==typeof X&&(yield X())})}setRole(K,X){return I(this,void 0,void 0,function*(){K?this._updateUserRole(K.id,X):this._clearUserRole()})}leaveRole(){return I(this,void 0,void 0,function*(){this._clearUserRole()})}login(K,X,Q=!0){const Z=(ee)=>super[ee];return I(this,void 0,void 0,function*(){this._incidentLayer.showWaitingMessage('Authenticating...'),this._incidentLayer.enableSuppressMode('incident/comms#login');try{yield Z('login').call(this,K,X,!1)}catch(ee){throw this._handleLoginFailure(!0,!1,ee),ee}try{yield this._postLogin()}catch(ee){throw this._handleLoginFailure(!1,!0,ee),ee}})}logout(K=!1,X=!0){const Q=(Z)=>super[Z];return I(this,void 0,void 0,function*(){if(this._incidentLayer.showWaitingMessage('Logging out...'),this.user&&this.user.role){this.logger.log(N.LoggerTypes.Connectivity,`%c LOGGING OUT: REMOVE FROM ROLE FIRST > %c${this.user.role.id}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;');const Z=new W.RemoveFromRoleHandler(this._incidentLayer);yield Z.handleEvent(J.IncidentEvents._Request_LeaveRole,null)}else yield this.leaveRoom(this.xmppConfig.room),this.user=null,this._loggedIn=!1,this._incidentLayer.dismissWaitingMessage(),yield Q('logout').call(this,K,X)})}setConnectionStatus(K){this._updateUserConnectionStatus(K),super.setConnectionStatus(K)}initializeFirstConnection(){const K=(X)=>super[X];return I(this,void 0,void 0,function*(){K('initializeFirstConnection').call(this),this.client.addExcludeStanzaFilter((X)=>{const Q=X.message&&X.message.event&&X.message.event.items&&X.message.event.items.item&&X.message.event.items.item.message;return Q&&Q.data&&this._shouldIgnoreMessage(X.message.event.items.item.message,!1)})})}embelishUser(K,X,Q){return I(this,void 0,void 0,function*(){let Z=null;if(!(X===void 0))Q&&Q===B.UserAdditionalDetailsType.VCard?Z=X:Q&&Q===B.UserAdditionalDetailsType.Contact&&(Z=X.vCard);else if(K.username!==this.client.username){const oe=yield this.client.getContactByJid(K.jid);oe&&oe.vCard&&(Z=oe.vCard)}const ee=yield this._incidentLayer.getUserRoleInfo(K),te=yield this._incidentLayer.getUserLastSeen(K),ne=Z&&Z.name&&Z.name.prefix||'',ae=Z&&Z.name&&Z.name.given||'',se=Z&&Z.name&&Z.name.family||'',de=Z&&Z.fullName||`${ne} ${ae} ${se}`.trim()||K.username,ie=Z&&Z.telephone&&0<Z.telephone.length&&Z.telephone[0]&&Z.telephone[0].number||null;return Object.assign({},K,{prefix:ne,firstName:ae,lastName:se,displayName:de,telephone:ie,lastSeenDate:te,isOnCall:null!==ee,cameOnCall:ee&&ee.cameOnCall||null,role:ee&&ee.role||null})})}_setupHandlers(){this.client.addEventListener(A.CtXmppClient.EVENT_TYPES.AUTO_RECONNECTED,(K)=>I(this,void 0,void 0,function*(){const X=!0===this._loggedIn,Q=!0===K.resumed;if(!1==X){if(this.xmppConfig.user.id&&this.xmppConfig.user.password)return;try{yield this._postLogin()}catch(Z){this._handleLoginFailure(!1,!0,Z)}}else if(this._disconnectedDuringMamFetch||!Q){if(!this.xmppConfig||!this.xmppConfig.room)throw new Error('No room configured in XmppConfig');const Z=!0===this._incidentLayer.config.isBroadcaster,ee=Z||this.user&&!!this.user.role;if(ee){this.triggerFetchingMissedMessagesState(!0),this._disconnectedDuringMamFetch&&(yield this._incidentLayer.clearAllData());const te=yield this.client.getLastArchiveIdForRoom(this.xmppConfig.room.name);yield this._getMissedMessagesFromMam(te)}}})),this.client.addEventListener(A.CtXmppClient.EVENT_TYPES.AUTO_DBS_DESTROYED,()=>I(this,void 0,void 0,function*(){this._shouldClearData=!0}))}_postLogin(){return I(this,void 0,void 0,function*(){return this.username?new Promise((K,X)=>I(this,void 0,void 0,function*(){clearTimeout(this._postLoginTimeout);const Q=this.xmppConfig.loginTimeout||1e4;this._postLoginTimeout=setTimeout(()=>{clearTimeout(this._postLoginTimeout),this.logger.log(N.LoggerTypes.Connectivity,'%c\uD83D\uDEAB SYNCING WITH SERVER TIMED OUT','color: #600; font-weight: bold;'),X(new Error(`Syncing with the server took longer than expected. Please check your connectivity and log in again.`))},Q),this._incidentLayer.showWaitingMessage('Syncing with server...'),this._shouldClearData&&(this.logger.log(N.LoggerTypes.CleanUp,`%c DELETING DATA FOR FRESH USER`,'color: #669; font-weight: bold;'),yield this._incidentLayer.store.clearIncidentData(),this._shouldClearData=!1),yield this._incidentLayer.updateAllStateFromBot(!0,!0),this.user=yield this.buildCurrentUser(this.username),yield this._purgeOldIncidentsAndMessages(),yield this._updateOnCallUserDetails(),this._incidentLayer.cancelSuppressMode('incident/comms#login'),this._incidentLayer.dismissWaitingMessage(),clearTimeout(this._postLoginTimeout),this._loggedIn=!0,this.logger.log(N.LoggerTypes.Connectivity,`%c LOGIN COMPLETE > %c${this.username}`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;'),this.triggerLoginEvent(!0),K()})):Promise.reject(new Error('Error in post-login: no username specified'))})}_handleLoginFailure(K,X,Q){const Z=(ee)=>super[ee];return I(this,void 0,void 0,function*(){!0===K&&this.triggerLoginEvent(!1,Q),!0===X&&(this._incidentLayer.error('Error during sync','There was an error whilst syncing with the server. Please try logging in again.'),yield Z('logout').call(this,!0,!0)),this._incidentLayer.cancelSuppressMode('incident/comms#login'),this._incidentLayer.dismissWaitingMessage(),this._loggedIn=!1,this.user=null})}_purgeOldIncidentsAndMessages(){return I(this,void 0,void 0,function*(){if(0<this.xmppConfig.maxMessageAge){yield this.client.purgeMessagesOlderThan(this.xmppConfig.maxMessageAge);const K=this.getSyncedTimestamp()-this.xmppConfig.maxMessageAge;yield this._incidentLayer.store.purgeIncidentsOlderThanDate(K),yield this._incidentLayer.store.purgeReportsOlderThanDate(K)}})}_updateOnCallUserDetails(){return I(this,void 0,void 0,function*(){const K=yield this._incidentLayer.getOnCallUsers(),X=K.map((Q)=>this.updateVCardForUser(Q.jid));yield Promise.all(X)})}_getMissedMessagesFromMam(K){return I(this,void 0,void 0,function*(){if(!0===this._mamFetchInProgress)return void this.logger.log(N.LoggerTypes.Mam,`%c MAM FETCHING ALREADY IN PROGRESS: SKIPPING MAM CHECK`,'color: #669; font-weight: bold;');if(this.xmppConfig.mam&&!1===this.xmppConfig.mam.enabled)return this.triggerFetchingMissedMessagesState(!1),void this.logger.log(N.LoggerTypes.Mam,`%c MAM DISABLED: SKIPPING MAM CHECK`,'color: #669; font-weight: bold;');this._mamFetchInProgress=!0,this.logger.log(N.LoggerTypes.Mam,`%c QUERYING MAM FOR MISSED MESSAGE(S) SINCE:`,'color: #669; font-weight: bold;',K);try{this._mamQueryInProgress=!0,this._disconnectedDuringMamFetch=!1;const X=Date.now(),Q=yield this.client.queryMamByRoomName(this.xmppConfig.room.name,!1,K),Z=Date.now();if(this._mamQueryInProgress=!1,this.logger.log(N.LoggerTypes.Mam,`%c QUERYING MAM TOOK ${Z-X}ms`,'color: #669; font-weight: bold;'),this.logger.log(N.LoggerTypes.Mam,`%c FOUND ${Q.length} MISSED MESSAGE(S) IN THE MAM`,'color: #669; font-weight: bold;'),0<Q.length){const ee=[],te=[];Q.forEach((ne)=>{if(!ne||!ne.data)return void ee.push(ne);const ae=G.getMessageType(ne);if(!ae)return void ee.push(ne);const se=ne.data[ae]&&JSON.parse(ne.data[ae]);this._shouldIgnoreMessage(ne,!0)?te.push({[ae]:se}):(this.logger.shouldLog(N.LoggerTypes.Mam)&&this.logger.log(N.LoggerTypes.Mam,`%c DISPATCHING MAM MESSAGE:%c`,'color: #669; font-weight: bold;','color: #999; font-weight: normal;',{[ae]:se}),this.client._dispatchEvent(A.CtXmppClient.EVENT_TYPES.NEW_MESSAGE,ne))}),this.logger.log(N.LoggerTypes.Mam,`%c ${Q.length-te.length-ee.length} MAM MESSAGE(S) DISPATCHED`,'color: #669; font-weight: bold;'),0<te.length&&this.logger.log(N.LoggerTypes.Mam,`%c ${te.length} MAM MESSAGE(S) IGNORED DUE TO STANZA EXCLUSION RULES`,'color: #669; font-weight: bold;',te),0<ee.length&&this.logger.error(N.LoggerTypes.Mam,`%c ${ee.length} INVALID MAM MESSAGE(S) IGNORED`,'color: #C00; font-weight: bold;',ee),setTimeout(()=>{this.triggerFetchingMissedMessagesState(!1),this._mamFetchInProgress=!1},100)}else this.triggerFetchingMissedMessagesState(!1),this._mamFetchInProgress=!1}catch(X){this.logger.error(N.LoggerTypes.Mam,`%c ERROR DURING MAM FETCH`,'color: #C00; font-weight: bold;',X),this._incidentLayer.error('ERROR DURING UPDATE',`<p>An error occured whilst updating:</p><p>${X.message}</p>`)}})}_shouldIgnoreMessage(K,X){const Q=!0===this._incidentLayer.config.isBroadcaster,Z=!0!==this._incidentLayer.config.isBroadcaster,ee=this._incidentLayer.config.reporting&&!0===this._incidentLayer.config.reporting.enabled;if(K&&K.data){const te=G.getMessageType(K),ne=JSON.parse(K.data[te]||'null');if(!ne)return!0;if(Q){const ae=[z.IncidentMessageType.AcknowledgeIncidentUpdate];if(X&&(ae.push(z.IncidentMessageType.HelloFromBot),ae.push(z.IncidentMessageType.SetRole),ae.push(z.IncidentMessageType.RemoveFromRole)),ae.includes(te))return!0}if(Z){const ae=[];if(X&&(ae.push(z.IncidentMessageType.HelloFromBot),ae.push(z.IncidentMessageType.SetRole)),ae.includes(te))return!0;const se=[z.IncidentMessageType.AcknowledgeIncidentUpdate];if(se.includes(te)&&!this._isOwnMessage(ne))return!0;if(te===z.IncidentMessageType.RemoveFromRole){const de=ne.removeuserjid;if(de&&de!==this.user.jid)return!0}}if(!ee){const ae=[z.IncidentMessageType.RequestReport,z.IncidentMessageType.ReportReady,z.IncidentMessageType.ReportFailed];if(ae.includes(te))return!0}}return!1}_isOwnMessage(K){return!!this.user&&!!K.senderjid&&this.user.jid===K.senderjid}_updateUserRole(K,X){if(this.user){const Q=this._incidentLayer.config.roles.find((Z)=>Z.id===K);Q?(this.user.role=Q,this.user.isOnCall=!0,null===this.user.cameOnCall&&(this.user.cameOnCall=X)):this._clearUserRole()}}_clearUserRole(){this.user&&(this.user.role=null,this.user.isOnCall=null,this.user.cameOnCall=null)}_updateUserConnectionStatus(K){this.user&&(this.user.connectionStatus=K)}}E.Comms=$},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N,H){super(N),this.severityChange=H}}E.ChangeIncidentSeverityEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N,H,B,z){super(N),this.responderJid=H,this.state=B,this.changeType=z}}E.ChangeResponderStateEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N,H,B,z){super(N),this.collectionId=H,this.state=B,this.changeType=z}}E.ChangeResponseCollectionStateEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N,H){super(N),this.reason=H}}E.CloseIncidentEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N,H,B,z=!1){super(),this.type=N,this.startDate=H,this.endDate=B,this.notify=z}}E.GenerateReportEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(1);class A extends I.IncidentEventArgs{constructor(N,H){super(N),this.response=H}}E.IncidentAlertEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N,H){super(),this.oldIncident=N,this.newIncident=H}}E.IncidentChangeEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N){super(N.id),this.incident=N}}E.IncidentEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N,H){super(),this.incident=N,this.response=H}}E.IncidentResponseEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N,H=null){super(N),this.response=H}}E.NewIncidentMessageReceievedEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N,H,B,z,W){super(),this.priority=N,this.severity=H,this.patientType=B,this.location=z,this.isTestIncident=W}}E.RaiseNewIncidentEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(1);class A extends I.ReportEventArgs{constructor(N,H){super(H),this.filePath=N}}E.ReportDownloadEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N){super(),this.report=N}}E.ReportEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N){super(),this.predefinedIncidentData=N}}E.RequestNewIncidentEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(13);class A extends I.BaseIncidentEventArgs{constructor(N,H,B=0,z=!1){super(N),this.responseStatus=H,this.eta=B,this.autoResponse=z}}E.RespondedToIncidentEventArgs=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(6);class A extends I.BaseEventArgs{constructor(N,H){super(),this.role=N,this.completionEventId=H}}E.RoleSelectionEventArgs=A},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(1);class B extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.AcknowledgeIncidentUpdate,this.eventType=[H.IncidentEvents._Request_AcknowledgeIncidentUpdate]}createBotMessage(z){return{incidentid:z.incidentId}}handleMessage(z){return I(this,void 0,void 0,function*(){const W=z.data[this.messageKey],J=this.layer.getCurrentUser();J&&W.senderjid===J.jid&&(yield this.layer.store.removePendingAlert(W.incidentid),this.layer.emit(H.IncidentEvents.IncidentAlertChange))})}handleEvent(z,W){return I(this,void 0,void 0,function*(){if(z===H.IncidentEvents._Request_AcknowledgeIncidentUpdate){const G={incidentId:W.incidentId};yield this.layer.sendMessageViaBot(A.IncidentMessageType.AcknowledgeIncidentUpdate,G)}})}}E.AcknowledgeIncidentUpdateHandler=B},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(7),B=R(1),z=R(11),W=R(5);class J extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.ChangeIncidentSeverity,this.eventType=[B.IncidentEvents._Request_ChangeIncidentSeverity]}createBotMessage(G){if(!G.severityChange)throw new Error(`No severity change specified in: ${JSON.stringify(G)}`);const K=this.layer.config.severities.find((X)=>X.id===G.severityChange.severityId);if(!K)throw new Error(`No severity could be found with id: "${G.severityChange.severityId}"`);return{incidentid:G.incidentId,severityid:K.id,severitylabel:K.name,severitychangeid:G.severityChange.id,severitychangename:G.severityChange.name}}handleFailedBotResponse(G,$){return I(this,void 0,void 0,function*(){return new Promise((K)=>{if('incident_update_denied'===$.data.reason){const X=$.data.reasonMessage||'Incident update denied.';this.layer.emit(B.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Cannot update Incident',X,1)),K(!1)}})})}handleMessage(G){return I(this,void 0,void 0,function*(){const $=G.data[this.messageKey],K=yield this._changeIncidentSeverity($.incidentid,$.severityid,$.severitychangeid,$.senderjid,$.sendername,G.ts),X=this.layer.getCurrentUser();if(X&&!1===this.layer.config.isBroadcaster){const Q=this.layer.getSyncedTimestamp();this._shouldAddAsPendingAlert(X,K,Q)&&(yield this.layer.store.addPendingAlert(K.id),this.layer.emit(B.IncidentEvents.IncidentAlertChange))}})}handleEvent(G,$){return I(this,void 0,void 0,function*(){if(G===B.IncidentEvents._Request_ChangeIncidentSeverity){const K=$,X={incidentId:K.incidentId,severityChange:K.severityChange};yield this.layer.sendMessageViaBot(A.IncidentMessageType.ChangeIncidentSeverity,X)}})}_changeIncidentSeverity(G,$,K,X,Q,Z){return I(this,void 0,void 0,function*(){const ee=yield this.layer.getIncidentById(G);if(!ee)return null;const te=ee.severity;if(!te)return null;if(te.id===$)return ee;const ne=(te.changes||[]).find((ie)=>ie.id===K);if(!ne)throw new Error(`No severity change could be found with id: ${K} (current severity id: ${te.id})`);const ae=this.layer.config.severities.find((ie)=>ie.id===ne.severityId);if(!ae)throw new Error(`No severity could be found with id: ${ne.severityId}`);const se=W.deepCloneObject(ee),de={action:H.IncidentAction.ChangeSeverity,jid:X,name:Q,date:Z,reference:K,data:ne.label||ne.name};return ee.severity=ae,ee.actions.push(de),yield this.layer.store.updateIncident(ee),this.layer.emit(B.IncidentEvents.IncidentUpdated,new B.IncidentEventArgs(ee)),this.layer.emit(B.IncidentEvents.IncidentSeverityChanged,new B.IncidentChangeEventArgs(se,ee)),ee})}_shouldAddAsPendingAlert(G,$,K){return!!$&&!(!0!==G.isOnCall)&&!(G.cameOnCall>$.opened.date)&&!this._incidentHasExpired($,K)&&!this._userRespondedUnable($,G)}_incidentHasExpired(G,$){return 0<G.expirationDate&&$>=G.expirationDate}_userRespondedUnable(G,$){const K=z.findUserResponse(G,$.jid,$.role&&$.role.id);return K&&K.status===H.ResponseStatus.Unable}}E.ChangeIncidentSeverityHandler=J},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(1),B=R(11),z=R(5);class W extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.ChangeResponderState,this.eventType=[H.IncidentEvents._Request_ChangeResponderState]}createBotMessage(J){return{incidentid:J.incidentId,responderjid:J.responderJid,state:J.state.toString(),changetype:J.changeType.toString()}}handleFailedBotResponse(J,G){return I(this,void 0,void 0,function*(){return new Promise(($)=>{if('incident_update_denied'===G.data.reason){const K=G.data.reasonMessage||'Incident update denied.';this.layer.emit(H.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Cannot update Incident',K,1)),$(!1)}})})}handleMessage(J){return I(this,void 0,void 0,function*(){const G=J.data[this.messageKey],$=z.enumFromString(G.state),K=z.enumFromString(G.changetype);null!==$&&null!==K&&(yield this._triggerResponderStateChange(G.incidentid,G.responderjid,$,K,G.senderjid,G.sendername,J.ts))})}handleEvent(J,G){return I(this,void 0,void 0,function*(){if(J===H.IncidentEvents._Request_ChangeResponderState){const $=G,K={incidentId:$.incidentId,responderJid:$.responderJid,state:$.state,changeType:$.changeType};yield this.layer.sendMessageViaBot(A.IncidentMessageType.ChangeResponderState,K)}})}_triggerResponderStateChange(J,G,$,K,X,Q,Z){return I(this,void 0,void 0,function*(){const ee=yield this.layer.getIncidentById(J);if(ee){const te=B.findUserResponseCollection(ee,G);te&&(B.processResponderStateChange(ee,G,$,null,K,X,Q,Z),B.aggregateResponseCollectionInformation(te),yield this.layer.store.updateIncident(ee),this.layer.emit(H.IncidentEvents.IncidentUpdated,new H.IncidentEventArgs(ee)))}})}}E.ChangeResponderStateHandler=W},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(1),B=R(11),z=R(5);class W extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.ChangeResponseCollectionState,this.eventType=[H.IncidentEvents._Request_ChangeResponseCollectionState]}createBotMessage(J){return{incidentid:J.incidentId,collectionid:J.collectionId,state:J.state.toString(),changetype:J.changeType.toString()}}handleFailedBotResponse(J,G){return I(this,void 0,void 0,function*(){return new Promise(($)=>{if('incident_update_denied'===G.data.reason){const K=G.data.reasonMessage||'Incident update denied.';this.layer.emit(H.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Cannot update Incident',K,1)),$(!1)}})})}handleMessage(J){return I(this,void 0,void 0,function*(){const G=J.data[this.messageKey],$=z.enumFromString(G.state),K=z.enumFromString(G.changetype);null!==$&&null!==K&&(yield this._triggerResponseCollectionStateChange(G.incidentid,G.collectionid,$,K,G.senderjid,G.sendername,J.ts))})}handleEvent(J,G){return I(this,void 0,void 0,function*(){if(J===H.IncidentEvents._Request_ChangeResponseCollectionState){const $=G,K={incidentId:$.incidentId,collectionId:$.collectionId,state:$.state,changeType:$.changeType};yield this.layer.sendMessageViaBot(A.IncidentMessageType.ChangeResponseCollectionState,K)}})}_triggerResponseCollectionStateChange(J,G,$,K,X,Q,Z){return I(this,void 0,void 0,function*(){const ee=yield this.layer.getIncidentById(J);if(ee){const te=ee.responses.find((ne)=>ne.id===G);te&&(B.processResponseCollectionStateChange(te,$,null,K,X,Q,Z),yield this.layer.store.updateIncident(ee),this.layer.emit(H.IncidentEvents.IncidentUpdated,new H.IncidentEventArgs(ee)))}})}}E.ChangeResponseCollectionStateHandler=W},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(7),B=R(1),z=R(11);class W extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.CloseIncident,this.eventType=[B.IncidentEvents._Request_CloseIncident]}createBotMessage(J){if(!J.reason)throw new Error(`No reason specified in: ${JSON.stringify(J)}`);return{incidentid:J.incidentId,reasonid:J.reason.id.toString(),reasonlabel:J.reason.label}}handleMessage(J){return I(this,void 0,void 0,function*(){const G=J.data[this.messageKey],$=this.layer.config.closeReasons.find((Q)=>Q.id===G.reasonid);if(!$)throw new Error(`No close reason could be found with the id: ${G.reasonid}`);const K=yield this.layer.getIncidentById(G.incidentid);if(!K)return null;yield this._closeIncident(K,G.senderjid,G.sendername,J.ts,$);const X=this.layer.getCurrentUser();if(X&&!1===this.layer.config.isBroadcaster){const Q=this.layer.getSyncedTimestamp();this._shouldAddAsPendingAlert($,X,K,Q)&&(yield this.layer.store.addPendingAlert(K.id),this.layer.emit(B.IncidentEvents.IncidentAlertChange))}})}handleEvent(J,G){return I(this,void 0,void 0,function*(){if(J===B.IncidentEvents._Request_CloseIncident){const $=G,K=this.layer.getCurrentUser();try{const X={incidentId:$.incidentId,reason:$.reason};yield this.layer.sendMessageViaBot(A.IncidentMessageType.CloseIncident,X)}catch(X){this.layer.error('Error closing incident',X)}}})}_closeIncident(J,G,$,K,X){return I(this,void 0,void 0,function*(){return J.status=H.IncidentStatus.Closed,J.closed={jid:G,name:$,date:K},J.closedReasonId=X.id,yield this.layer.store.updateIncident(J),this.layer.emit(B.IncidentEvents.IncidentClosed,new B.IncidentEventArgs(J)),X.notifyResponders||(yield this.layer.store.removePendingAlert(J.id),this.layer.emit(B.IncidentEvents.IncidentAlertChange)),J})}_shouldAddAsPendingAlert(J,G,$,K){return!!$&&!(!0!==J.notifyResponders)&&!1!==G.isOnCall&&!(G.cameOnCall>$.opened.date)&&!this._incidentHasExpired($,K)&&!this._userRespondedUnable($,G)}_incidentHasExpired(J,G){return 0<J.expirationDate&&G>=J.expirationDate}_userRespondedUnable(J,G){const $=z.findUserResponse(J,G.jid,G.role&&G.role.id);return $&&$.status===H.ResponseStatus.Unable}}E.CloseIncidentHandler=W},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(6),N=R(9),H=R(1);class B extends N.BaseIncidentHandler{constructor(){super(...arguments),this.eventType=[A.BaseEvents.LoginResult,A.BaseEvents._Request_Logout]}handleEvent(z,W){return I(this,void 0,void 0,function*(){if(z===A.BaseEvents.LoginResult){const J=W;if(!J.success){const G=this.layer.getLabel('LABEL_ERROR_LOGGING_IN_TITLE')||'Error logging in',$=J.errorMessage||this.layer.getLabel('LABEL_ERROR_LOGGING_IN_MESSAGE')||'Check your connectivity and credentials and try again.';this.layer.error(G,$)}else if(this.layer.config.isBroadcaster)this.layer.comms.joinIncidentRoom(()=>I(this,void 0,void 0,function*(){this.layer.comms.leaveRole()}));else if(this.layer.config.xmpp.user&&this.layer.config.xmpp.user.roleId){const G=this.layer.config.roles.find(($)=>$.id===this.layer.config.xmpp.user.roleId);if(!G)throw new Error(`Could not automatically join with role; no role could be found with id: ${this.layer.config.xmpp.user.roleId}`);this.layer.emit(H.IncidentEvents._Request_JoinRole,new H.RoleSelectionEventArgs(G))}else{const G=this.layer.getCurrentUser();if(G&&G.role){const $=this.layer.config.roles.find((K)=>K.id===G.role.id);if(!$)throw new Error(`Could not rejoin role; no role could be found with id: ${G.role.id}`);this.layer.emit(H.IncidentEvents._Request_JoinRole,new H.RoleSelectionEventArgs($))}}}if(z===A.BaseEvents._Request_Logout)try{yield this.layer.comms.logout()}catch(J){this.layer.error('Error logging out',J)}})}}E.CommsConnectionHandler=B},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(6),N=R(8),H=R(9);class B extends H.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=N.IncidentMessageType.HelloFromBot}createBotMessage(){throw new Error('HelloFromBot message is only meant to be issued by the bot')}handleMessage(z){return I(this,void 0,void 0,function*(){const W=z.data[this.messageKey];this.layer.emit(A.BaseEvents._Request_RaiseAlert,this.defaultAlerts.AlertAcknowledge('Incidents v'+this.layer.VERSION,W.message))})}}E.HelloFromBotHandler=B},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(9),N=R(8),H=R(7),B=R(1),z=R(11),W=R(39);class J extends A.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=N.IncidentMessageType.NewIncident}createBotMessage(G,$){const K={id:G.id,priorityid:G.priority.id,prioritylabel:G.priority.name,severityid:G.severity.id,severitylabel:G.severity.name,patienttypeid:G.patientType&&G.patientType.id||'',patienttypelabel:G.patientType&&G.patientType.name||'',locationid:G.location&&G.location.id||'',locationlabel:G.location&&G.location.name||'',responders:JSON.stringify(G.responders),expiresin:G.expiresIn,istest:G.isTestIncident};return $&&'confirm_replace_incident'===$.data.reason&&(K.confirmreplace=!0,K.confirmreplaceincidentid=$.data.currentincidentid),K}handleFailedBotResponse(G,$){return I(this,void 0,void 0,function*(){return new Promise((K)=>{if('confirm_create_incident'===$.data.reason){const X=$.data.reasonMessage||'There is currently an incident in progress. Do you still wish to raise a new incident?';this.layer.emit(B.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertYesNoQuestion('Raise New Incident?',X,1,{yes:()=>{K(!0)},no:()=>{K(!1)}}))}else if('confirm_replace_incident'===$.data.reason){const X=$.data.reasonMessage||'There is currently an incident in progress. Do you wish to replace it with this new incident?';this.layer.emit(B.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertYesNoQuestion('Raise New Incident?',X,1,{yes:()=>{K(!0)},no:()=>{K(!1)}}))}else if('incident_exists'===$.data.reason){const X=$.data.reasonMessage||'There is currently an incident in progress. You cannot raise this incident at this time.';this.layer.emit(B.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Raise New Incident',X,1)),K(!1)}else if('incident_replacement_rejected'===$.data.reason){const X=$.data.reasonMessage||'Unable to raise new incident, a different incident has already been opened.';this.layer.emit(B.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Raise New Incident',X,1)),K(!1)}else K(!1)})})}handleMessage(G){return I(this,void 0,void 0,function*(){const $=G.data[this.messageKey],K=yield this.layer.getIncidentById($.id);if(!K){const X=$.senderjid,Q=$.sendername,Z=this.layer.config.severities.find((oe)=>oe.id===$.severityid),ee=this.layer.config.priorities.find((oe)=>oe.id===$.priorityid),te=$.patienttypeid&&this.layer.config.patientTypes.find((oe)=>oe.id===$.patienttypeid)||null,ne=$.locationid&&this.layer.config.locations.find((oe)=>oe.id===$.locationid)||null,ae=$.expiresin,se=$.responders&&JSON.parse($.responders)||null,de=z.generateNewIncident($.id,X,Q,G.ts,ee,Z,te,ne,ae,se,$.istest,this.layer);yield this.layer.store.addIncident(de),this.layer.emit(B.IncidentEvents.NewIncident,new B.IncidentEventArgs(de));const ie=this.layer.getCurrentUser();if(ie&&!1===this.layer.config.isBroadcaster){const oe=this.layer.getSyncedTimestamp();this._shouldSendReceievedResponse(G,ie,de,oe)&&(yield this._sendReceivedResponse(de)),this._shouldAddAsPendingAlert(ie,de,oe)&&(yield this.layer.store.addPendingAlert(de.id),this.layer.emit(B.IncidentEvents.IncidentAlertChange))}}})}_shouldSendReceievedResponse(G,$,K,X){if(K.status===H.IncidentStatus.Closed)return!1;if(this.layer.config.behaviour.onCallRespondersOnly){if(!1===$.isOnCall)return!1;if($.cameOnCall>K.opened.date)return!1}return!this._incidentHasExpired(K,X)&&!this._userAlreadyReceieved(G,$)}_shouldAddAsPendingAlert(G,$,K){if($.status===H.IncidentStatus.Closed)return!1;if(this.layer.config.behaviour.onCallRespondersOnly){if(!1===G.isOnCall)return!1;if(G.cameOnCall>$.opened.date)return!1}return!this._incidentHasExpired($,K)}_incidentHasExpired(G,$){return 0<G.expirationDate&&$>=G.expirationDate}_userAlreadyReceieved(G,$){return G.state.markers.some((K)=>K.sender_resource===$.username)}_sendReceivedResponse(G){return I(this,void 0,void 0,function*(){const $=new W.IncidentResponseHandler(this.layer);yield $.handleEvent(B.IncidentEvents._Request_RespondToIncident,new B.RespondedToIncidentEventArgs(G.id,H.ResponseStatus.Received,0,!0))})}}E.NewIncidentHandler=J},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(3),N=R(9),H=R(8),B=R(1),z=R(11);class W extends N.BaseIncidentHandler{constructor(){super(...arguments),this.eventType=[B.IncidentEvents._Request_NewIncident,B.IncidentEvents._Request_RaiseNewIncident]}handleEvent(J,G){return I(this,void 0,void 0,function*(){if(J===B.IncidentEvents._Request_NewIncident){const $=G;this.layer.getConnectionStatus()===A.ConnectionStatus.Connected?this._checkCanRequestIncident($.predefinedIncidentData).then((K)=>{K&&($.predefinedIncidentData?this._raisePredefinedIncident($.predefinedIncidentData):this.layer.emit(B.IncidentEvents._Request_LaunchNewIncidentModal))}):this.layer.emit(B.IncidentEvents._Request_LaunchOfflineModal)}if(J===B.IncidentEvents._Request_RaiseNewIncident){const $=G;try{const K=this.layer.config.behaviour.incidentExpiration||0;let X=[];if(!0===this.layer.config.behaviour.prePopulateResponseCollections){const Z=this.layer.config.roles,ee=!0===this.layer.config.behaviour.onCallRespondersOnly?yield this.layer.getOnCallUsers():[];X=z.generatePrePopulatedResponders(Z,ee)}const Q={id:this.layer.getUniqueCommsId(),priority:$.priority,severity:$.severity,patientType:$.patientType,location:$.location,expiresIn:K,responders:X,isTestIncident:$.isTestIncident};yield this.layer.sendMessageViaBot(H.IncidentMessageType.NewIncident,Q)}catch(K){this.layer.error('Error raising incident',K)}}})}_checkCanRequestIncident(J){return I(this,void 0,void 0,function*(){return new Promise((G)=>I(this,void 0,void 0,function*(){const $=yield this.layer.sendBotCommand(H.IncidentBotCommands.CanRequestIncident,{predefinedIncidentId:J&&J.id||null});if($.success)G(!0);else if('confirm'===$.data.reason){const K=this.defaultAlerts.AlertQuestion('Raise New Incident?',$.data.reasonMessage,1,[{text:'No',type:'primary',action:()=>{G(!1)}},{text:'Yes, Raise Incident',type:'primary',action:()=>{G(!0)}}]);this.layer.emit(B.IncidentEvents._Request_RaiseAlert,K)}else{const K=this.defaultAlerts.AlertErrorWithOkayButton('Raise New Incident',$.data.reasonMessage);this.layer.emit(B.IncidentEvents._Request_RaiseAlert,K),G(!1)}}))})}_raisePredefinedIncident(J){const G=J.priorityId&&this.layer.config.priorities.find((ee)=>ee.id===J.priorityId)||null;if(!G)return void this.layer.error('Unable to raise predefined incident',`Predefined incidents must have a valid priorityId. Unable to find priority with id: ${J.priorityId}`);const $=J.severityId&&this.layer.config.severities.find((ee)=>ee.id===J.severityId)||null;if(!$)return void this.layer.error('Unable to raise predefined incident',`Predefined incidents must have a valid severityId. Unable to find severity with id: ${J.severityId}`);const K=J.patientTypeId&&this.layer.config.patientTypes.find((ee)=>ee.id===J.patientTypeId)||null,X=J.locationId&&this.layer.config.locations.find((ee)=>ee.id===J.locationId)||null,Q=J.isTestIncident||!1,Z=J.confirmationTitle||'Raise New Incident?';if(J.confirmationMessage){const ee=this.defaultAlerts.AlertQuestion(Z,J.confirmationMessage,1,[{text:'Cancel',type:'primary',action:()=>{}},{text:'Confirm',type:'primary',action:()=>{this.layer.emit(B.IncidentEvents._Request_RaiseNewIncident,new B.RaiseNewIncidentEventArgs(G,$,K,X,Q))}}]);this.layer.emit(B.IncidentEvents._Request_RaiseAlert,ee)}else this.layer.emit(B.IncidentEvents._Request_RaiseNewIncident,new B.RaiseNewIncidentEventArgs(G,$,K,X,Q))}}E.RaiseNewIncidentHandler=W},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(7),B=R(1);class z extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.ReportFailed}createBotMessage(){throw new Error('ReportFailed message is only meant to be issued by the bot')}handleMessage(W){return I(this,void 0,void 0,function*(){if(!this.layer.config.reporting||!0!==this.layer.config.reporting.enabled)return;const J=W.data[this.messageKey],G=yield this.layer.getReportById(J.id);if(G){const $=this.layer.config.reporting.reportTypes.find((Z)=>Z.id===J.type);if(!$)throw new Error(`No report type could be found with id: "${J.type}"`);G.status=H.ReportStatus.Failed,G.requested.date=J.requested,G.type=$,G.startDate=J.startdate,G.endDate=J.enddate,G.failReason=J.reason,yield this.layer.store.updateReport(G),this.layer.emit(B.IncidentEvents.ReportFailed,new B.ReportEventArgs(G));const K=`report_alert_${G.id}`;this.layer.emit(B.IncidentEvents._Request_CloseAlert,K);const X=G.failReason?`
                <p><strong>Error generating report:</strong></p>
                <p>${J.reason}</p>
            `:`
                <p><strong>There was an error generating the report.</strong></p>
            `,Q={id:K,raisedOn:new Date().getTime(),priority:1,type:'error',title:'Generate Report',body:X,buttons:[{text:'Okay',action:()=>{},type:'primary'}]};this.layer.emit(B.IncidentEvents._Request_RaiseAlert,Q)}})}}E.ReportFailedHandler=z},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(7),B=R(1);class z extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.ReportReady}createBotMessage(){throw new Error('ReportReady message is only meant to be issued by the bot')}handleMessage(W){return I(this,void 0,void 0,function*(){if(!this.layer.config.reporting||!0!==this.layer.config.reporting.enabled)return;const J=W.data[this.messageKey],G=yield this.layer.getReportById(J.id);if(G){const $=this.layer.config.reporting.reportTypes.find((X)=>X.id===J.type);if(!$)throw new Error(`No report type could be found with id: "${J.type}"`);G.status=H.ReportStatus.Ready,G.requested.date=J.requested,G.completed=J.completed,G.type=$,G.startDate=J.startdate,G.endDate=J.enddate,G.url=J.url,yield this.layer.store.updateReport(G),this.layer.emit(B.IncidentEvents.ReportReady,new B.ReportEventArgs(G));const K=this.layer.getCurrentUser();if(K&&this._shouldShowAlert(W,J,K,G)){const X=`report_alert_${G.id}`;this.layer.emit(B.IncidentEvents._Request_CloseAlert,X);const Q={id:X,raisedOn:new Date().getTime(),priority:1,type:'question',title:'Generate Report',body:'Your report is now available',buttons:[{text:'Download',action:()=>I(this,void 0,void 0,function*(){return yield this._downloadReport(G)}),type:'primary'},{text:'Okay',action:()=>{},type:'primary'}]};this.layer.emit(B.IncidentEvents._Request_RaiseAlert,Q)}}})}_shouldShowAlert(W,J,G,$){return!(!0!==J.notify)&&!($.requested.jid!==G.jid)&&!this._userAlreadyReceieved(W,G)}_userAlreadyReceieved(W,J){return W.state.markers.some((G)=>G.sender_resource===J.username)}_downloadReport(W){return I(this,void 0,void 0,function*(){const J=yield this.layer.downloadFile(W.url);null!==J&&this.layer.emit(B.IncidentEvents.ReportDownloaded,new B.ReportDownloadEventArgs(J,W))})}}E.ReportReadyHandler=z},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(8),N=R(9),H=R(7),B=R(1);class z extends N.BaseIncidentHandler{constructor(){super(...arguments),this.messageKey=A.IncidentMessageType.RequestReport,this.eventType=[B.IncidentEvents._Request_GenerateReport]}createBotMessage(W){return this.layer.config.reporting&&!0===this.layer.config.reporting.enabled?{id:W.id,type:W.type,startdate:W.startDate,enddate:W.endDate,notify:W.notify}:null}handleFailedBotResponse(W,J){return I(this,void 0,void 0,function*(){return new Promise((G)=>{if('report_limit_reached'===J.data.reason){this.layer.emit(B.IncidentEvents._Request_RaiseAlert,this.defaultAlerts.AlertErrorWithOkayButton('Generate Report','Unable to generate report at this time as the limit has been reached, please try again later',1)),G(!1)}})})}handleMessage(W){return I(this,void 0,void 0,function*(){if(!this.layer.config.reporting||!0!==this.layer.config.reporting.enabled)return;const J=W.data[this.messageKey],G=yield this.layer.getReportById(J.id);if(!G){const $=this.layer.config.reporting.reportTypes.find((Q)=>Q.id===J.type);if(!$)throw new Error(`No report type could be found with id: "${J.type}"`);const K={id:J.id,status:H.ReportStatus.Pending,requested:{jid:J.senderjid,name:J.sendername,date:W.ts},completed:null,type:$,startDate:J.startdate,endDate:J.enddate,url:null,failReason:null};yield this.layer.store.addReport(K),this.layer.emit(B.IncidentEvents.ReportRequested,new B.ReportEventArgs(K));const X=this.layer.getCurrentUser();if(X&&this._shouldShowAlert(W,J,X,K)){const Q=this.defaultAlerts.AlertAcknowledge('Generate Report','Your report is being generated - you will be notified when it is available to download');Q.id=`report_alert_${K.id}`,this.layer.emit(B.IncidentEvents._Request_RaiseAlert,Q)}}})}handleEvent(W,J){return I(this,void 0,void 0,function*(){if(this.layer.config.reporting&&!0===this.layer.config.reporting.enabled&&W===B.IncidentEvents._Request_GenerateReport){const G=J,$=this.layer.getUniqueCommsId(),K={id:$,type:G.type,startDate:G.startDate,endDate:G.endDate,notify:G.notify||!1};yield this.layer.sendMessageViaBot(A.IncidentMessageType.RequestReport,K)}})}_shouldShowAlert(W,J,G,$){return!(!0!==J.notify)&&!($.requested.jid!==G.jid)&&!this._userAlreadyReceieved(W,G)}_userAlreadyReceieved(W,J){return W.state.markers.some((G)=>G.sender_resource===J.username)}}E.RequestReportHandler=z},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(6),N=R(9),H=R(8),B=R(1),z=R(11);class W extends N.BaseIncidentHandler{constructor(){super(...arguments),this._completionEventMappings=new Map,this.messageKey=H.IncidentMessageType.SetRole,this.eventType=[B.IncidentEvents._Request_JoinRole]}createBotMessage(J){return{roleid:J.role.id,rolename:J.role.name}}handleFailedBotResponse(J,G){return I(this,void 0,void 0,function*(){return'invalid_role_id'===G.data.reason&&(this.layer.error('Invalid role',`Invalid role id: ${J.role.id} (${J.role.name})`),this._completionEventMappings.delete(J.role.id)),!1})}handleMessage(J){return I(this,void 0,void 0,function*(){const G=this.layer.getCurrentUser();if(!G)return;const $=J.data[this.messageKey],K=this.layer.config.roles.find((X)=>X.id===$.roleid);if(!K)throw new Error(`Unable to find role with id: ${$.roleid} (role name: ${$.rolename})`);if(G.jid===$.senderjid){const X=this._completionEventMappings.get($.roleid);X&&(this.layer.emit(X,new B.RoleSelectionEventArgs(K)),this._completionEventMappings.delete($.roleid)),this.layer.emit(B.IncidentEvents.RoleSelection,new B.RoleSelectionEventArgs(K)),yield this._showValidPendingIncidents(G,K)}else yield this.layer.comms.updateVCardForUser($.senderjid);yield this.layer.updateAllStateFromBot(),this.layer.emit(B.IncidentEvents.UserActivity,new A.UserActivityEventArgs($.senderjid,J.ts))})}handleEvent(J,G){return I(this,void 0,void 0,function*(){if(J===B.IncidentEvents._Request_JoinRole&&!1===this.layer.config.isBroadcaster){const $=G,K={role:$.role};let X=!1;if(!0===this.layer.config.behaviour.singleUserInRole){let Q=!1;try{yield this.layer.updateRoleUserMappings(!1,!0),Q=!0}catch(Z){this.layer.error('Error joining role','There was an error joining the role - the bot was unavailable. Please try again.')}if(Q){const Z=this.layer.getCurrentUser(),ee=yield this.layer.getOnCallUsers(),te=ee.find((ne)=>ne.role.id===$.role.id);te&&te.jid!==Z.jid&&(yield this._showKickOffQuestion($.role,Z,te))?X=!0:!te&&(X=!0)}}else X=!0;X&&($.completionEventId&&this._completionEventMappings.set($.role.id,$.completionEventId),yield this.layer.comms.joinIncidentRoom(()=>I(this,void 0,void 0,function*(){yield this.layer.sendMessageViaBot(H.IncidentMessageType.SetRole,K),yield this.layer.updateAllStateFromBot(!0);const Q=this.layer.getSyncedTimestamp();this.layer.comms.setRole($.role,Q)})))}})}_shouldUpdateUserRole(J,G){return J.cameOnCall&&J.cameOnCall>G?!1:!0}_showKickOffQuestion(J,G,$){const K=this.layer.getLabel('LABEL_CONFIRM_KICK_USER_TITLE',{role:J&&J.name||'',currentUser:G.displayName,onCallUser:$.displayName})||`Replace User in Role?`,X=this.layer.getLabel('LABEL_CONFIRM_KICK_USER_MESSAGE',{role:J&&J.name||'',currentUser:G.displayName,onCallUser:$.displayName})||'Somebody is currently on call in that role. Would you like to replace them?';return new Promise((Q)=>{const ee=this.defaultAlerts.AlertYesNoQuestion(K,X,1,{yes:()=>{Q(!0)},no:()=>{Q(!1)}});this.layer.emit(B.IncidentEvents._Request_RaiseAlert,ee)})}_showValidPendingIncidents(J,G){return I(this,void 0,void 0,function*(){const $=yield this.layer.getOpenIncidents();let K=!1;$.forEach((X)=>I(this,void 0,void 0,function*(){const Q=z.findUserResponse(X,J.jid,G.id);Q&&!z.isConcludedResponse(Q.status)&&(K=!0,yield this.layer.store.addPendingAlert(X.id))})),K&&this.layer.emit(B.IncidentEvents.IncidentAlertChange)})}}E.RoleSelectionHandler=W},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A.STATUSES={Transmitted:{viewBox:'0 0 1024 1024',paths:['M200.194 726.176l41.15-90.528c-88.918-76.354-145.344-189.53-145.344-315.648 0-98.228 34.244-188.596 91.392-259.844l-75.124-60.134c-72.734 90.508-112.268 202.196-112.268 319.978 0 136.76 53.256 265.336 149.96 362.040 15.914 15.912 32.704 30.62 50.234 44.136z','M782.656 635.646l41.148 90.53c17.534-13.516 34.322-28.224 50.234-44.136 96.704-96.704 149.962-225.28 149.962-362.040 0-117.78-39.534-229.468-112.268-319.978l-75.124 60.134c57.148 71.248 91.392 161.616 91.392 259.844 0 126.118-56.426 239.294-145.344 315.646z','M704.396 463.474l43.52 95.744c0.554-0.548 1.12-1.078 1.672-1.63 122.162-122.164 130.388-315.752 24.718-447.56l-74.942 59.99c68.292 85.186 69.97 206.494 5.032 293.456z','M274.412 557.588c0.552 0.552 1.118 1.082 1.672 1.63l43.52-95.744c-64.938-86.962-63.26-208.272 5.032-293.458l-74.942-59.99c-105.67 131.81-97.444 325.398 24.718 447.562z','M640 320c0-70.692-57.306-128-128-128-70.692 0-128 57.308-128 128 0 37.312 15.974 70.886 41.448 94.282l-277.146 609.718h105.452l58.182-128h400.128l58.182 128h105.452l-277.146-609.718c25.474-23.396 41.448-56.97 41.448-94.282zM512 455.86l83.702 184.14h-167.402l83.7-184.14zM682.972 832h-341.946l58.182-128h225.582l58.182 128z']},Received:{viewBox:'0 0 1024 1024',paths:['M736 0h-448c-52.8 0-96 43.2-96 96v832c0 52.8 43.2 96 96 96h448c52.8 0 96-43.2 96-96v-832c0-52.8-43.2-96-96-96zM384 48h256v32h-256v-32zM512 960c-35.346 0-64-28.654-64-64s28.654-64 64-64 64 28.654 64 64-28.654 64-64 64zM768 768h-512v-640h512v640z']},Acknowledged:{viewBox:'0 0 844 1024',paths:['M180.705882,75.2941176 L421.647059,75.2941176 L421.647059,45.1764706 L180.705882,45.1764706 L180.705882,75.2941176 Z M602.352941,366.408791 L602.352941,90.3529412 C602.352941,40.6588235 561.633882,0 512,0 L90.3529412,0 C40.6588235,0 0,40.6588235 0,90.3529412 L0,873.411765 C0,923.105882 40.6588235,963.764706 90.3529412,963.764706 L272.732581,963.764706 C215.504242,899.824159 180.705882,815.38764 180.705882,722.823529 C180.705882,523.221323 342.515441,361.411765 542.117647,361.411765 C562.640547,361.411765 582.763913,363.122375 602.352941,366.408791 Z','M542.117647,1024 C375.782475,1024 240.941176,889.158701 240.941176,722.823529 C240.941176,556.488358 375.782475,421.647059 542.117647,421.647059 C708.452819,421.647059 843.294118,556.488358 843.294118,722.823529 C843.294118,889.158701 708.452819,1024 542.117647,1024 Z M677.647059,602.352941 L474.352941,805.647059 L406.588235,737.882353 L361.411765,783.058824 L474.352941,896 L722.823529,647.529412 L677.647059,602.352941 Z']},Attending:{viewBox:'0 0 1024 1024',paths:['M722.823529,1024 C556.488358,1024 421.647059,889.158701 421.647059,722.823529 C421.647059,556.488358 556.488358,421.647059 722.823529,421.647059 C889.158701,421.647059 1024,556.488358 1024,722.823529 C1024,889.158701 889.158701,1024 722.823529,1024 Z M858.352941,602.352941 L655.058824,805.647059 L587.294118,737.882353 L542.117647,783.058824 L655.058824,896 L903.529412,647.529412 L858.352941,602.352941 Z','M361.411765,692.705882 C361.411765,550.369882 451.644235,428.694588 577.897412,381.952 C593.197176,347.557647 602.352941,309.308235 602.352941,271.058824 C602.352941,121.374118 602.352941,0 421.647059,0 C240.941176,0 240.941176,121.374118 240.941176,271.058824 C240.941176,364.303059 294.972235,457.487059 361.411765,494.893176 L361.411765,544.587294 C157.033412,561.272471 0,661.684706 0,783.058824 L373.940706,783.058824 C365.808941,754.326588 361.411765,724.028235 361.411765,692.705882']},Unable:{viewBox:'0 0 1024 1024',paths:['M384 736c0-151.234 95.874-280.486 230.032-330.2 16.28-36.538 25.968-77.164 25.968-117.8 0-159.058 0-288-192-288s-192 128.942-192 288c0 99.060 57.502 198.104 128 237.832v52.78c-217.102 17.748-384 124.42-384 253.388h397.306c-8.664-30.53-13.306-62.732-13.306-96z','M736 448c-159.058 0-288 128.942-288 288s128.942 288 288 288c159.056 0 288-128.942 288-288s-128.942-288-288-288zM889.456 838.544c14.060 14.058 14.060 36.852 0 50.91-7.030 7.030-16.242 10.546-25.456 10.546s-18.426-3.516-25.456-10.544l-102.544-102.546-102.544 102.544c-7.030 7.030-16.242 10.546-25.456 10.546s-18.426-3.516-25.456-10.544c-14.060-14.058-14.060-36.852 0-50.91l102.546-102.546-102.544-102.544c-14.060-14.058-14.060-36.852 0-50.91 14.058-14.058 36.852-14.058 50.91 0l102.544 102.544 102.544-102.544c14.058-14.058 36.852-14.058 50.91 0 14.060 14.058 14.060 36.852 0 50.91l-102.544 102.544 102.546 102.544z']},Arrived:{viewBox:'0 0 1408 1024',paths:['M768 705.306v-13.256c92.524-35.408 160-145.59 160-276.050 0-159.058-100.29-288-224-288-123.712 0-224 128.942-224 288 0 130.46 67.476 240.642 160 276.050v13.256c-217.102 8.874-384 62.21-384 126.694v128h896v-128c0-64.484-166.898-117.82-384-126.694z','M1152 448.592v-5.078c73.032-20.754 128-111.146 128-219.514 0-123.712-71.634-224-160-224s-160 100.288-160 224c0 108.37 54.968 198.76 128 219.514v5.078c-31.81 1.172-62.054 4.074-89.878 8.412-6.28 68.208-28.092 131.24-61.738 182.996h471.616v-96c0-49.414-112.006-90.1-256-95.408z','M409.878 457.004c-27.824-4.338-58.070-7.24-89.878-8.412v-5.078c73.032-20.754 128-111.146 128-219.514 0-123.712-71.634-224-160-224s-160 100.288-160 224c0 108.37 54.968 198.76 128 219.514v5.078c-143.994 5.308-256 45.994-256 95.408v96h471.618c-33.646-51.756-55.458-114.788-61.74-182.996z']},StandIn:{viewBox:'0 0 1024 1024',paths:['M768 770.614v-52.782c70.496-39.728 128-138.772 128-237.832 0-159.058 0-288-192-288s-192 128.942-192 288c0 99.060 57.502 198.104 128 237.832v52.782c-217.102 17.746-384 124.418-384 253.386h896c0-128.968-166.898-235.64-384-253.386z','M207.498 616c-13.554 4.938-26.606 10.284-39.116 16h306.044c-2.456-5.294-4.79-10.628-6.99-16h-259.938z','M27.2 744c-3.366 5.254-6.438 10.59-9.208 16h373.4c12.264-5.682 24.928-11.022 37.958-16h-402.15z','M87.52 680c-6.71 5.188-13.088 10.524-19.112 16h443.694c-3.82-5.202-7.53-10.532-11.108-16h-413.474z','M336.676 584c-27.154 3.968-53.32 9.344-78.23 16h202.854c-1.9-5.306-3.67-10.64-5.32-16h-119.304z','M384 552v16h67.426c-1.378-5.316-2.614-10.652-3.746-16h-63.68z','M374.466 520c3.152 2.048 6.326 4.024 9.536 5.832v10.168h60.63c-0.876-5.326-1.588-10.662-2.218-16h-67.948z','M1.946 808c-0.862 5.288-1.416 10.624-1.704 16h288.084c6.556-5.46 13.394-10.798 20.526-16h-306.906z','M109.986 664h381.106c-1.562-2.676-3.096-5.376-4.598-8.106-1.44-2.616-2.818-5.254-4.192-7.894h-345.738c-9.252 5.114-18.122 10.452-26.578 16z','M256.34 232c-0.098 5.282-0.166 10.618-0.216 16h213.696c0.264-0.586 0.512-1.178 0.782-1.762 2.252-4.892 4.66-9.628 7.186-14.238h-221.448z','M10.782 776c-2.060 5.274-3.842 10.608-5.322 16h326.984c8.732-5.54 17.75-10.89 27.1-16h-348.762z','M297.16 56h301.654c-4.488-5.72-9.462-11.068-14.986-16h-271.662c-5.526 4.936-10.514 10.276-15.006 16z','M38.546 728h438.050c16.396-4.888 33.202-9.278 50.39-13.086-0.81-0.958-1.6-1.946-2.404-2.914h-472.378c-4.866 5.228-9.424 10.564-13.658 16z','M336.34 488c5.438 5.694 11.048 11.046 16.822 16h87.716c-0.378-5.336-0.616-10.67-0.744-16h-103.794z','M310.266 456c3.854 5.524 7.852 10.872 12.002 16h117.734c0.002-5.354 0.008-10.688 0.024-16h-129.76z','M272.352 104c-1.698 5.182-3.216 10.52-4.58 16h360.458c-1.364-5.486-2.902-10.812-4.602-16h-351.276z','M264.302 136c-0.982 5.226-1.852 10.558-2.616 16h296.024c11.48-6.244 23.802-11.582 36.966-16h-330.374z','M257.386 200c-0.262 5.272-0.48 10.602-0.652 16h230.738c3.722-5.576 7.678-10.908 11.862-16h-241.948z','M259.756 168c-0.54 5.25-1.002 10.586-1.396 16h255.65c5.878-5.714 12.116-11.048 18.712-16h-272.966z','M375.446 8c-15.558 3.962-29.090 9.342-40.86 16h226.826c-11.78-6.666-25.348-12.036-40.928-16h-145.038z','M290.816 424c2.872 5.456 5.888 10.792 9.042 16h140.258c0.048-5.36 0.116-10.694 0.21-16h-149.51z','M286.394 72c-2.942 5.11-5.602 10.446-8.002 16h339.206c-2.4-5.556-5.070-10.888-8.012-16h-323.192z','M265.736 360c1.44 5.384 3.040 10.718 4.768 16h171.696c0.352-5.376 0.766-10.708 1.242-16h-177.706z','M276.234 392c2.106 5.414 4.356 10.75 6.746 16h157.726c0.16-5.368 0.36-10.7 0.604-16h-165.076z','M256.026 264c-0.016 5.294-0.024 10.628-0.026 16h201.92c1.63-5.412 3.41-10.746 5.352-16h-207.246z','M256.146 296c0.166 5.342 0.512 10.676 0.998 16h192.916c1.052-5.398 2.228-10.728 3.514-16h-197.428z','M259.072 328c0.806 5.36 1.742 10.698 2.848 16h183.186c0.642-5.382 1.36-10.718 2.172-16h-188.206z']},OffDuty:{viewBox:'0 0 1024 1024',paths:['M384 736c0-151.234 95.874-280.486 230.032-330.2 16.28-36.538 25.968-77.164 25.968-117.8 0-159.058 0-288-192-288s-192 128.942-192 288c0 99.060 57.502 198.104 128 237.832v52.78c-217.102 17.748-384 124.42-384 253.388h397.306c-8.664-30.53-13.306-62.732-13.306-96z','M736 448c-159.058 0-288 128.942-288 288s128.942 288 288 288c159.056 0 288-128.942 288-288s-128.942-288-288-288zM512 736c0-123.71 100.29-224 224-224 48.862 0 94.062 15.656 130.88 42.208l-312.67 312.672c-26.554-36.818-42.21-82.018-42.21-130.88zM736 960c-48.862 0-94.062-15.656-130.88-42.208l312.672-312.672c26.552 36.818 42.208 82.018 42.208 130.88 0 123.71-100.288 224-224 224z']}},A.UI={Tick:{viewBox:'0 0 1024 1024',paths:['M864 128l-480 480-224-224-160 160 384 384 640-640z']},Cross:{viewBox:'0 0 1024 1024',paths:['M1014.662 822.66c-0.004-0.004-0.008-0.008-0.012-0.010l-310.644-310.65 310.644-310.65c0.004-0.004 0.008-0.006 0.012-0.010 3.344-3.346 5.762-7.254 7.312-11.416 4.246-11.376 1.824-24.682-7.324-33.83l-146.746-146.746c-9.148-9.146-22.45-11.566-33.828-7.32-4.16 1.55-8.070 3.968-11.418 7.31 0 0.004-0.004 0.006-0.008 0.010l-310.648 310.652-310.648-310.65c-0.004-0.004-0.006-0.006-0.010-0.010-3.346-3.342-7.254-5.76-11.414-7.31-11.38-4.248-24.682-1.826-33.83 7.32l-146.748 146.748c-9.148 9.148-11.568 22.452-7.322 33.828 1.552 4.16 3.97 8.072 7.312 11.416 0.004 0.002 0.006 0.006 0.010 0.010l310.65 310.648-310.65 310.652c-0.002 0.004-0.006 0.006-0.008 0.010-3.342 3.346-5.76 7.254-7.314 11.414-4.248 11.376-1.826 24.682 7.322 33.83l146.748 146.746c9.15 9.148 22.452 11.568 33.83 7.322 4.16-1.552 8.070-3.97 11.416-7.312 0.002-0.004 0.006-0.006 0.010-0.010l310.648-310.65 310.648 310.65c0.004 0.002 0.008 0.006 0.012 0.008 3.348 3.344 7.254 5.762 11.414 7.314 11.378 4.246 24.684 1.826 33.828-7.322l146.746-146.748c9.148-9.148 11.57-22.454 7.324-33.83-1.552-4.16-3.97-8.068-7.314-11.414z']}},A.INCIDENT_ALERT={BellFilled:{viewBox:'0 0 1024 1024',paths:['M512 192c-35.346 0-64-28.654-64-64v-64c0-35.346 28.654-64 64-64s64 28.654 64 64v64c0 35.346-28.654 64-64 64z','M800 704h-32v-192c0-141.384-114.614-256-256-256-141.384 0-256 114.616-256 256v192h-32c-17.672 0-32 14.326-32 32v128c0 17.674 14.328 32 32 32h576c17.674 0 32-14.326 32-32v-128c0-17.674-14.326-32-32-32z','M864 1024h-704c-17.672 0-32-14.326-32-32s14.328-32 32-32h704c17.674 0 32 14.326 32 32s-14.326 32-32 32z','M192 256c-16.378 0-32.758-6.248-45.254-18.746l-64-64c-24.994-24.994-24.994-65.516 0-90.51s65.516-24.994 90.51 0l64 64c24.994 24.994 24.994 65.516 0 90.51-12.498 12.498-28.876 18.746-45.256 18.746z','M128 576h-64c-35.346 0-64-28.654-64-64s28.654-64 64-64h64c35.346 0 64 28.654 64 64s-28.654 64-64 64z','M832 256c-16.378 0-32.758-6.248-45.254-18.746-24.994-24.994-24.994-65.516 0-90.51l64-64c24.992-24.994 65.516-24.994 90.508 0 24.994 24.994 24.994 65.516 0 90.51l-64 64c-12.496 12.498-28.874 18.746-45.254 18.746z','M960 576h-64c-35.346 0-64-28.654-64-64s28.654-64 64-64h64c35.346 0 64 28.654 64 64s-28.654 64-64 64z']},PatientType:{viewBox:'0 0 1024 1024',paths:['M416 96c0-53.018 42.98-96 96-96s96 42.982 96 96c0 53.020-42.98 96-96 96s-96-42.98-96-96z','M640 320l329.596-142.172-23.77-59.424-401.826 137.596h-64l-401.826-137.596-23.77 59.424 329.596 142.172v256l-131.27 424.57 59.84 22.7 185.716-415.27h27.428l185.716 415.27 59.84-22.7-131.27-424.57z']},WarningTriangle:{viewBox:'0 0 1024 1024',paths:['M585.143 785.714v-108.571c0-10.286-8-18.857-18.286-18.857h-109.714c-10.286 0-18.286 8.571-18.286 18.857v108.571c0 10.286 8 18.857 18.286 18.857h109.714c10.286 0 18.286-8.571 18.286-18.857zM584 572l10.286-262.286c0-3.429-1.714-8-5.714-10.857-3.429-2.857-8.571-6.286-13.714-6.286h-125.714c-5.143 0-10.286 3.429-13.714 6.286-4 2.857-5.714 8.571-5.714 12l9.714 261.143c0 7.429 8.571 13.143 19.429 13.143h105.714c10.286 0 18.857-5.714 19.429-13.143zM576 38.286l438.857 804.571c12.571 22.286 12 49.714-1.143 72s-37.143 36-62.857 36h-877.714c-25.714 0-49.714-13.714-62.857-36s-13.714-49.714-1.143-72l438.857-804.571c12.571-23.429 37.143-38.286 64-38.286s51.429 14.857 64 38.286z']},Watermark:{viewBox:'0 0 1346 2402',paths:['M1280.5,3386 C677.128911,3386 188,2896.87109 188,2293.5 C188,1690.12891 677.128911,1201 1280.5,1201 C1883.87109,1201 2373,1690.12891 2373,2293.5 C2373,2896.87109 1883.87109,3386 1280.5,3386 Z M1279.5,3317 C1829.29947,3317 2275,2871.29947 2275,2321.5 C2275,1771.70053 1829.29947,1326 1279.5,1326 C729.700532,1326 284,1771.70053 284,2321.5 C284,2871.29947 729.700532,3317 1279.5,3317 Z','M1246,3188 C752.257434,3188 352,2802.96488 352,2328 C352,1853.03512 752.257434,1468 1246,1468 C1739.74257,1468 2140,1853.03512 2140,2328 C2140,2802.96488 1739.74257,3188 1246,3188 Z M1244.4407,3134 C1694.26314,3134 2058.91628,2783.2151 2058.91628,2350.5 C2058.91628,1917.7849 1694.26314,1567 1244.4407,1567 C794.618255,1567 429.965116,1917.7849 429.965116,2350.5 C429.965116,2783.2151 794.618255,3134 1244.4407,3134 Z','M1229.5,3067 C821.085428,3067 490,2756.50947 490,2373.5 C490,1990.49053 821.085428,1680 1229.5,1680 C1637.91457,1680 1969,1990.49053 1969,2373.5 C1969,2756.50947 1637.91457,3067 1229.5,3067 Z M1229,3023 C1601.23992,3023 1903,2740.04396 1903,2391 C1903,2041.95604 1601.23992,1759 1229,1759 C856.760079,1759 555,2041.95604 555,2391 C555,2740.04396 856.760079,3023 1229,3023 Z','M1236.5,2916 C884.418472,2916 599,2676.24848 599,2380.5 C599,2084.75152 884.418472,1845 1236.5,1845 C1588.58153,1845 1874,2084.75152 1874,2380.5 C1874,2676.24848 1588.58153,2916 1236.5,2916 Z M1236.5,2880 C1557.1013,2880 1817,2661.73882 1817,2392.5 C1817,2123.26118 1557.1013,1905 1236.5,1905 C915.898703,1905 656,2123.26118 656,2392.5 C656,2661.73882 915.898703,2880 1236.5,2880 Z','M1224.5,2815 C932.61751,2815 696,2627.40731 696,2396 C696,2164.59269 932.61751,1977 1224.5,1977 C1516.38249,1977 1753,2164.59269 1753,2396 C1753,2627.40731 1516.38249,2815 1224.5,2815 Z M1225,2786 C1490.64896,2786 1706,2615.42049 1706,2405 C1706,2194.57951 1490.64896,2024 1225,2024 C959.351035,2024 744,2194.57951 744,2405 C744,2615.42049 959.351035,2786 1225,2786 Z']}}})(I=E.Icons||(E.Icons={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.ChangeSeverity='change-severity']='ChangeSeverity'})(I=E.IncidentAction||(E.IncidentAction={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Closed=0]='Closed',A[A.Open=1]='Open'})(I=E.IncidentStatus||(E.IncidentStatus={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Pending=0]='Pending',A[A.Ready=1]='Ready',A[A.Failed=2]='Failed'})(I=E.ReportStatus||(E.ReportStatus={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Arrived='arrived']='Arrived'})(I=E.ResponderState||(E.ResponderState={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.StandInArranged='stand-in-arranged']='StandInArranged'})(I=E.ResponseCollectionState||(E.ResponseCollectionState={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Transmitted='transmitted']='Transmitted',A[A.Received='received']='Received',A[A.Displayed='displayed']='Displayed',A[A.Unable='unable']='Unable',A[A.Attending='attending']='Attending',A[A.Acknowledged='acknowledged']='Acknowledged',A[A.Arrived='arrived']='Arrived',A[A.StandIn='standin']='StandIn',A[A.OffDuty='offduty']='OffDuty'})(I=E.ResponseStatus||(E.ResponseStatus={}))},function(L,E){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var I;(function(A){A[A.Add='add']='Add',A[A.Remove='remove']='Remove',A[A.Update='update']='Update'})(I=E.StateChangeType||(E.StateChangeType={}))},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(B,z,W,J){return new(W||(W=Promise))(function(G,$){function K(Z){try{Q(J.next(Z))}catch(ee){$(ee)}}function X(Z){try{Q(J['throw'](Z))}catch(ee){$(ee)}}function Q(Z){Z.done?G(Z.value):new W(function(ee){ee(Z.value)}).then(K,X)}Q((J=J.apply(B,z||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(89),N=R(12);class H extends A.BaseStore{constructor(B,z,W){super(B,z),this.SCHEMA_VERSION=1,this._config=W}init(){const B=(z)=>super[z];return I(this,void 0,void 0,function*(){yield B('init').call(this),this.state.schemaVersion===this.SCHEMA_VERSION?this.logger.log(N.LoggerTypes.DataStorage,` %cSTATE IS USING EXPECTED SCHEMA VERSION: %c${this.state.schemaVersion}`,'color: #606; font-weight: bold;','color: #999; font-weight: normal;'):this.state.schemaVersion<this.SCHEMA_VERSION?this.logger.log(N.LoggerTypes.DataStorage,` %cSTATE IS USING OLD SCHEMA VERSION:`,'color: #C00; font-weight: bold;',{current:this.state.schemaVersion,expected:this.SCHEMA_VERSION}):this.logger.log(N.LoggerTypes.DataStorage,` %cSTATE IS NEWER THAN EXPECTED SCHEMA VERSION:`,'color: #C00; font-weight: bold;',{current:this.state.schemaVersion,expected:this.SCHEMA_VERSION})})}getIncidents(){return I(this,void 0,void 0,function*(){return this.state.incidents||[]})}addIncident(B){return I(this,void 0,void 0,function*(){this.state.incidents=[B,...this.state.incidents],this.saveToPersistent()})}updateIncident(B){return I(this,void 0,void 0,function*(){this.state.incidents=(this.state.incidents||[]).map((z)=>{return z.id===B.id?Object.assign({},B):Object.assign({},z)}),this.saveToPersistent()})}purgeIncidentsOlderThanDate(B){return I(this,void 0,void 0,function*(){B&&(this.state.incidents=(this.state.incidents||[]).filter((z)=>z.opened.date>=B),this.saveToPersistent())})}getPendingAlerts(){return I(this,void 0,void 0,function*(){return this.state.pendingAlerts||[]})}addPendingAlert(B){return I(this,void 0,void 0,function*(){if(!(this.state.pendingAlerts||[]).includes(B)){const z=(this._config.behaviour&&this._config.behaviour.incidentAlertSequence||'fifo').toLowerCase();switch(z){case'fifo':this.state.pendingAlerts=[...this.state.pendingAlerts,B];break;case'lifo':this.state.pendingAlerts=[B,...this.state.pendingAlerts];break;case'mro':this.state.pendingAlerts=[B];break;default:throw new Error(`Unrecognised incidentAlertSequence: ${z}`);}this.saveToPersistent()}})}removePendingAlert(B){return I(this,void 0,void 0,function*(){this.state.pendingAlerts=(this.state.pendingAlerts||[]).filter((z)=>z!==B),this.saveToPersistent()})}getReports(){return I(this,void 0,void 0,function*(){return this.state.reports||[]})}addReport(B){return I(this,void 0,void 0,function*(){this.state.reports=[B,...this.state.reports],this.saveToPersistent()})}updateReport(B){return I(this,void 0,void 0,function*(){this.state.reports=(this.state.reports||[]).map((z)=>{return z.id===B.id?Object.assign({},B):Object.assign({},z)}),this.saveToPersistent()})}purgeReportsOlderThanDate(B){return I(this,void 0,void 0,function*(){B&&(this.state.reports=(this.state.reports||[]).filter((z)=>z.requested.date>=B),this.saveToPersistent())})}clearIncidentData(){return I(this,void 0,void 0,function*(){this.state.incidents=[],this.state.pendingAlerts=[],this.state.reports=[],yield this.saveToPersistent()})}generateInitialState(){return{_id:this.name,_rev:'',schemaVersion:this.SCHEMA_VERSION,incidents:[],pendingAlerts:[],reports:[]}}}E.Store=H},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(20),N=R(7),H=R(1),B=R(21),z=R(5);class W extends A.IncidentViewBase{constructor(J,G){super(J);const $={headerOptions:B.IncidentHeader.getDefaultOptions({showCurrentUserResponse:!0})};this.hostComponent=J,this._options=z.mergeDeep({},$,G)}initialize(){return I(this,void 0,void 0,function*(){})}setupListeners(){this.hostComponent.addListener(H.IncidentEvents.ConnectionStatusChange,()=>{this.redrawComponent()})}renderStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host .incident{background-color:var(--incident-list-incident-bg, #fff);color:var(--incident-list-incident-text, #000);border-top:1px solid var(--incident-list-incident-border-color, #f2f2f2);margin:0 0 10px 0}:host .incident :host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host .incident :host h1,:host .incident :host h2,:host .incident :host h3,:host .incident :host h4,:host .incident :host h5,:host .incident :host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host .incident :host,:host .incident :host *{box-sizing:border-box}:host .incident .user-html p{margin:0}:host .incident .user-html p+p{margin:.8em 0 0 0}:host .incident .user-html strong{font-weight:600}:host .incident .header{position:relative;display:flex;align-items:stretch;padding:10px 10px 10px 0;font-size:18px}:host .incident .header .header-group{display:flex;flex-direction:row;align-items:flex-start;flex:0 0}:host .incident .header .header-group.header-group-details{flex:1 1;flex-wrap:wrap;align-items:center}:host .incident .header .header-item{display:flex;flex:none}:host .incident .header .header-item .header-item-content .heading{color:#9b9b9b;font-size:10px;font-weight:300}:host .incident .header .header-item .header-item-content .heading.right{text-align:right}:host .incident .header .header-item.data-item{padding:0 10px}:host .incident .header .header-item.data-item .header-item-content .heading{margin-bottom:0.1em}:host .incident .header .header-item.data-item .header-item-content .text{line-height:0.9em;margin-bottom:0.5em}:host .incident .header .header-item.header-spacer{display:none}:host .incident .header .header-item.severity{flex:0 0;flex-basis:var(--incident-header-severity-width, 170px);font-size:20px}:host .incident .header .header-item.location{flex:0 0;flex-basis:var(--incident-header-location-width, 230px)}:host .incident .header .header-item.priority{flex:0 0;flex-basis:var(--incident-header-priority-width, 130px)}:host .incident .header .header-item.patient-type{flex:0 0;flex-basis:var(--incident-header-patient-type-width, 130px)}:host .incident .header .header-item.creator{flex:0 0;flex-basis:var(--incident-header-creator-width, 190px)}:host .incident .header .header-item.severity-change{flex:0 0;flex-basis:var(--incident-header-severity-change-width, 150px)}:host .incident .header .header-item.opened{flex:0 0 100px}:host .incident .header .header-item.actions{margin:3px 0 0 0;flex:0 0 240px}:host .incident .header .header-item.actions ct-button{width:115px;font-size:14px;background:#ffffff}:host .incident .header .header-item.actions ct-button+ct-button{margin:0 0 0 6px}:host .incident .header.inline{flex-direction:row}:host .incident .header.inline .header-item.header-spacer{display:block;flex:1}:host .incident .header.inline .header-item.header-end{justify-content:flex-end;margin-left:auto}:host .incident .header.inline .data-item{flex-direction:column}@media screen and (max-width: 1120px){:host .incident .header.inline .header-group.header-group-details{align-items:flex-start}:host .incident .header.inline .header-item.header-spacer{display:none}:host .incident .header.inline .header-item.actions{flex:0 0 120px;flex-wrap:wrap}:host .incident .header.inline .header-item.actions ct-button+ct-button{margin:6px 0 0 0}}:host .incident .header.stacked{flex-direction:column;align-items:flex-start;padding-bottom:0}:host .incident .header.stacked .header-group{flex-direction:column;align-items:flex-start}:host .incident .header.stacked .header-item{display:block;margin:0 0 10px 0;flex:none}:host .incident .header.stacked .header-item:not(.severity){padding:0 0 0 20px}:host .incident .header.stacked .header-item .header-item-content .heading,:host .incident .header.stacked .header-item .header-item-content .heading.right{text-align:left}:host .incident .header.stacked .header-spacer{display:none}:host .incident .header.mobile{padding:0;flex-direction:column}:host .incident .header.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;flex:1;border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2)}:host .incident .header.mobile .mobile-header-row .header-item{display:flex;align-items:center;font-size:14px;border-left:1px solid var(--incident-list-incident-border-color, #f2f2f2);border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2);padding:10px 8px;margin-bottom:-1px;min-width:33%;min-height:48px}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content{display:block}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .heading{margin:0 0 3px 0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .text{margin:0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item.severity{flex:0 0 130px;min-width:130px;font-size:15px;padding:0}:host .incident .header.mobile .mobile-header-row .header-item.location{flex:1 1;border-left:0}:host .incident .header.mobile .mobile-header-row .header-item.opened{flex:0 0 50px;min-width:50px;padding-top:0;padding-bottom:0;justify-content:center;font-size:18px;font-weight:600}:host .incident .header.mobile .mobile-header-row .header-item.opened ct-il-time-diff-display{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.opened .label{color:#9b9b9b;font-size:10px;font-weight:300;line-height:0.9em;text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.closed{flex:0 0 55px;min-width:55px;text-align:center;justify-content:center}:host .incident .header.mobile .mobile-header-row .header-item.closed .header-item-content .heading{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.user-response{flex:0 0 125px;min-width:125px}:host .incident .header.mobile .mobile-header-row .header-item.user-response+.priority{max-width:100%}:host .incident .header.mobile .mobile-header-row .header-item.priority{flex:1 1;min-width:90px;max-width:130px}:host .incident .header.mobile .mobile-header-row .header-item.patient-type,:host .incident .header.mobile .mobile-header-row .header-item.creator{flex:1}:host .incident .header.mobile .mobile-header-row .header-item.severity-change{flex:0 0 145px}:host .incident .header.mobile .mobile-header-row .header-item.actions{flex:1 1;margin:0;justify-content:flex-end}:host .incident .header.mobile .mobile-header-row .header-item:first-child,:host .incident .header.mobile .mobile-header-row .header-item:nth-child(3n+1){border-left:0}:host .incident .header.closed.mobile{padding:0;flex-direction:column}:host .incident .header.closed.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;flex:1;border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .header.closed.mobile .mobile-header-row .header-item{border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident.closed{background-color:var(--incident-list-closed-incident-bg, #f2f2f2);color:var(--incident-list-incident-closed-text, #000);border-top:1px solid var(--incident-list-closed-incident-border-color, #fff)}:host(:first-child) .incident{border-top:0}:host(:first-child) .incident.closed{border-top:0}
        `}renderIncident(J){const G=['incident',`severity-${J.severity.id}`,`priority-${J.priority.id}`];return J.status===N.IncidentStatus.Closed&&G.push('closed'),J.isTestIncident&&G.push('test'),window.__CTRender('div',{class:G.join(' ')},this._renderHeader(J))}_renderHeader(J){return B.IncidentHeader.generateMobileHeader(this.hostComponent,J,this._options.headerOptions,!0,null)}}E.ResponderSummaryMobileIncidentView=W},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(K,X,Q,Z){return new(Q||(Q=Promise))(function(ee,te){function ne(de){try{se(Z.next(de))}catch(ie){te(ie)}}function ae(de){try{se(Z['throw'](de))}catch(ie){te(ie)}}function se(de){de.done?ee(de.value):new Q(function(ie){ie(de.value)}).then(ne,ae)}se((Z=Z.apply(K,X||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(1),N=R(20),H=R(7),B=R(11),z=R(21),W=R(5),J=R(4),G=R(17);class $ extends N.IncidentViewBase{constructor(K,X){super(K);const Q={headerOptions:z.IncidentHeader.getDefaultOptions(),showRespondents:!0,respondentOrderBy:'as_supplied',respondentOrderByReverse:!1,respondentStatusFilter:'all',showArrivedStatus:!0,showStandInStatus:!0,showIndividualResponses:!1};this._options=W.mergeDeep({},Q,X)}initialize(){return I(this,void 0,void 0,function*(){})}setupListeners(){this.addListener(A.IncidentEvents.ConnectionStatusChange,()=>{this.redrawComponent()})}renderStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block;margin:10px 0 0 0}:host .incident{background-color:var(--incident-list-incident-bg, #fff);color:var(--incident-list-incident-text, #000)}:host .incident :host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host .incident :host h1,:host .incident :host h2,:host .incident :host h3,:host .incident :host h4,:host .incident :host h5,:host .incident :host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host .incident :host,:host .incident :host *{box-sizing:border-box}:host .incident .user-html p{margin:0}:host .incident .user-html p+p{margin:.8em 0 0 0}:host .incident .user-html strong{font-weight:600}:host .incident .header{position:relative;display:flex;align-items:stretch;padding:10px 10px 10px 0;font-size:18px}:host .incident .header .header-group{display:flex;flex-direction:row;align-items:flex-start;flex:0 0}:host .incident .header .header-group.header-group-details{flex:1 1;flex-wrap:wrap;align-items:center}:host .incident .header .header-item{display:flex;flex:none}:host .incident .header .header-item .header-item-content .heading{color:#9b9b9b;font-size:10px;font-weight:300}:host .incident .header .header-item .header-item-content .heading.right{text-align:right}:host .incident .header .header-item.data-item{padding:0 10px}:host .incident .header .header-item.data-item .header-item-content .heading{margin-bottom:0.1em}:host .incident .header .header-item.data-item .header-item-content .text{line-height:0.9em;margin-bottom:0.5em}:host .incident .header .header-item.header-spacer{display:none}:host .incident .header .header-item.severity{flex:0 0;flex-basis:var(--incident-header-severity-width, 170px);font-size:20px}:host .incident .header .header-item.location{flex:0 0;flex-basis:var(--incident-header-location-width, 230px)}:host .incident .header .header-item.priority{flex:0 0;flex-basis:var(--incident-header-priority-width, 130px)}:host .incident .header .header-item.patient-type{flex:0 0;flex-basis:var(--incident-header-patient-type-width, 130px)}:host .incident .header .header-item.creator{flex:0 0;flex-basis:var(--incident-header-creator-width, 190px)}:host .incident .header .header-item.severity-change{flex:0 0;flex-basis:var(--incident-header-severity-change-width, 150px)}:host .incident .header .header-item.opened{flex:0 0 100px}:host .incident .header .header-item.actions{margin:3px 0 0 0;flex:0 0 240px}:host .incident .header .header-item.actions ct-button{width:115px;font-size:14px;background:#ffffff}:host .incident .header .header-item.actions ct-button+ct-button{margin:0 0 0 6px}:host .incident .header.inline{flex-direction:row}:host .incident .header.inline .header-item.header-spacer{display:block;flex:1}:host .incident .header.inline .header-item.header-end{justify-content:flex-end;margin-left:auto}:host .incident .header.inline .data-item{flex-direction:column}@media screen and (max-width: 1120px){:host .incident .header.inline .header-group.header-group-details{align-items:flex-start}:host .incident .header.inline .header-item.header-spacer{display:none}:host .incident .header.inline .header-item.actions{flex:0 0 120px;flex-wrap:wrap}:host .incident .header.inline .header-item.actions ct-button+ct-button{margin:6px 0 0 0}}:host .incident .header.stacked{flex-direction:column;align-items:flex-start;padding-bottom:0}:host .incident .header.stacked .header-group{flex-direction:column;align-items:flex-start}:host .incident .header.stacked .header-item{display:block;margin:0 0 10px 0;flex:none}:host .incident .header.stacked .header-item:not(.severity){padding:0 0 0 20px}:host .incident .header.stacked .header-item .header-item-content .heading,:host .incident .header.stacked .header-item .header-item-content .heading.right{text-align:left}:host .incident .header.stacked .header-spacer{display:none}:host .incident .header.mobile{padding:0;flex-direction:column}:host .incident .header.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;flex:1;border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2)}:host .incident .header.mobile .mobile-header-row .header-item{display:flex;align-items:center;font-size:14px;border-left:1px solid var(--incident-list-incident-border-color, #f2f2f2);border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2);padding:10px 8px;margin-bottom:-1px;min-width:33%;min-height:48px}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content{display:block}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .heading{margin:0 0 3px 0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .text{margin:0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item.severity{flex:0 0 130px;min-width:130px;font-size:15px;padding:0}:host .incident .header.mobile .mobile-header-row .header-item.location{flex:1 1;border-left:0}:host .incident .header.mobile .mobile-header-row .header-item.opened{flex:0 0 50px;min-width:50px;padding-top:0;padding-bottom:0;justify-content:center;font-size:18px;font-weight:600}:host .incident .header.mobile .mobile-header-row .header-item.opened ct-il-time-diff-display{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.opened .label{color:#9b9b9b;font-size:10px;font-weight:300;line-height:0.9em;text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.closed{flex:0 0 55px;min-width:55px;text-align:center;justify-content:center}:host .incident .header.mobile .mobile-header-row .header-item.closed .header-item-content .heading{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.user-response{flex:0 0 125px;min-width:125px}:host .incident .header.mobile .mobile-header-row .header-item.user-response+.priority{max-width:100%}:host .incident .header.mobile .mobile-header-row .header-item.priority{flex:1 1;min-width:90px;max-width:130px}:host .incident .header.mobile .mobile-header-row .header-item.patient-type,:host .incident .header.mobile .mobile-header-row .header-item.creator{flex:1}:host .incident .header.mobile .mobile-header-row .header-item.severity-change{flex:0 0 145px}:host .incident .header.mobile .mobile-header-row .header-item.actions{flex:1 1;margin:0;justify-content:flex-end}:host .incident .header.mobile .mobile-header-row .header-item:first-child,:host .incident .header.mobile .mobile-header-row .header-item:nth-child(3n+1){border-left:0}:host .incident .header.closed.mobile{padding:0;flex-direction:column}:host .incident .header.closed.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;flex:1;border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .header.closed.mobile .mobile-header-row .header-item{border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .respondents{background:var(--incident-list-incident-respondents-bg, #fff);padding:16px 8px}:host .incident .respondents ul.response-collections{display:flex;list-style-type:none;margin:0;padding:0;flex-wrap:wrap}:host .incident .respondents ul.response-collections li.response-collection{min-width:20%;padding:5px 12px}@media screen and (max-width: 1120px){:host .incident .respondents ul.response-collections li.response-collection{min-width:33%}}@media screen and (max-width: 768px){:host .incident .respondents ul.response-collections li.response-collection{min-width:50%}}@media screen and (max-width: 640px){:host .incident .respondents ul.response-collections li.response-collection{width:100%}}:host .incident .respondents ul.response-collections li.response-collection ul.individual-responses{display:block;list-style-type:none;margin:0;padding:0;font-size:12px}:host .incident .respondents ul.response-collections li.response-collection ul.individual-responses li.individual-response{display:block;margin:5px 0 0 0;padding:0}:host .incident.closed{background-color:var(--incident-list-closed-incident-bg, #f2f2f2);color:var(--incident-list-incident-closed-text, #000)}:host .incident.closed .respondents{background-color:var(--incident-list-closed-incident-respondents-bg, #fff)}:host(:first-child){margin-top:0}
        `}renderIncident(K){const X=['incident',`severity-${K.severity.id}`,`priority-${K.priority.id}`];return K.status===H.IncidentStatus.Closed&&X.push('closed'),K.isTestIncident&&X.push('test'),window.__CTRender('div',{class:X.join(' ')},this._renderHeader(K),J.renderIf(this._options.showRespondents,this._renderRespondents(K)))}_renderHeader(K){return z.IncidentHeader.generateHeader(this.hostComponent,K,this._options.headerOptions)}_renderRespondents(K){const X=this._getResponseCollections(K);return window.__CTRender('div',{class:'respondents'},window.__CTRender('ul',{class:'response-collections'},X.map((Q)=>{let Z=Q.status||H.ResponseStatus.Transmitted,ee=Q.date||K.opened.date;const te=Q.collectionState.find((ae)=>ae.state===H.ResponseCollectionState.StandInArranged)||null,ne=Q.state.find((ae)=>ae.state===H.ResponderState.Arrived)||null;return this._options.showStandInStatus&&null!==te?(Z=H.ResponseStatus.StandIn,ee=te.date):this._options.showArrivedStatus&&null!==ne&&(Z=H.ResponseStatus.Arrived,ee=ne.date),window.__CTRender('li',{class:'response-collection'},window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'primary',label:Q.name,status:Z,date:ee}),J.renderIf(this._options.showIndividualResponses,this._renderIndividualResponses(Q)))})))}_renderIndividualResponses(K){return window.__CTRender('ul',{class:'individual-responses'},K.responses.map((X)=>window.__CTRender('li',{class:'individual-response'},window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'simple',iconWidth:'12px',iconHeight:'12px',label:X.responder.name,status:X.status||H.ResponseStatus.Transmitted,date:X.date}))))}_getResponseCollections(K){let X=[...(K.responses||[])];return X=B.filterIncidentResponses(X,'status',this._options.respondentStatusFilter),X=B.orderIncidentRespondents(X,this._options.respondentOrderBy,this._options.respondentOrderByReverse),X}}E.ResponseSummaryIncidentView=$},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(ee,te,ne,ae){return new(ne||(ne=Promise))(function(se,de){function ie(ue){try{le(ae.next(ue))}catch(_e){de(_e)}}function oe(ue){try{le(ae['throw'](ue))}catch(_e){de(_e)}}function le(ue){ue.done?se(ue.value):new ne(function(_e){_e(ue.value)}).then(ie,oe)}le((ae=ae.apply(ee,te||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(3),N=R(20),H=R(1),B=R(7),z=R(11),W=R(41),J=R(5),G=R(4),$=R(18),K=R(17),X=R(21),Q=R(2);class Z extends N.IncidentViewBase{constructor(ee,te){super(ee);const ne={collapseMode:'summary',headerOptions:X.IncidentHeader.getDefaultOptions({allowSeverityChange:!0,allowClose:!0}),showRespondents:!0,respondentOrderBy:'as_supplied',respondentOrderByReverse:!1,respondentStatusFilter:'all',showRespondentOnlineStatus:!0,showRespondentCurrentOnCallStatus:!0,allowFlagArrived:!0,allowFlagStandIn:!0};this._options=J.mergeDeep({},ne,te)}initialize(){return I(this,void 0,void 0,function*(){this._users=yield this.layer.getOnCallUsers(),this._connectionStatus=this.layer.getConnectionStatus();const ee='detail'===this._options.collapseMode;this._headerExpanded=!1,this._incidentExpanded=ee,this._responseExpanded={}})}setupListeners(){this.addListener(H.IncidentEvents.ConnectionStatusChange,()=>{this._connectionStatus=this.layer.getConnectionStatus(),this.redrawComponent()}),this.addListeners([H.IncidentEvents.OnCallUsersChange,H.IncidentEvents.OtherUserConnectionStatusChange],()=>I(this,void 0,void 0,function*(){this._users=yield this.layer.getOnCallUsers(),this.redrawComponent()}))}renderStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host .incident{background-color:var(--incident-list-incident-bg, #fff);color:var(--incident-list-incident-text, #000)}:host .incident :host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host .incident :host h1,:host .incident :host h2,:host .incident :host h3,:host .incident :host h4,:host .incident :host h5,:host .incident :host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host .incident :host,:host .incident :host *{box-sizing:border-box}:host .incident .user-html p{margin:0}:host .incident .user-html p+p{margin:.8em 0 0 0}:host .incident .user-html strong{font-weight:600}:host .incident .header{position:relative;display:flex;align-items:stretch;padding:10px 10px 10px 0;font-size:18px}:host .incident .header .header-group{display:flex;flex-direction:row;align-items:flex-start;flex:0 0}:host .incident .header .header-group.header-group-details{flex:1 1;flex-wrap:wrap;align-items:center}:host .incident .header .header-item{display:flex;flex:none}:host .incident .header .header-item .header-item-content .heading{color:#9b9b9b;font-size:10px;font-weight:300}:host .incident .header .header-item .header-item-content .heading.right{text-align:right}:host .incident .header .header-item.data-item{padding:0 10px}:host .incident .header .header-item.data-item .header-item-content .heading{margin-bottom:0.1em}:host .incident .header .header-item.data-item .header-item-content .text{line-height:0.9em;margin-bottom:0.5em}:host .incident .header .header-item.header-spacer{display:none}:host .incident .header .header-item.severity{flex:0 0;flex-basis:var(--incident-header-severity-width, 170px);font-size:20px}:host .incident .header .header-item.location{flex:0 0;flex-basis:var(--incident-header-location-width, 230px)}:host .incident .header .header-item.priority{flex:0 0;flex-basis:var(--incident-header-priority-width, 130px)}:host .incident .header .header-item.patient-type{flex:0 0;flex-basis:var(--incident-header-patient-type-width, 130px)}:host .incident .header .header-item.creator{flex:0 0;flex-basis:var(--incident-header-creator-width, 190px)}:host .incident .header .header-item.severity-change{flex:0 0;flex-basis:var(--incident-header-severity-change-width, 150px)}:host .incident .header .header-item.opened{flex:0 0 100px}:host .incident .header .header-item.actions{margin:3px 0 0 0;flex:0 0 240px}:host .incident .header .header-item.actions ct-button{width:115px;font-size:14px;background:#ffffff}:host .incident .header .header-item.actions ct-button+ct-button{margin:0 0 0 6px}:host .incident .header.inline{flex-direction:row}:host .incident .header.inline .header-item.header-spacer{display:block;flex:1}:host .incident .header.inline .header-item.header-end{justify-content:flex-end;margin-left:auto}:host .incident .header.inline .data-item{flex-direction:column}@media screen and (max-width: 1120px){:host .incident .header.inline .header-group.header-group-details{align-items:flex-start}:host .incident .header.inline .header-item.header-spacer{display:none}:host .incident .header.inline .header-item.actions{flex:0 0 120px;flex-wrap:wrap}:host .incident .header.inline .header-item.actions ct-button+ct-button{margin:6px 0 0 0}}:host .incident .header.stacked{flex-direction:column;align-items:flex-start;padding-bottom:0}:host .incident .header.stacked .header-group{flex-direction:column;align-items:flex-start}:host .incident .header.stacked .header-item{display:block;margin:0 0 10px 0;flex:none}:host .incident .header.stacked .header-item:not(.severity){padding:0 0 0 20px}:host .incident .header.stacked .header-item .header-item-content .heading,:host .incident .header.stacked .header-item .header-item-content .heading.right{text-align:left}:host .incident .header.stacked .header-spacer{display:none}:host .incident .header.mobile{padding:0;flex-direction:column}:host .incident .header.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;flex:1;border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2)}:host .incident .header.mobile .mobile-header-row .header-item{display:flex;align-items:center;font-size:14px;border-left:1px solid var(--incident-list-incident-border-color, #f2f2f2);border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2);padding:10px 8px;margin-bottom:-1px;min-width:33%;min-height:48px}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content{display:block}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .heading{margin:0 0 3px 0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .text{margin:0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item.severity{flex:0 0 130px;min-width:130px;font-size:15px;padding:0}:host .incident .header.mobile .mobile-header-row .header-item.location{flex:1 1;border-left:0}:host .incident .header.mobile .mobile-header-row .header-item.opened{flex:0 0 50px;min-width:50px;padding-top:0;padding-bottom:0;justify-content:center;font-size:18px;font-weight:600}:host .incident .header.mobile .mobile-header-row .header-item.opened ct-il-time-diff-display{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.opened .label{color:#9b9b9b;font-size:10px;font-weight:300;line-height:0.9em;text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.closed{flex:0 0 55px;min-width:55px;text-align:center;justify-content:center}:host .incident .header.mobile .mobile-header-row .header-item.closed .header-item-content .heading{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.user-response{flex:0 0 125px;min-width:125px}:host .incident .header.mobile .mobile-header-row .header-item.user-response+.priority{max-width:100%}:host .incident .header.mobile .mobile-header-row .header-item.priority{flex:1 1;min-width:90px;max-width:130px}:host .incident .header.mobile .mobile-header-row .header-item.patient-type,:host .incident .header.mobile .mobile-header-row .header-item.creator{flex:1}:host .incident .header.mobile .mobile-header-row .header-item.severity-change{flex:0 0 145px}:host .incident .header.mobile .mobile-header-row .header-item.actions{flex:1 1;margin:0;justify-content:flex-end}:host .incident .header.mobile .mobile-header-row .header-item:first-child,:host .incident .header.mobile .mobile-header-row .header-item:nth-child(3n+1){border-left:0}:host .incident .header.closed.mobile{padding:0;flex-direction:column}:host .incident .header.closed.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;flex:1;border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .header.closed.mobile .mobile-header-row .header-item{border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .respondents{background-color:var(--incident-list-incident-respondents-bg, #fff);border:5px solid var(--incident-list-incident-border-color, #f2f2f2)}:host .incident .respondents .col-group{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}:host .incident .respondents .col-group .col{padding:6px 3px}:host .incident .respondents .col-group .col.col-status{flex:0 0 32px}:host .incident .respondents .col-group .col.col-role{flex:1 1}:host .incident .respondents .col-group .col.col-time{flex:0 0 50px;text-align:right}:host .incident .respondents .col-group .col.col-response{flex:0 0 32px}:host .incident .respondents ul.response-collections{list-style-type:none;margin:0;padding:0}:host .incident .respondents ul.response-collections li.response{font-size:14px;font-weight:400;margin:0;padding:0 5px;background:var(--incident-list-incident-role-bg, rgba(0,0,0,0));border-bottom:var(--incident-list-incident-role-border, 1px solid #f0f0f0)}:host .incident .respondents ul.response-collections li.response .response-summary .col.col-role{display:flex;align-items:center;font-weight:600}:host .incident .respondents ul.response-collections li.response .response-summary .col.col-role:before{content:'';display:block;height:30px}:host .incident .respondents ul.response-collections li.response .response-detail{display:flex;padding:0 0 10px 35px;justify-content:space-between}:host .incident .respondents ul.response-collections li.response .response-detail .details{flex:1 1;display:flex;flex-direction:column;justify-content:space-between}:host .incident .respondents ul.response-collections li.response .response-detail .details .contact-details{flex:1 1}:host .incident .respondents ul.response-collections li.response .response-detail .details .contact-details .name{padding:0 0 5px 0}:host .incident .respondents ul.response-collections li.response .response-detail .details .contact-details .tel{display:block;padding:0 0 5px 0;color:var(--primary-color, #15233b);text-decoration:none;font-weight:600}:host .incident .respondents ul.response-collections li.response .response-detail .details .actions{flex:none;display:flex;margin:20px 0 0 0}:host .incident .respondents ul.response-collections li.response .response-detail .details .actions ct-button+ct-button{margin:0 0 0 5px}:host .incident .respondents ul.response-collections li.response .response-detail .history{flex:0 0 80px;margin:-6px 0 0 auto}:host .incident .respondents ul.response-collections li.response .response-detail .history .history-item{display:flex;justify-content:flex-end;align-items:center;margin:3px 0}:host .incident .respondents ul.response-collections li.response .response-detail .history .history-item .time,:host .incident .respondents ul.response-collections li.response .response-detail .history .history-item .response{margin:0 3px}:host .incident .respondents ul.response-collections li.response.on-call.support{background:var(--incident-list-incident-support-role-bg, #f6f6f6);border-bottom:var(--incident-list-incident-support-role-border, 1px solid #fff)}:host .incident .respondents ul.response-collections li.response.off-duty{background-size:5px 5px;background-image:linear-gradient(45deg, rgba(0,0,0,0) 46%, #d8d8d8 49%, #d8d8d8 51%, rgba(0,0,0,0) 55%)}:host .incident.closed{background-color:var(--incident-list-closed-incident-bg, #f2f2f2);color:var(--incident-list-incident-closed-text, #000)}:host .incident.closed .respondents{background-color:var(--incident-list-closed-incident-respondents-bg, #fff)}:host .incident.closed .respondents ul.response-collection li.response{background:var(--incident-list-closed-incident-role-bg, rgba(0,0,0,0));border-bottom:var(--incident-list-closed-incident-role-border, 1px solid #f0f0f0)}:host .incident.closed .respondents ul.response-collection li.response.on-call.support{background:var(--incident-list-closed-incident-support-role-bg, #f6f6f6);border-bottom:var(--incident-list-closed-incident-support-role-border, 1px solid #fff)}
        `}renderIncident(ee){const te=['incident',this._options.collapseMode,`severity-${ee.severity.id}`,`priority-${ee.priority.id}`];return ee.status===B.IncidentStatus.Closed&&te.push('closed'),ee.isTestIncident&&te.push('test'),window.__CTRender('div',{class:te.join(' ')},this._renderHeader(ee),G.renderIf(this._incidentExpanded,this._renderResponses(ee)))}_renderHeader(ee){return X.IncidentHeader.generateMobileHeader(this.hostComponent,ee,this._options.headerOptions,this._headerExpanded,this._toggleExpandHeader.bind(this))}_renderResponses(ee){const te=this._getResponseCollections(ee);return window.__CTRender('div',{class:'respondents'},window.__CTRender('ul',{class:'response-collections'},te.map((ne)=>this._renderResponse(ee,ne))))}_renderResponse(ee,te){const ne=this._responseExpanded[te.roleName]||!1,ae=['response'];ae.push(te.isAttender?'attender':'support'),ae.push(te.wasOnCall?this._options.showRespondentCurrentOnCallStatus?te.isCurrentlyOnCall?'on-call':'off-duty':'on-call':'off-duty'),ne&&ae.push('expanded');const se=this._getResponseHistory(te),de=se[0]||null;return window.__CTRender('li',{class:ae.join(' ')},window.__CTRender('div',{class:'response-summary col-group',onClick:()=>this._toggleExpandResponse(te)},G.renderIf(this._options.showRespondentOnlineStatus,window.__CTRender('div',{class:'col col-status'},window.__CTRender($.CTILOnlineStatusPill,{status:te.isOnline?A.ConnectionStatus.Connected:A.ConnectionStatus.Disconnected,showLabel:!1}))),window.__CTRender('div',{class:'col col-role'},te.roleName),window.__CTRender('div',{class:'col col-time'},J.formatDate(de&&de.time,'HH:mm')),window.__CTRender('div',{class:'col col-response'},window.__CTRender(K.CTILIncidentResponsePill,{pillStyle:'primary',status:de&&de.status,label:'',collapsed:!0}))),G.renderIf(ne,window.__CTRender('div',{class:'response-detail'},window.__CTRender('div',{class:'details'},window.__CTRender('div',{class:'contact-details'},window.__CTRender('div',{class:'name'},te.onCallUserName),G.renderIf(te.onCallUserTelephone&&1<te.onCallUserTelephone.length,window.__CTRender('a',{class:'tel',href:`tel:${te.onCallUserTelephone}`},te.onCallUserTelephone))),this._renderActions(ee,te)),window.__CTRender('div',{class:'history'},this._renderResponseHistory(te)))))}_renderActions(ee,te){if(!this._options.allowFlagArrived&&!this._options.allowFlagStandIn)return null;const ne=this._connectionStatus!==A.ConnectionStatus.Connected,ae=[];if(this._options.allowFlagArrived&&te.isAttender&&te.wasOnCall&&te.responseType!==B.ResponseStatus.Unable){const se=null===te.arrivedDate?null:B.Icons.UI.Tick;ae.push(window.__CTRender(Q.CTButton,{type:'secondary',disabled:ne,icon:se,iconWidth:'14px',iconHeight:'14px',onClick:()=>this._toggleArrived(ee,te)},'Arrived'))}if(this._options.allowFlagStandIn&&te.isAttender){const se=null===te.standInDate?null:B.Icons.UI.Tick;ae.push(window.__CTRender(Q.CTButton,{type:'secondary',disabled:ne,icon:se,iconWidth:'14px',iconHeight:'14px',onClick:()=>this._toggleStandIn(ee,te)},'Stand-in'))}return 0===ae.length?null:window.__CTRender('div',{class:'actions'},ae)}_toggleExpandHeader(){const ee='summary'===this._options.collapseMode,te='detail'===this._options.collapseMode;ee&&(this._headerExpanded=!this._headerExpanded,this._incidentExpanded=!this._incidentExpanded,this.redrawComponent()),te&&(this._headerExpanded=!this._headerExpanded,this._incidentExpanded=!0,this.redrawComponent())}_toggleExpandResponse(ee){const te='summary'===this._options.collapseMode;te||(this._responseExpanded[ee.roleName]=!(this._responseExpanded[ee.roleName]||!1),this.redrawComponent())}_toggleArrived(ee,te){const ne=null===te.arrivedDate?B.StateChangeType.Add:B.StateChangeType.Remove;this.emitEvent(H.IncidentEvents._Request_ChangeResponderState,new H.ChangeResponderStateEventArgs(ee.id,te.jid,B.ResponderState.Arrived,ne))}_toggleStandIn(ee,te){const ne=null===te.standInDate?B.StateChangeType.Add:B.StateChangeType.Remove;this.emitEvent(H.IncidentEvents._Request_ChangeResponseCollectionState,new H.ChangeResponseCollectionStateEventArgs(ee.id,te.roleId,B.ResponseCollectionState.StandInArranged,ne))}_getResponseCollections(ee){let te=[...(ee.responses||[])];return te=z.filterIncidentResponses(te,'status',this._options.respondentStatusFilter),te=z.orderIncidentRespondents(te,this._options.respondentOrderBy,this._options.respondentOrderByReverse),te.map((ne)=>W.incidentResponseCollectionToRoleResponse(ee,ne,this._users,this.layer.config.roles))}_getResponseHistory(ee){const te=[];return null!==ee.standInDate&&te.push({time:ee.standInDate,status:B.ResponseStatus.StandIn}),null!==ee.arrivedDate&&te.push({time:ee.arrivedDate,status:B.ResponseStatus.Arrived}),ee.responseDate&&ee.responseType&&te.push({time:ee.responseDate,status:ee.responseType}),ee.receivedDate&&te.push({time:ee.receivedDate,status:B.ResponseStatus.Received}),ee.transmittedDate&&te.push({time:ee.transmittedDate,status:B.ResponseStatus.Transmitted}),te}_renderResponseHistory(ee){const te=this._getResponseHistory(ee);return te.splice(0,1),te.map((ne)=>this._renderHistoryItem(ne))}_renderHistoryItem(ee){return window.__CTRender('div',{class:'history-item'},window.__CTRender('div',{class:'time'},J.formatDate(ee.time,'HH:mm')),window.__CTRender('div',{class:'response'},window.__CTRender(K.CTILIncidentResponsePill,{pillStyle:'secondary',status:ee.status,label:'',collapsed:!0})))}}E.RoleOnCallMobileIncidentView=Z},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(ee,te,ne,ae){return new(ne||(ne=Promise))(function(se,de){function ie(ue){try{le(ae.next(ue))}catch(_e){de(_e)}}function oe(ue){try{le(ae['throw'](ue))}catch(_e){de(_e)}}function le(ue){ue.done?se(ue.value):new ne(function(_e){_e(ue.value)}).then(ie,oe)}le((ae=ae.apply(ee,te||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(3),N=R(20),H=R(1),B=R(7),z=R(11),W=R(41),J=R(18),G=R(17),$=R(21),K=R(5),X=R(4),Q=R(2);class Z extends N.IncidentViewBase{constructor(ee,te){super(ee);const ne={headerOptions:$.IncidentHeader.getDefaultOptions({allowSeverityChange:!0,allowClose:!0}),showRespondents:!0,respondentOrderBy:'as_supplied',respondentOrderByReverse:!1,respondentStatusFilter:'all',showRespondentOnlineStatus:!0,showRespondentCurrentOnCallStatus:!0,allowFlagArrived:!0,allowFlagStandIn:!0};this._options=K.mergeDeep({},ne,te),this._users=null}initialize(){return I(this,void 0,void 0,function*(){this._users=yield this.layer.getOnCallUsers(),this._connectionStatus=this.layer.getConnectionStatus()})}setupListeners(){this.addListener(H.IncidentEvents.ConnectionStatusChange,()=>{this._connectionStatus=this.layer.getConnectionStatus(),this.redrawComponent()}),this.addListeners([H.IncidentEvents.OnCallUsersChange,H.IncidentEvents.OtherUserConnectionStatusChange],()=>I(this,void 0,void 0,function*(){this._users=yield this.layer.getOnCallUsers(),this.redrawComponent()}))}renderStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block;margin:10px 0 0 0}:host .incident{background-color:var(--incident-list-incident-bg, #fff);color:var(--incident-list-incident-text, #000)}:host .incident :host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host .incident :host h1,:host .incident :host h2,:host .incident :host h3,:host .incident :host h4,:host .incident :host h5,:host .incident :host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host .incident :host,:host .incident :host *{box-sizing:border-box}:host .incident .user-html p{margin:0}:host .incident .user-html p+p{margin:.8em 0 0 0}:host .incident .user-html strong{font-weight:600}:host .incident .header{position:relative;display:flex;align-items:stretch;padding:10px 10px 10px 0;font-size:18px}:host .incident .header .header-group{display:flex;flex-direction:row;align-items:flex-start;flex:0 0}:host .incident .header .header-group.header-group-details{flex:1 1;flex-wrap:wrap;align-items:center}:host .incident .header .header-item{display:flex;flex:none}:host .incident .header .header-item .header-item-content .heading{color:#9b9b9b;font-size:10px;font-weight:300}:host .incident .header .header-item .header-item-content .heading.right{text-align:right}:host .incident .header .header-item.data-item{padding:0 10px}:host .incident .header .header-item.data-item .header-item-content .heading{margin-bottom:0.1em}:host .incident .header .header-item.data-item .header-item-content .text{line-height:0.9em;margin-bottom:0.5em}:host .incident .header .header-item.header-spacer{display:none}:host .incident .header .header-item.severity{flex:0 0;flex-basis:var(--incident-header-severity-width, 170px);font-size:20px}:host .incident .header .header-item.location{flex:0 0;flex-basis:var(--incident-header-location-width, 230px)}:host .incident .header .header-item.priority{flex:0 0;flex-basis:var(--incident-header-priority-width, 130px)}:host .incident .header .header-item.patient-type{flex:0 0;flex-basis:var(--incident-header-patient-type-width, 130px)}:host .incident .header .header-item.creator{flex:0 0;flex-basis:var(--incident-header-creator-width, 190px)}:host .incident .header .header-item.severity-change{flex:0 0;flex-basis:var(--incident-header-severity-change-width, 150px)}:host .incident .header .header-item.opened{flex:0 0 100px}:host .incident .header .header-item.actions{margin:3px 0 0 0;flex:0 0 240px}:host .incident .header .header-item.actions ct-button{width:115px;font-size:14px;background:#ffffff}:host .incident .header .header-item.actions ct-button+ct-button{margin:0 0 0 6px}:host .incident .header.inline{flex-direction:row}:host .incident .header.inline .header-item.header-spacer{display:block;flex:1}:host .incident .header.inline .header-item.header-end{justify-content:flex-end;margin-left:auto}:host .incident .header.inline .data-item{flex-direction:column}@media screen and (max-width: 1120px){:host .incident .header.inline .header-group.header-group-details{align-items:flex-start}:host .incident .header.inline .header-item.header-spacer{display:none}:host .incident .header.inline .header-item.actions{flex:0 0 120px;flex-wrap:wrap}:host .incident .header.inline .header-item.actions ct-button+ct-button{margin:6px 0 0 0}}:host .incident .header.stacked{flex-direction:column;align-items:flex-start;padding-bottom:0}:host .incident .header.stacked .header-group{flex-direction:column;align-items:flex-start}:host .incident .header.stacked .header-item{display:block;margin:0 0 10px 0;flex:none}:host .incident .header.stacked .header-item:not(.severity){padding:0 0 0 20px}:host .incident .header.stacked .header-item .header-item-content .heading,:host .incident .header.stacked .header-item .header-item-content .heading.right{text-align:left}:host .incident .header.stacked .header-spacer{display:none}:host .incident .header.mobile{padding:0;flex-direction:column}:host .incident .header.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:stretch;flex:1;border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2)}:host .incident .header.mobile .mobile-header-row .header-item{display:flex;align-items:center;font-size:14px;border-left:1px solid var(--incident-list-incident-border-color, #f2f2f2);border-bottom:1px solid var(--incident-list-incident-border-color, #f2f2f2);padding:10px 8px;margin-bottom:-1px;min-width:33%;min-height:48px}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content{display:block}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .heading{margin:0 0 3px 0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item .header-item-content .text{margin:0;line-height:1em}:host .incident .header.mobile .mobile-header-row .header-item.severity{flex:0 0 130px;min-width:130px;font-size:15px;padding:0}:host .incident .header.mobile .mobile-header-row .header-item.location{flex:1 1;border-left:0}:host .incident .header.mobile .mobile-header-row .header-item.opened{flex:0 0 50px;min-width:50px;padding-top:0;padding-bottom:0;justify-content:center;font-size:18px;font-weight:600}:host .incident .header.mobile .mobile-header-row .header-item.opened ct-il-time-diff-display{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.opened .label{color:#9b9b9b;font-size:10px;font-weight:300;line-height:0.9em;text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.closed{flex:0 0 55px;min-width:55px;text-align:center;justify-content:center}:host .incident .header.mobile .mobile-header-row .header-item.closed .header-item-content .heading{text-align:center}:host .incident .header.mobile .mobile-header-row .header-item.user-response{flex:0 0 125px;min-width:125px}:host .incident .header.mobile .mobile-header-row .header-item.user-response+.priority{max-width:100%}:host .incident .header.mobile .mobile-header-row .header-item.priority{flex:1 1;min-width:90px;max-width:130px}:host .incident .header.mobile .mobile-header-row .header-item.patient-type,:host .incident .header.mobile .mobile-header-row .header-item.creator{flex:1}:host .incident .header.mobile .mobile-header-row .header-item.severity-change{flex:0 0 145px}:host .incident .header.mobile .mobile-header-row .header-item.actions{flex:1 1;margin:0;justify-content:flex-end}:host .incident .header.mobile .mobile-header-row .header-item:first-child,:host .incident .header.mobile .mobile-header-row .header-item:nth-child(3n+1){border-left:0}:host .incident .header.closed.mobile{padding:0;flex-direction:column}:host .incident .header.closed.mobile .mobile-header-row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;flex:1;border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .header.closed.mobile .mobile-header-row .header-item{border-color:var(--incident-list-closed-incident-border-color, #fff)}:host .incident .respondents{background-color:var(--incident-list-incident-respondents-bg, #fff);margin:10px 0 0 0}:host .incident .respondents .responses-header{font-size:12px;font-weight:300;color:#9b9b9b;margin:10px 0 0 0;padding:0 10px}:host .incident .respondents .col-group{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}:host .incident .respondents .col-group .col{padding:3px}:host .incident .respondents .col-group .col:first-child{padding-left:0}:host .incident .respondents .col-group .col.col-status{flex:0 0 45px;text-align:center}:host .incident .respondents .col-group .col.col-role{flex:1 1}:host .incident .respondents .col-group .col.col-name{flex:1 1}:host .incident .respondents .col-group .col.col-tel{flex:0 0 120px}:host .incident .respondents .col-group .col.col-transmitted,:host .incident .respondents .col-group .col.col-received{flex:0 0 90px;text-align:center}:host .incident .respondents .col-group .col.col-response{flex:0 0 150px;text-align:center}:host .incident .respondents .col-group .col.col-arrived{flex:0 0 90px;text-align:center}:host .incident .respondents .col-group .col.col-stand-in{flex:0 0 55px;text-align:center}:host .incident .respondents .col-group .col.col-btns{display:flex;justify-content:flex-end}:host .incident .respondents .col-group .col.col-btns.col-btns-1{flex:0 0 120px}:host .incident .respondents .col-group .col.col-btns.col-btns-2{flex:0 0 240px}:host .incident .respondents .col-group .col.col-btns ct-button{width:115px;font-size:14px;background:#ffffff}:host .incident .respondents .col-group .col.col-btns ct-button+ct-button{margin:0 0 0 6px}:host .incident .respondents .col-group .col:last-child{padding-right:0}:host .incident .respondents .col-group .col-rwd-break{display:none}:host .incident .respondents ul.response-collections{list-style-type:none;margin:0;padding:0}:host .incident .respondents ul.response-collections li.response{font-size:15px;font-weight:400;margin:0;padding:10px;background:var(--incident-list-incident-role-bg, rgba(0,0,0,0));border-bottom:var(--incident-list-incident-role-border, 1px solid #f0f0f0)}:host .incident .respondents ul.response-collections li.response .col.col-role{display:flex;align-items:center;font-weight:600}:host .incident .respondents ul.response-collections li.response .col.col-role:before{content:'';display:block;height:30px}:host .incident .respondents ul.response-collections li.response.on-call.support{background:var(--incident-list-incident-support-role-bg, #f6f6f6);border-bottom:var(--incident-list-incident-support-role-border, 1px solid #fff)}:host .incident .respondents ul.response-collections li.response.off-duty{background-size:5px 5px;background-image:linear-gradient(45deg, rgba(0,0,0,0) 46%, #d8d8d8 49%, #d8d8d8 51%, rgba(0,0,0,0) 55%)}:host .incident.closed{background-color:var(--incident-list-closed-incident-bg, #f2f2f2);color:var(--incident-list-incident-closed-text, #000)}:host .incident.closed .respondents{background-color:var(--incident-list-closed-incident-respondents-bg, #fff)}:host .incident.closed .respondents ul.response-collection li.response{background:var(--incident-list-closed-incident-role-bg, rgba(0,0,0,0));border-bottom:var(--incident-list-closed-incident-role-border, 1px solid #f0f0f0)}:host .incident.closed .respondents ul.response-collection li.response.on-call.support{background:var(--incident-list-closed-incident-support-role-bg, #f6f6f6);border-bottom:var(--incident-list-closed-incident-support-role-border, 1px solid #fff)}@media screen and (max-width: 1120px){:host .incident .respondents .responses-header{display:none}:host .incident .respondents .col-group .col.col-role,:host .incident .respondents .col-group .col.col-name,:host .incident .respondents .col-group .col.col-tel{flex:none}:host .incident .respondents .col-group .col.col-tel.has-telephone{margin-left:10px}:host .incident .respondents .col-group .col.col-tel.has-telephone:before{content:'('}:host .incident .respondents .col-group .col.col-tel.has-telephone:after{content:')'}:host .incident .respondents .col-group .col.col-name,:host .incident .respondents .col-group .col.col-transmitted{margin:0 0 0 45px}:host .incident .respondents .col-group .col.col-transmitted,:host .incident .respondents .col-group .col.col-received,:host .incident .respondents .col-group .col.col-response,:host .incident .respondents .col-group .col.col-arrived,:host .incident .respondents .col-group .col.col-stand-in{margin-top:10px;padding:3px 0;flex:none}:host .incident .respondents .col-group .col.col-transmitted ct-il-incident-response-pill,:host .incident .respondents .col-group .col.col-received ct-il-incident-response-pill,:host .incident .respondents .col-group .col.col-response ct-il-incident-response-pill,:host .incident .respondents .col-group .col.col-arrived ct-il-incident-response-pill,:host .incident .respondents .col-group .col.col-stand-in ct-il-incident-response-pill{margin:0 6px 0 0}:host .incident .respondents .col-group .col-rwd-break{display:block;flex:1 1 100%}:host .incident .respondents ul.response-collections li.response{position:relative}:host .incident .respondents ul.response-collections li.response .col.col-btns{position:absolute;top:6px;right:10px;display:block}:host .incident .respondents ul.response-collections li.response .col.col-btns ct-button+ct-button{margin:6px 0 0 0}}:host(:first-child){margin-top:0}
        `}renderIncident(ee){if(null===this._users)return null;const te=['incident',`severity-${ee.severity.id}`,`priority-${ee.priority.id}`];return ee.status===B.IncidentStatus.Closed&&te.push('closed'),ee.isTestIncident&&te.push('test'),window.__CTRender('div',{class:te.join(' ')},this._renderHeader(ee),this._renderResponses(ee))}_renderHeader(ee){return $.IncidentHeader.generateHeader(this.hostComponent,ee,this._options.headerOptions)}_renderResponses(ee){const te=this._getResponseCollections(ee);return window.__CTRender('div',{class:'respondents'},window.__CTRender('div',{class:'responses-header col-group'},X.renderIf(this._options.showRespondentOnlineStatus,window.__CTRender('div',{class:'col col-status'},'Status')),window.__CTRender('div',{class:'col col-role'},'Role'),window.__CTRender('div',{class:'col col-name'},'On-call'),window.__CTRender('div',{class:'col col-tel'},'Contact Tel'),window.__CTRender('div',{class:'col col-transmitted'},'Transmitted'),window.__CTRender('div',{class:'col col-received'},'Received'),window.__CTRender('div',{class:'col col-response'},'Response'),window.__CTRender('div',{class:'col col-arrived'},'Arrived'),window.__CTRender('div',{class:'col col-stand-in'},'Stand In'),X.renderIf(this._options.allowFlagArrived||this._options.allowFlagStandIn,window.__CTRender('div',{class:`col col-btns ${this._options.allowFlagArrived&&this._options.allowFlagStandIn?'col-btns-2':'col-btns-1'}`}))),window.__CTRender('ul',{class:'response-collections'},te.map((ne)=>this._renderResponse(ee,ne))))}_renderResponse(ee,te){const ne=['response','col-group',te.isAttender?'attender':'support',te.wasOnCall?this._options.showRespondentCurrentOnCallStatus?te.isCurrentlyOnCall?'on-call':'off-duty':'on-call':'off-duty'];return window.__CTRender('li',{class:ne.join(' ')},X.renderIf(this._options.showRespondentOnlineStatus,window.__CTRender('div',{class:'col col-status'},window.__CTRender(J.CTILOnlineStatusPill,{status:te.isOnline?A.ConnectionStatus.Connected:A.ConnectionStatus.Disconnected,showLabel:!1}))),window.__CTRender('div',{class:'col col-role'},te.roleName),window.__CTRender('div',{class:'col-rwd-break'}),window.__CTRender('div',{class:'col col-name'},te.onCallUserName),window.__CTRender('div',{class:`col col-tel ${te.onCallUserTelephone&&1<te.onCallUserTelephone.length?'has-telephone':''}`},te.onCallUserTelephone),window.__CTRender('div',{class:'col-rwd-break'}),window.__CTRender('div',{class:'col col-transmitted'},X.renderIf(null!==te.transmittedDate,window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'secondary',center:!0,status:B.ResponseStatus.Transmitted,label:'',date:te.transmittedDate}))),window.__CTRender('div',{class:'col col-received'},X.renderIf(null!==te.receivedDate,window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'secondary',center:!0,status:B.ResponseStatus.Received,label:'',date:te.receivedDate}))),window.__CTRender('div',{class:'col col-response'},X.renderIf(null!==te.responseType&&null!==te.responseDate,window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'secondary',center:!0,status:te.responseType,label:te.responseLabel,date:te.responseDate}))),window.__CTRender('div',{class:'col col-arrived'},X.renderIf(null!==te.arrivedDate,window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'secondary',center:!0,status:B.ResponseStatus.Arrived,label:'',date:te.arrivedDate}))),window.__CTRender('div',{class:'col col-stand-in'},X.renderIf(null!==te.standInDate,window.__CTRender(G.CTILIncidentResponsePill,{pillStyle:'secondary',center:!0,status:B.ResponseStatus.StandIn,label:'',collapsed:!0}))),this._renderActions(ee,te))}_renderActions(ee,te){if(!this._options.allowFlagArrived&&!this._options.allowFlagStandIn)return null;const ne=this._connectionStatus!==A.ConnectionStatus.Connected,ae=[];if(this._options.allowFlagArrived&&te.isAttender&&te.wasOnCall&&te.responseType!==B.ResponseStatus.Unable){const de=null===te.arrivedDate?null:B.Icons.UI.Tick;ae.push(window.__CTRender(Q.CTButton,{type:'secondary',disabled:ne,icon:de,iconWidth:'14px',iconHeight:'14px',onClick:()=>this._toggleArrived(ee,te)},'Arrived'))}if(this._options.allowFlagStandIn&&te.isAttender){const de=null===te.standInDate?null:B.Icons.UI.Tick;ae.push(window.__CTRender(Q.CTButton,{type:'secondary',disabled:ne,icon:de,iconWidth:'14px',iconHeight:'14px',onClick:()=>this._toggleStandIn(ee,te)},'Stand-in'))}let se=0;return this._options.allowFlagArrived&&(se+=1),this._options.allowFlagStandIn&&(se+=1),window.__CTRender('div',{class:`col col-btns col-btns-${se}`},ae)}_toggleArrived(ee,te){const ne=null===te.arrivedDate?B.StateChangeType.Add:B.StateChangeType.Remove;this.emitEvent(H.IncidentEvents._Request_ChangeResponderState,new H.ChangeResponderStateEventArgs(ee.id,te.jid,B.ResponderState.Arrived,ne))}_toggleStandIn(ee,te){const ne=null===te.standInDate?B.StateChangeType.Add:B.StateChangeType.Remove;this.emitEvent(H.IncidentEvents._Request_ChangeResponseCollectionState,new H.ChangeResponseCollectionStateEventArgs(ee.id,te.roleId,B.ResponseCollectionState.StandInArranged,ne))}_getResponseCollections(ee){let te=[...(ee.responses||[])];return te=z.filterIncidentResponses(te,'status',this._options.respondentStatusFilter),te=z.orderIncidentRespondents(te,this._options.respondentOrderBy,this._options.respondentOrderByReverse),te.map((ne)=>W.incidentResponseCollectionToRoleResponse(ee,ne,this._users,this.hostComponent.layer.config.roles))}}E.RoleOnCallIncidentView=Z},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=R(133),N=R(132),H=R(131),B=R(130),z=new Map;E.getView=function(W,J,G){0===z.size&&(z.set('roleoncall',A.RoleOnCallIncidentView),z.set('roleoncallmobile',N.RoleOnCallMobileIncidentView),z.set('responsesummary',H.ResponseSummaryIncidentView),z.set('respondersummarymobile',B.ResponderSummaryMobileIncidentView));const $=z.get((W||'').toLowerCase())||null;return null===$?null:new $(J,G)}},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(27);class A extends I.ViewBase{constructor(N){super(N)}}E.ReportListViewBase=A},function(L,E,R){'use strict';var I=this&&this.__awaiter||function($,K,X,Q){return new(X||(X=Promise))(function(Z,ee){function te(se){try{ae(Q.next(se))}catch(de){ee(de)}}function ne(se){try{ae(Q['throw'](se))}catch(de){ee(de)}}function ae(se){se.done?Z(se.value):new X(function(de){de(se.value)}).then(te,ne)}ae((Q=Q.apply($,K||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(3),N=R(135),H=R(1),B=R(7),z=R(5),W=R(4),J=R(2);class G extends N.ReportListViewBase{constructor($,K){super($);this._options=z.mergeDeep({},{},K)}initialize(){return I(this,void 0,void 0,function*(){this._connectionStatus=this.layer.getConnectionStatus(),this._downloadsProcessing=[]})}setupListeners(){this.addListener(H.IncidentEvents.ConnectionStatusChange,()=>{this._connectionStatus=this.layer.getConnectionStatus(),this.redrawComponent()})}renderStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host .report-table{margin:10px 0 0 0}:host .report-table .report-table-header{font-size:12px;font-weight:300;color:#9b9b9b;margin:10px 0 0 0;padding:0 10px}:host .report-table .col-group{display:flex;flex-direction:row;flex-wrap:wrap}:host .report-table .col-group.ready .col-status .icon{color:var(--response-status-accepted-bg, #55950c)}:host .report-table .col-group.failed .col-status .icon{color:var(--response-status-declined-bg, #d0021c)}:host .report-table .col-group .col{padding:3px}:host .report-table .col-group .col:first-child{padding-left:0}:host .report-table .col-group .col.col-type,:host .report-table .col-group .col.col-dates,:host .report-table .col-group .col.col-requested,:host .report-table .col-group .col.col-status{flex:1 0}:host .report-table .col-group .col.col-type{font-weight:600}:host .report-table .col-group .col.col-status .data .sub-data{margin-left:17px}:host .report-table .col-group .col.col-btns{flex:0 0 120px;display:flex;justify-content:flex-end}:host .report-table .col-group .col.col-btns ct-button{width:115px;height:36px;font-size:14px;background:#ffffff}:host .report-table .col-group .col .label{font-size:12px;font-weight:300;color:#9b9b9b}:host .report-table .col-group .col .data .icon,:host .report-table .col-group .col .data .text{display:inline-flex}:host .report-table .col-group .col .data .icon{margin:0 5px 0 0}:host .report-table .col-group .col .data .sub-data{font-size:12px;font-weight:400}:host .report-table .col-group .col:last-child{padding-right:0}:host .report-table .col-group .col-rwd-break{display:none}:host .report-table ul.reports{list-style-type:none;margin:0;padding:0}:host .report-table ul.reports li.report{font-size:15px;font-weight:400;margin:0;padding:10px;border-bottom:1px solid #f0f0f0}:host .report-table ul.reports li.report .col.col-role{display:flex;align-items:center}:host .report-table .large-screen{position:inherit;top:auto;left:auto}:host .report-table .small-screen{position:fixed;top:-9999px;left:-9999px}@media screen and (max-width: 768px){:host .report-table .report-table-header{padding:0 15px;font-size:10px}:host .report-table .col-group .col-type{margin-right:130px}:host .report-table .col-group .col-type,:host .report-table .col-group .col-dates{padding-bottom:10px}:host .report-table .col-group .col-rwd-break+.col{padding-left:0}:host .report-table .col-group .col-btns{margin-left:auto}:host .report-table .col-group .col-rwd-break{display:block;flex:1 1 100%}:host .report-table ul.reports li.report{position:relative;padding:8px 15px}:host .report-table ul.reports li.report .col.col-btns{position:absolute;top:6px;right:10px;display:block}:host .report-table .large-screen{position:fixed;top:-9999px;left:-9999px}:host .report-table .small-screen{position:inherit;top:auto;left:auto}}
        `}render($){return window.__CTRender('div',{class:'report-table'},window.__CTRender('div',{class:'report-table-header col-group large-screen'},window.__CTRender('div',{class:'col col-type'},window.__CTRender('span',{class:'label'},'Report')),window.__CTRender('div',{class:'col col-requested'},window.__CTRender('span',{class:'label'},'Requested')),window.__CTRender('div',{class:'col col-status'},window.__CTRender('span',{class:'label'},'Status')),window.__CTRender('div',{class:'col col-btns'})),window.__CTRender('ul',{class:'reports'},($||[]).map((K)=>this._renderReport(K))))}_renderReport($){const K=this._connectionStatus!==A.ConnectionStatus.Connected,X=this._downloadsProcessing.includes($.id),Q=['report','col-group'];return $.status===B.ReportStatus.Pending&&Q.push('pending'),$.status===B.ReportStatus.Ready&&Q.push('ready'),$.status===B.ReportStatus.Failed&&Q.push('failed'),window.__CTRender('li',{class:Q.join(' ')},window.__CTRender('div',{class:'col col-type'},window.__CTRender('div',{class:'data'},$.type.name||$.type.id,window.__CTRender('div',{class:'sub-data'},z.formatDate($.startDate,'Do MMM YYYY'),' - ',z.formatDate($.endDate,'Do MMM YYYY')))),window.__CTRender('div',{class:'col-rwd-break'}),window.__CTRender('div',{class:'col col-requested'},window.__CTRender('div',{class:'label small-screen'},'Requested:'),window.__CTRender('div',{class:'data'},z.formatDateForTimeOrDate($.requested.date,!0),window.__CTRender('div',{class:'sub-data'},'Requested by: ',$.requested.name))),window.__CTRender('div',{class:'col col-status'},window.__CTRender('div',{class:'label small-screen'},'Status:'),this._renderReportStatus($)),window.__CTRender('div',{class:'col col-btns'},W.renderIf($.status===B.ReportStatus.Ready,window.__CTRender(J.CTButton,{class:'download-button',type:'primary',disabled:K||X,isWaiting:X,onclick:()=>this._downloadReport($)},'Download'))))}_renderReportStatus($){switch($.status){case B.ReportStatus.Pending:return window.__CTRender('div',{class:'data'},window.__CTRender('div',{class:'icon'},window.__CTRender(J.CTIcon,{icon:A.Icons.COMMON.LoadingSpinner,width:'12px',height:'12px',spin:!0})),window.__CTRender('div',{class:'text'},'Processing...'));case B.ReportStatus.Ready:const K=0<$.completed?z.prettyDuration($.completed-$.requested.date):'';return window.__CTRender('div',{class:'data'},window.__CTRender('div',{class:'icon'},window.__CTRender(J.CTIcon,{icon:B.Icons.UI.Tick,width:'12px',height:'12px'})),window.__CTRender('div',{class:'text'},'Ready'),window.__CTRender('div',{class:'sub-data'},'Report took ',K));case B.ReportStatus.Failed:return window.__CTRender('div',{class:'data'},window.__CTRender('div',{class:'icon'},window.__CTRender(J.CTIcon,{icon:B.Icons.UI.Cross,width:'12px',height:'12px'})),window.__CTRender('div',{class:'text'},'Failed'));}}_downloadReport($){return I(this,void 0,void 0,function*(){if(this.layer.config.reporting&&!0===this.layer.config.reporting.enabled){this._setDownloading($,!0);try{const K=yield this.layer.downloadFile($.url);null!==K&&this.emitEvent(H.IncidentEvents.ReportDownloaded,new H.ReportDownloadEventArgs(K,$)),this._setDownloading($,!1)}catch(K){this._setDownloading($,!1)}}})}_setDownloading($,K){if(K)this._downloadsProcessing.includes($.id)||(this._downloadsProcessing.push($.id),this.redrawComponent());else{const X=this._downloadsProcessing.findIndex((Q)=>Q===$.id);-1!==X&&(this._downloadsProcessing.splice(X,1),this.redrawComponent())}}}E.ReportTableReportListView=G},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=R(136),N=new Map;E.getView=function(H,B,z){0===N.size&&N.set('reporttable',A.ReportTableReportListView);const W=N.get((H||'').toLowerCase())||null;return null===W?null:new W(B,z)}},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(G,$,K,X){return new(K||(K=Promise))(function(Q,Z){function ee(ae){try{ne(X.next(ae))}catch(se){Z(se)}}function te(ae){try{ne(X['throw'](ae))}catch(se){Z(se)}}function ne(ae){ae.done?Q(ae.value):new K(function(se){se(ae.value)}).then(ee,te)}ne((X=X.apply(G,$||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(3),N=R(139),H=R(1),B=R(5),z=R(4),W=R(18);class J extends N.UserListViewBase{constructor(G,$){super(G);this._options=B.mergeDeep({},{},$),this._roles=null,this._users=null}initialize(){return I(this,void 0,void 0,function*(){this._roles=this.layer.config.roles,this._users=yield this.layer.getOnCallUsers(),this._connectionStatus=this.layer.getConnectionStatus()})}setupListeners(){this.addListeners([H.IncidentEvents.OnCallUsersChange,H.IncidentEvents.UserLastSeenChange,H.IncidentEvents.OtherUserConnectionStatusChange],()=>I(this,void 0,void 0,function*(){this._users=yield this.layer.getOnCallUsers(),this.redrawComponent()}))}renderStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}:host .user-list{margin:10px 0 0 0}:host .user-list .user-list-header{font-size:12px;font-weight:300;color:#9b9b9b;margin:10px 0 0 0;padding:0 10px}:host .user-list .col-group{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}:host .user-list .col-group .col{padding:3px}:host .user-list .col-group .col:first-child{padding-left:0}:host .user-list .col-group .col.col-status{flex:0 0 80px;display:flex;justify-content:center;text-align:center}:host .user-list .col-group .col.col-role,:host .user-list .col-group .col.col-name,:host .user-list .col-group .col.col-tel,:host .user-list .col-group .col.col-time{flex:1 0}:host .user-list .col-group .col.col-role{margin:0 0 0 10px}:host .user-list .col-group .col.col-tel .tel-link{color:var(--primary-color, #15233b);font-weight:var(--font-weight-semibold, 600);text-decoration:none}:host .user-list .col-group .col.col-combined{flex:1 1}:host .user-list .col-group .col:last-child{padding-right:0}:host .user-list .col-group .col-rwd-break{display:none}:host .user-list ul.roles-users{list-style-type:none;margin:0;padding:0}:host .user-list ul.roles-users li.role-user{font-size:15px;font-weight:400;margin:0;padding:10px;border-bottom:1px solid #f0f0f0}:host .user-list ul.roles-users li.role-user .col.col-role{display:flex;align-items:center}:host .user-list ul.roles-users li.role-user .col.col-role:before{content:'';display:block;height:30px}:host .user-list ul.roles-users li.role-user.off-duty{background-size:5px 5px;background-image:linear-gradient(45deg, rgba(0,0,0,0) 46%, #d8d8d8 49%, #d8d8d8 51%, rgba(0,0,0,0) 55%)}:host .user-list .large-screen{position:inherit;top:auto;left:auto}:host .user-list .small-screen{position:fixed;top:-9999px;left:-9999px}@media screen and (max-width: 640px){:host .user-list .user-list-header{padding:0 15px;font-size:10px}:host .user-list .col-group .col.col-status{flex:0 0 30px}:host .user-list .col-group .col.col-combined{margin:0 0 0 10px}:host .user-list .col-group .col.col-time{flex:0 0 60px;text-align:right}:host .user-list .col-group .col-rwd-break{display:block;flex:1 1 100%}:host .user-list ul.roles-users li.role-user{position:relative;padding:8px 15px}:host .user-list ul.roles-users li.role-user .col.col-status{position:absolute;top:8px;left:15px;width:30px}:host .user-list ul.roles-users li.role-user .col.col-role,:host .user-list ul.roles-users li.role-user .col.col-name,:host .user-list ul.roles-users li.role-user .col.col-tel{margin:0 0 0 40px;padding:0 6px}:host .user-list ul.roles-users li.role-user .col.col-role:before{height:auto;display:none}:host .user-list ul.roles-users li.role-user .col.col-time{position:absolute;top:6px;right:15px;width:42px;text-align:left}:host .user-list .large-screen{position:fixed;top:-9999px;left:-9999px}:host .user-list .small-screen{position:inherit;top:auto;left:auto}}
        `}render(){return window.__CTRender('div',{class:'user-list'},window.__CTRender('div',{class:'user-list-header col-group'},window.__CTRender('div',{class:'col col-status'},window.__CTRender('span',{class:'label'},'Status')),window.__CTRender('div',{class:'col col-role large-screen'},window.__CTRender('span',{class:'label'},'Role')),window.__CTRender('div',{class:'col col-name large-screen'},window.__CTRender('span',{class:'label'},'On-call')),window.__CTRender('div',{class:'col col-tel large-screen'},window.__CTRender('span',{class:'label'},'Contact Tel')),window.__CTRender('div',{class:'col col-combined small-screen'},window.__CTRender('span',{class:'label'},'Role / On-call / Contact Telephone')),window.__CTRender('div',{class:'col col-time'},window.__CTRender('span',{class:'label'},'Last contact'))),window.__CTRender('ul',{class:'roles-users'},(this._roles||[]).map((G)=>this._renderRole(G))))}_renderRole(G){const $=this._users.find((ne)=>ne.role&&ne.role.id===G.id),K=['role-user','col-group'];K.push(G.attender?'attender':'support'),K.push($&&$.connectionStatus===A.ConnectionStatus.Connected?'online':'offline'),K.push($&&$.isOnCall?'on-call':'off-duty');const X=$&&$.connectionStatus||A.ConnectionStatus.Disconnected,Q=$&&$.displayName||'Off Duty',Z=$&&$.telephone||'-',ee=$&&$.lastSeenDate?B.formatDate($.lastSeenDate,'HH:mm'):'-';return window.__CTRender('li',{class:K.join(' ')},window.__CTRender('div',{class:'col col-status'},window.__CTRender(W.CTILOnlineStatusPill,{class:'large-screen',status:X,showLabel:!0}),window.__CTRender(W.CTILOnlineStatusPill,{class:'small-screen',status:X,showLabel:!1})),window.__CTRender('div',{class:'col col-role'},G.name),window.__CTRender('div',{class:'col-rwd-break'}),window.__CTRender('div',{class:'col col-name'},Q),window.__CTRender('div',{class:'col-rwd-break'}),window.__CTRender('div',{class:'col col-tel large-screen'},Z),window.__CTRender('div',{class:'col col-tel small-screen'},z.renderIfElse('-'!==Z,window.__CTRender('a',{class:'tel-link',href:`tel:${Z}`},Z),window.__CTRender('span',null,Z))),window.__CTRender('div',{class:'col col-time'},ee))}}E.RoleOnCallUserListView=J},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(27);class A extends I.ViewBase{constructor(N){super(N)}}E.UserListViewBase=A},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const A=R(138),N=new Map;E.getView=function(H,B,z){0===N.size&&N.set('roleoncall',A.RoleOnCallUserListView);const W=N.get((H||'').toLowerCase())||null;return null===W?null:new W(B,z)}},function(L,E,R){'use strict';var I=this&&this.__decorate||function(W,J,G,$){var K=arguments.length,X=3>K?J:null===$?$=Object.getOwnPropertyDescriptor(J,G):$,Q;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)X=Reflect.decorate(W,J,G,$);else for(var Z=W.length-1;0<=Z;Z--)(Q=W[Z])&&(X=(3>K?Q(X):3<K?Q(J,G,X):Q(J,G))||X);return 3<K&&X&&Object.defineProperty(J,G,X),X},A=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(6),B=R(2);class z extends N.CTLayerComponent{static get is(){return'ct-alert-modal-manager'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){this.addListener(H.BaseEvents._Request_RaiseAlert,(W)=>this.raiseAlert(W)),this.addListener(H.BaseEvents._Request_CloseAlert,(W)=>this.dismissAlertById(W))}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:none;width:100%;height:100%;background:var(--modal-overlay, rgba(0,0,0,0.5));position:fixed;top:0;z-index:99999;padding:20px;overflow:auto}:host .alerts{display:flex;width:100%;max-width:420px;margin:auto;position:relative}:host([alerts-to-show]){display:flex}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:'alerts'},this.alerts.map((W,J)=>window.__CTRender(B.CTAlertModal,{id:W.id||this.defaultAlerts.generateId(),raisedOn:W.raisedOn,priority:W.priority,type:W.type,title:W.title,body:W.body,buttons:W.buttons,remaining:this.alerts.length,positionInStack:J,showLoadingAnimation:W.showLoadingAnimation})))}raiseAlert(W){if(W){if(W.buttons)for(const J of W.buttons)if(!J.action)J.action=()=>this.dismissAlert();else{const G=J.action.bind(this);J.action=($)=>{G($),this.dismissAlert()}}this.alerts=[...this.alerts,W],this.alertsToShow=!0}}dismissAlert(W=0){this.alerts.splice(W,1),0===this.alerts.length?this.alertsToShow=!1:this.alerts=this.alerts.map((J)=>{return J.remaining=this.alerts.length,J})}dismissAlertById(W){const J=this.alerts.findIndex((G)=>G.id===W);-1!==J&&this.dismissAlert(J)}}I([N.prop({type:Boolean,attribute:!0,default:!1})],z.prototype,'alertsToShow',void 0),I([N.prop({type:Array,attribute:!1,default:[]})],z.prototype,'alerts',void 0),E.CTAlertModalManager=z,z.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(38),B=R(2),z=R(4);class W extends N.CTLayerComponent{static get is(){return'ct-alert-modal'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:none;width:100%;height:100%;flex-direction:column;background-color:var(--modal-bg, #fff)}:host .alert-dialog{overflow:hidden}:host .alert-dialog .remaining{position:absolute;width:35px;height:35px;background-color:red;border-radius:50%;text-align:center;line-height:35px;color:white;right:-5%;top:-5%}:host .alert-dialog .title{display:flex;justify-content:center;text-align:center;font-size:15px;text-transform:uppercase;margin:0 auto;padding:10px}:host .alert-dialog .body{display:flex;justify-content:center;text-align:center;align-items:flex-start;font-size:18px;font-weight:300;padding:50px}:host .alert-dialog .body ct-icon{flex:none;margin:3px 10px 0 0}:host .alert-dialog .buttons{padding:10px 5px;flex:none;display:flex;flex-wrap:wrap;flex-direction:row;justify-content:space-between}:host .alert-dialog .buttons ct-button{flex:1;margin:0 5px}:host .alert-dialog .buttons ct-button.overflex{flex-basis:100%}:host .alert-dialog .buttons ct-button.overflex+ct-button{margin-top:10px}:host .alert-dialog.error .title{background-color:var(--alert-error-bg, #c80031);color:var(--alert-error-text, #fff)}:host .alert-dialog.info .title{background-color:var(--alert-info-bg, #15233b);color:var(--alert-info-text, #fff)}:host .alert-dialog.question .title{background-color:var(--alert-question-bg, #15233b);color:var(--alert-question-text, #fff)}:host .alert-dialog.success .title{background-color:var(--alert-success-bg, #bcdf90);color:var(--alert-success-text, #fff)}:host([showing]){display:flex;z-index:10}:host([stacked]){display:flex;position:absolute;bottom:5px;right:5px;z-index:1}:host([stacked]):before{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.25)}
        `}generateComponentMarkup(){const J=H.Icons.COMMON.LoadingSpinner,G=5*this.positionInStack;return this.style.right=`${G}px`,this.style.bottom=`${G}px`,this.style.zIndex=`${this.remaining-this.positionInStack}`,0===this.positionInStack?this.showing=!0:this.stacked=!0,window.__CTRender('div',{"alert-id":this.id,class:`alert-dialog ${this.type}`},1<this.remaining&&this.showing?window.__CTRender('div',{class:'remaining'},this.remaining):null,window.__CTRender('div',{class:'title'},this.renderHtml(this.title)),window.__CTRender('div',{class:'body'},z.renderIf(this.showLoadingAnimation,window.__CTRender(B.CTIcon,{class:'loading',width:'18',height:'18',spin:!0,icon:J})),window.__CTRender('div',{class:'message'},this.renderHtml(this.body))),z.renderIf(!!this.buttons&&0<this.buttons.length,window.__CTRender('div',{class:'buttons'},this.buttons.map(($,K)=>window.__CTRender(B.CTButton,{type:$.type,class:`${2<this.buttons.length?'overflex':''} ${2===this.buttons.length&&0===K?'right-border':''}`,onClick:(X)=>$.action(X.target.textContent)},$.text)))))}}I([N.prop({type:Boolean,attribute:!0,default:!1})],W.prototype,'showing',void 0),I([N.prop({type:String,attribute:!1,default:0})],W.prototype,'id',void 0),I([N.prop({type:Number,attribute:!1,default:0})],W.prototype,'raisedOn',void 0),I([N.prop({type:Number,attribute:!1,default:0})],W.prototype,'priority',void 0),I([N.prop({type:String,attribute:!1,default:'info'})],W.prototype,'type',void 0),I([N.prop({type:String,attribute:!1,default:''})],W.prototype,'title',void 0),I([N.prop({type:String,attribute:!1,default:''})],W.prototype,'body',void 0),I([N.prop({type:Array,attribute:!1,default:[]})],W.prototype,'buttons',void 0),I([N.prop({type:Number,attribute:!1,default:0})],W.prototype,'remaining',void 0),I([N.prop({type:Number,attribute:!1,default:0})],W.prototype,'positionInStack',void 0),I([N.prop({type:Boolean,attribute:!1,default:!1})],W.prototype,'showLoadingAnimation',void 0),I([N.prop({type:Boolean,attribute:!0,default:!1})],W.prototype,'stacked',void 0),E.CTAlertModal=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(z,W,J,G){var $=arguments.length,K=3>$?W:null===G?G=Object.getOwnPropertyDescriptor(W,J):G,X;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)K=Reflect.decorate(z,W,J,G);else for(var Q=z.length-1;0<=Q;Q--)(X=z[Q])&&(K=(3>$?X(K):3<$?X(W,J,K):X(W,J))||K);return 3<$&&K&&Object.defineProperty(W,J,K),K},A=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(4);class B extends N.CTLayerComponent{static get is(){return'ct-avatar-tile'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}:host .avatar-tile{position:relative;display:flex;align-items:center;padding:var(--avatar-tile-padding, 6px 10px);color:var(--default-font-color, #212121);background-color:var(--list-item-bg, #fff);border-bottom:var(--list-item-border, 1px solid #ddd)}:host .avatar-tile .avatar{flex:none;display:flex;flex-direction:column;justify-content:center;align-items:center}:host .avatar-tile .avatar ::slotted(*){margin:0 10px 0 0}:host .avatar-tile .detail{flex:1 1 auto;display:flex;flex-direction:column;overflow:hidden}:host .avatar-tile.hatched{background-size:5px 5px;background-image:linear-gradient(45deg, rgba(0,0,0,0) 46%, #d8d8d8 49%, #d8d8d8 51%, rgba(0,0,0,0) 55%)}
        `}generateComponentMarkup(){const z=['avatar-tile'];this.hatched&&z.push('hatched');const W=H.buildStyles({height:this.height||'auto'});return window.__CTRender('div',{class:z.join(' '),style:W},window.__CTRender('div',{class:'avatar'},window.__CTRender('slot',{name:'avatar'})),window.__CTRender('div',{class:'detail',style:this.detailStyle},window.__CTRender('slot',null)),window.__CTRender('slot',{name:'additional'}))}}I([N.prop({type:String,attribute:!1,default:null})],B.prototype,'height',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],B.prototype,'hatched',void 0),I([N.prop({type:Object,attribute:!1,default:{}})],B.prototype,'detailStyle',void 0),E.CTAvatarTile=B,B.register()},function(L,E,R){'use strict';var I=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const A=R(0),N=R(2),H=R(12);class B extends A.CTLayerComponent{constructor(){super(...arguments),this.ALL_LOGGERS_TOKEN='_all_',this._loggingTypes=Object.values(H.LoggerTypes).filter((z,W)=>0==W%2),this._selectedLoggingTypes=[]}static get is(){return'ct-debugger'}initialize(){return I(this,void 0,void 0,function*(){this._selectedLoggingTypes=this.layer.logger.getTypes()})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}:host .debugger .section{border:1px dotted var(--default-border-color, #d9d9d9);border-radius:8px;padding:10px}:host .debugger .section .heading{font-size:18px;font-weight:600;margin:0 0 10px 0}:host .debugger .section .buttons{display:flex;margin:10px 0}:host .debugger .section .buttons .button+.button{margin:0 0 0 5px}:host .debugger .section.logging .options{display:flex;flex-wrap:wrap}:host .debugger .section.logging .options .option{width:160px}:host .debugger .section+.section{margin:10px 0 0 0}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:'debugger'},this._renderLoggingOptions(),this._renderResetOptions())}_renderLoggingOptions(){const z=this.layer.logger.hasInitialTypes();return window.__CTRender('div',{class:'section logging'},window.__CTRender('div',{class:'heading'},'Logging'),window.__CTRender('div',{class:'buttons'},window.__CTRender(N.CTButton,{class:'button',type:'secondary',width:'auto',onClick:this._enableAllLogging.bind(this)},'All'),window.__CTRender(N.CTButton,{class:'button',type:'secondary',width:'auto',onClick:this._disableAllLogging.bind(this)},'None'),z&&window.__CTRender(N.CTButton,{class:'button',type:'secondary',width:'auto',onClick:this._resetAllLogging.bind(this)},'Reset')),window.__CTRender('div',{class:'options'},this._loggingTypes.map((W)=>{const J=this._selectedLoggingTypes.includes(W)||this._selectedLoggingTypes.includes(this.ALL_LOGGERS_TOKEN);return window.__CTRender('div',{key:W,class:'option'},window.__CTRender('label',{htmlFor:W},window.__CTRender('input',{type:'checkbox',id:W,checked:J,onChange:()=>this._onChangeLoggingType(W)}),' ',W))})))}_renderResetOptions(){return window.__CTRender('div',{class:'section reset'},window.__CTRender('div',{class:'heading'},'App reset'),window.__CTRender('div',{class:'buttons'},window.__CTRender(N.CTButton,{class:'button',type:'secondary',width:'auto',onClick:this._reloadApp.bind(this)},'Reload'),window.__CTRender(N.CTButton,{class:'button',type:'secondary',width:'auto',onClick:this._clearAllAppData.bind(this)},'Clear local data')))}_enableAllLogging(){return I(this,void 0,void 0,function*(){yield this.layer.setSupportLoggingTypes([...this._loggingTypes]),this._updateLoggers()})}_disableAllLogging(){this.layer.setSupportLoggingTypes([]),this._updateLoggers()}_resetAllLogging(){this.layer.resetSupportLogging(),this._updateLoggers()}_onChangeLoggingType(z){this._selectedLoggingTypes.includes(this.ALL_LOGGERS_TOKEN)&&(this._selectedLoggingTypes=[...this._loggingTypes]);const W=this._selectedLoggingTypes.includes(z)?this._selectedLoggingTypes.filter((J)=>J!==z):[...this._selectedLoggingTypes,z];this.layer.setSupportLoggingTypes(W),this._updateLoggers()}_reloadApp(){this.layer.showWaitingMessage('Reloading...'),window.location.reload()}_clearAllAppData(){this.layer.showWaitingMessage('Clearing all data...'),this.layer.clearAllData().then(()=>{window.location.reload()})}_updateLoggers(){this._selectedLoggingTypes=this.layer.logger.getTypes(),this.forceRedraw()}}E.CTDebugger=B,B.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(19),B=R(2),z=R(3);class W extends N.CTLayerComponent{constructor(){super(...arguments),this.btnClick=()=>A(this,void 0,void 0,function*(){const J=yield H.CtXmppClient.pickFile({mimeTypes:this.fileTypes});this.callback&&this.callback(J)})}static get is(){return'ct-file-picker'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return``}generateComponentMarkup(){return window.__CTRender('div',null,window.__CTRender(B.CTButton,{icon:z.Icons.COMMON.PlusSign,iconColor:'#fff',onClick:this.btnClick}))}}I([N.prop({type:Array,attribute:!0,default:['image/jpeg','image/png','image/gif']})],W.prototype,'fileTypes',void 0),I([N.prop({type:Function,attribute:!1})],W.prototype,'callback',void 0),E.CTFilePicker=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(z,W,J,G){var $=arguments.length,K=3>$?W:null===G?G=Object.getOwnPropertyDescriptor(W,J):G,X;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)K=Reflect.decorate(z,W,J,G);else for(var Q=z.length-1;0<=Q;Q--)(X=z[Q])&&(K=(3>$?X(K):3<$?X(W,J,K):X(W,J))||K);return 3<$&&K&&Object.defineProperty(W,J,K),K},A=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(4);class B extends N.CTLayerComponent{constructor(){super(),this._textbox=null,this._sizeTest=null,this._htmlStripper=null,this._messageContent='',this._sizeTestContent='',this._isMaxSizeMessageTextBox=!1,this._setupResizeWatcher()}static get is(){return'ct-growing-textbox'}initialize(){return A(this,void 0,void 0,function*(){this.onRenderComplete(()=>this._updateTextboxHeight(),!0)})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:flex}:host .growing-textbox{display:flex;flex-direction:column;flex:1 1 auto}:host .growing-textbox .textbox{flex:1 1 auto;font-family:inherit;font-size:inherit;font-weight:inherit;min-height:32px;overflow:hidden;padding:6px 10px;resize:none;outline:none;background:#ffffff;border:var(--secondary-border, 1px solid #ddd);will-change:transform}:host .growing-textbox .textbox.animate-height{transition:height 0.1s ease-out}:host .growing-textbox .textbox.transparent{background:transparent;border:0;padding:7px 10px}:host .growing-textbox .textbox.max-size{overflow:auto}:host .growing-textbox .textbox.size-test{position:fixed;top:-10000px;left:-10000px;height:auto;white-space:pre-wrap}:host .growing-textbox .textbox::placeholder{color:var(--subtle-font-color, #828688)}:host .growing-textbox .textbox::-webkit-input-placeholder{color:var(--subtle-font-color, #828688)}
        `}generateComponentMarkup(){const z=['textbox','animate-height'];this.transparent&&z.push('transparent'),this._isMaxSizeMessageTextBox&&z.push('max-size');const W=H.buildStyles({"max-height":`${this.maxHeight||200}px`});return null!==this.height&&(W.height=`${this.height}px`),window.__CTRender('div',{class:'growing-textbox'},window.__CTRender('textarea',{id:'textbox',class:z.join(' '),style:W,rows:1,value:this.value,placeholder:this.placeholder,disabled:this.disabled,maxLength:this.maxLength,onFocus:this._onFocus.bind(this),onInput:this._onChange.bind(this),onKeydown:(J)=>this._onKeyDown(J)}),window.__CTRender('div',{id:'size-test',class:'textbox size-test'},this.renderHtml(this._sizeTestContent)))}_onFocus(){'function'==typeof this.onFocus&&this.onFocus()}_onChange(){this._updateTextboxHeight(),'function'==typeof this.onChange&&this.onChange()}_onKeyDown(z){13===z.keyCode&&z.shiftKey&&(z.preventDefault(),'function'==typeof this.onSubmit&&this.onSubmit())}focus(){this._getDomNodes();this._textbox&&this._textbox.focus()}getValue(){return this._getDomNodes(),this._textbox?this._textbox.value:''}clear(){this._getDomNodes();this._textbox&&(this.value='',this._textbox.value='',this._updateTextboxHeight())}_getDomNodes(){const z=this.shadowRoot;this._textbox=this._textbox||z.querySelector('#textbox'),this._sizeTest=this._sizeTest||z.querySelector('#size-test'),this._htmlStripper=this._htmlStripper||document.createElement('div')}_setupResizeWatcher(){window.addEventListener('resize',this._updateTextboxHeight.bind(this))}_updateTextboxHeight(){if((this._getDomNodes(),!!this._textbox)&&this._sizeTest){const z=this._textbox.value;this._sizeTest.style.width=`${this._textbox.offsetWidth}px`,this._messageContent=z,this._htmlStripper.innerHTML=z;const W=this._htmlStripper.textContent.replace(/\n/g,'<br/>');this._sizeTestContent=W,this._sizeTest.innerHTML=W+'&nbsp',this.height=this._sizeTest.offsetHeight;const J=(this.height||0)>=this.maxHeight;J!==this._isMaxSizeMessageTextBox&&(this._isMaxSizeMessageTextBox=J,this.forceRedraw())}}}I([N.prop({type:String,attribute:!0,default:''})],B.prototype,'value',void 0),I([N.prop({type:String,attribute:!0,default:''})],B.prototype,'placeholder',void 0),I([N.prop({type:N.NullableNumber,attribute:!0,default:null})],B.prototype,'height',void 0),I([N.prop({type:Number,attribute:!0,default:200})],B.prototype,'maxHeight',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],B.prototype,'transparent',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],B.prototype,'disabled',void 0),I([N.prop({type:Number,attribute:!0,default:!1})],B.prototype,'maxLength',void 0),I([N.prop({type:Function,attribute:!1,default:null})],B.prototype,'onFocus',void 0),I([N.prop({type:Function,attribute:!1,default:null})],B.prototype,'onChange',void 0),I([N.prop({type:Function,attribute:!1,default:null})],B.prototype,'onSubmit',void 0),E.CTGrowingTextbox=B,B.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(z,W,J,G){var $=arguments.length,K=3>$?W:null===G?G=Object.getOwnPropertyDescriptor(W,J):G,X;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)K=Reflect.decorate(z,W,J,G);else for(var Q=z.length-1;0<=Q;Q--)(X=z[Q])&&(K=(3>$?X(K):3<$?X(W,J,K):X(W,J))||K);return 3<$&&K&&Object.defineProperty(W,J,K),K},A=this&&this.__awaiter||function(z,W,J,G){return new(J||(J=Promise))(function($,K){function X(ee){try{Z(G.next(ee))}catch(te){K(te)}}function Q(ee){try{Z(G['throw'](ee))}catch(te){K(te)}}function Z(ee){ee.done?$(ee.value):new J(function(te){te(ee.value)}).then(X,Q)}Z((G=G.apply(z,W||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(4);class B extends N.CTLayerComponent{static get is(){return'ct-icon'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:flex}:host svg{margin:auto}:host([spin]) svg{animation:spin 1s infinite linear;transform-origin:50% 50%}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        `}generateComponentMarkup(){if(!this.icon)return null;const z=H.buildStyles({fill:'auto'===this.color?window.getComputedStyle(this.parentElement).color:this.color,width:this.width,height:this.height}),W=this.icon.viewBox||'0 0 1024 1024',J=this.icon.nodes||[],G=this.icon.paths||[];return J.length?this._drawFromNodes(W,J,z):this._drawFromPaths(W,G,z)}_drawFromPaths(z,W,J){return window.__CTRender('svg',{width:this.width,height:this.height,viewBox:z,style:J},W.map((G)=>window.__CTRender('path',{d:G})))}_drawFromNodes(z,W,J){return window.__CTRender('svg',{width:this.width,height:this.height,viewBox:z,style:J},W.map((G)=>this._drawNode(G)))}_drawNode(z){return window.__CTRender(z.name,Object.assign({},z.attributes),(z.children||[]).map((W)=>this._drawNode(W)))}}I([N.prop({type:String,attribute:!0})],B.prototype,'width',void 0),I([N.prop({type:String,attribute:!0})],B.prototype,'height',void 0),I([N.prop({type:String,attribute:!0,default:'auto'})],B.prototype,'color',void 0),I([N.prop({type:Boolean,attribute:!0,default:!1})],B.prototype,'spin',void 0),I([N.prop({type:Object,attribute:!1,default:null})],B.prototype,'icon',void 0),E.CTIcon=B,B.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(X,Q,Z,ee){var te=arguments.length,ne=3>te?Q:null===ee?ee=Object.getOwnPropertyDescriptor(Q,Z):ee,ae;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ne=Reflect.decorate(X,Q,Z,ee);else for(var se=X.length-1;0<=se;se--)(ae=X[se])&&(ne=(3>te?ae(ne):3<te?ae(Q,Z,ne):ae(Q,Z))||ne);return 3<te&&ne&&Object.defineProperty(Q,Z,ne),ne},A=this&&this.__awaiter||function(X,Q,Z,ee){return new(Z||(Z=Promise))(function(te,ne){function ae(ie){try{de(ee.next(ie))}catch(oe){ne(oe)}}function se(ie){try{de(ee['throw'](ie))}catch(oe){ne(oe)}}function de(ie){ie.done?te(ie.value):new Z(function(oe){oe(ie.value)}).then(ae,se)}de((ee=ee.apply(X,Q||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(15),B=R(6),z=R(4),W=R(2),J=R(3);var G;(function(X){X[X.USERNAME='Username']='USERNAME',X[X.PASSWORD='Password']='PASSWORD',X[X.LOG_IN='Log In']='LOG_IN',X[X.LOG_OUT='Log Out']='LOG_OUT'})(G||(G={}));class ${static _create(){return new H.Metadata(K,G)}static get instance(){return this._instance||(this._instance=this._create())}}$._instance=null,E.CTLoginFormMetadata=$;class K extends N.CTLayerComponent{constructor(){super(),this.setMetadata($.instance)}static get is(){return'ct-login-form'}initialize(){return A(this,void 0,void 0,function*(){this._resetFields()})}setupListeners(){this.addListener(B.BaseEvents.ConnectionStatusChange,(X)=>{switch(X.status){case J.ConnectionStatus.Connected:this.userLoggedIn=!0;break;case J.ConnectionStatus.Connecting:this.isWaiting=!0;break;default:this.isWaiting=!1,this.userLoggedIn=!1;}},{dontSuppress:!0})}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block;width:100%;margin:auto}:host .form{display:flex;flex-direction:column;width:100%}:host .form .form-field,:host .form .form-buttons{margin:5px 0}:host .form.theme-light .form-buttons .button{--button-primary-bg: transparent;--button-primary-text: #ffffff;--button-primary-border: 1px solid #ffffff}
        `}generateComponentMarkup(){return this.userLoggedIn?this._renderLogoutForm():this._renderLoginForm()}_renderLoginForm(){const X=['form'];this.theme&&X.push(`theme-${this.theme}`);const Q=z.buildStyles({display:this.hideUsername?'none':'block'}),Z={};return this.theme&&(Z[`theme-${this.theme}`]=!0),window.__CTRender('div',{class:X.join(' ')},window.__CTRender('div',{class:'form-field',style:Q},window.__CTRender(W.CTTextbox,Object.assign({type:'text',placeholder:this.translateI18nItem(G.USERNAME),name:'username',defaultValue:this._username,disabled:this.disableUsername||this.isWaiting},Z,{callback:(ee)=>this._onChange(ee),returnKeypress:()=>this._login()}))),window.__CTRender('div',{class:'form-field'},window.__CTRender(W.CTTextbox,Object.assign({type:'password',placeholder:this.translateI18nItem(G.PASSWORD),name:'password',defaultValue:this._password},Z,{callback:(ee)=>this._onChange(ee),disabled:this.isWaiting,returnKeypress:()=>this._login()}))),window.__CTRender('div',{class:'form-buttons'},window.__CTRender(W.CTButton,{class:'button',type:'primary',disabled:this.disabled,onClick:()=>this._login(),isWaiting:this.isWaiting},this.logInLabel||this.translateI18nItem(G.LOG_IN))))}_renderLogoutForm(){let X=this.layer.getCurrentUserJid();this.autoAppendDomainName&&(X=X.split('@').shift());const Q={};return this.theme&&(Q[`theme-${this.theme}`]=!0),window.__CTRender('div',{class:'form',style:z.buildStyles({display:'flex'})},window.__CTRender('div',{class:'form-field'},window.__CTRender(W.CTTextbox,Object.assign({type:'text',name:'username',defaultValue:X},Q,{disabled:!0}))),window.__CTRender('div',{class:'form-buttons'},window.__CTRender(W.CTButton,{type:'primary',disabled:!1,onClick:()=>this._logout(),isWaiting:this.isWaiting},this.translateI18nItem(G.LOG_OUT))))}_onChange(X){X&&'username'===X.key&&(this._username=X.value),X&&'password'===X.key&&(this._password=X.value),this.disabled=!this._username||!this._password}_resetFields(){this._username=this.username||'',this._password='',this.disabled=!0}_login(){return A(this,void 0,void 0,function*(){if(this._username&&this._password){this.isWaiting=!0;let X=this.autoAppendDomainName?`${this._username.trim()}@${this.layer.config.xmpp.user.domain}`:this._username.trim();this.layer.config.xmpp.user&&!0===this.layer.config.xmpp.user.forceLowercaseJid&&(X=X.toLowerCase());try{yield this.layer.login(X,this._password),this.emitComponentEvent(B.BaseEvents.LoginFormResult,new B.CommsEventArgs(!0)),this.isWaiting=!1,this._resetFields()}catch(Q){this.emitComponentEvent(B.BaseEvents.LoginFormResult,new B.CommsEventArgs(!1,`Could not log in as ${X}`)),this.isWaiting=!1,this._password='',this._onChange(),document.activeElement.blur()}}})}_logout(){return A(this,void 0,void 0,function*(){this.isWaiting=!0;try{yield this.layer.logout(),this.isWaiting=!1,this._resetFields()}catch(X){this.emitComponentEvent(B.BaseEvents.LoginFormResult,new B.CommsEventArgs(!1,`There was an error logging out. Please try again.`)),this.isWaiting=!1,document.activeElement.blur()}})}}I([N.prop({type:String,attribute:!0,default:''})],K.prototype,'theme',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],K.prototype,'autoAppendDomainName',void 0),I([N.prop({type:String,attribute:!0,default:''})],K.prototype,'username',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],K.prototype,'hideUsername',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],K.prototype,'disableUsername',void 0),I([N.prop({type:String,attribute:!0,default:null})],K.prototype,'logInLabel',void 0),I([N.prop({type:Boolean,attribute:!1,default:!1})],K.prototype,'isWaiting',void 0),I([N.prop({type:Boolean,attribute:!1,default:!0})],K.prototype,'disabled',void 0),I([N.prop({type:Boolean,attribute:!1,default:!1})],K.prototype,'userLoggedIn',void 0),E.CTLoginForm=K,K.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(2);class z extends N.CTLayerComponent{constructor(){super(),this._open=!1,this._setUpEventHandlers()}static get is(){return'ct-menu'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:inline-block;color:inherit}:host .menu-container{position:relative}:host .menu-container .button{cursor:pointer}:host .menu-container .menu{position:absolute;top:25px;right:0;min-width:80px;background:#ffffff;color:#212121;border:1px solid #dddddd;z-index:99999;box-shadow:0 2px 5px rgba(0,0,0,0.5)}:host .menu-container .menu .menu-item{border-bottom:1px solid #dddddd;padding:10px;cursor:pointer;white-space:nowrap}:host .menu-container .menu .menu-item.disabled{opacity:0.5}:host .menu-container .menu .menu-item:hover:not(.disabled){background:#efefef}:host .menu-container .menu .menu-item:last-child{border-bottom:0}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:'menu-container'},window.__CTRender('div',{class:'button',onClick:(J)=>this._toggleMenu(J)},window.__CTRender(B.CTIcon,{width:'20',height:'20',icon:H.Icons.COMMON.MenuDots})),this._open&&window.__CTRender('div',{class:'menu'},this.menuItems.map((J)=>this._renderMenuItem(J))))}_renderMenuItem(J){const G=['menu-item'];return J.disabled&&G.push('disabled'),window.__CTRender('div',{class:G.join(' '),onClick:()=>this._performAction(J)},J.label)}_toggleMenu(J){J.stopPropagation(),this._setMenuState(!this._open)}_performAction(J){J&&J.action&&!J.disabled&&(this._setMenuState(!1),J.action())}_setUpEventHandlers(){const J=this._handleDocumentInteraction.bind(this);document.addEventListener('click',J),window.addEventListener('resize',J)}_setMenuState(J=!this._open){this._open=J,this.forceRedraw()}_handleDocumentInteraction(){this._open&&this._setMenuState(!1)}}I([N.prop({type:Array,attribute:!0,default:[]})],z.prototype,'menuItems',void 0),E.CTMenu=z;E.MenuItem=class{constructor(J,G,$=!1){this.label=J,this.action=G,this.disabled=$}},z.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(Q,Z,ee,te){var ne=arguments.length,ae=3>ne?Z:null===te?te=Object.getOwnPropertyDescriptor(Z,ee):te,se;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ae=Reflect.decorate(Q,Z,ee,te);else for(var de=Q.length-1;0<=de;de--)(se=Q[de])&&(ae=(3>ne?se(ae):3<ne?se(Z,ee,ae):se(Z,ee))||ae);return 3<ne&&ae&&Object.defineProperty(Z,ee,ae),ae},A=this&&this.__awaiter||function(Q,Z,ee,te){return new(ee||(ee=Promise))(function(ne,ae){function se(oe){try{ie(te.next(oe))}catch(le){ae(le)}}function de(oe){try{ie(te['throw'](oe))}catch(le){ae(le)}}function ie(oe){oe.done?ne(oe.value):new ee(function(le){le(oe.value)}).then(se,de)}ie((te=te.apply(Q,Z||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(15),B=R(3),z=R(6),W=R(4),J=R(2),G=R(42);var $;(function(Q){Q[Q.ONLINE='Online']='ONLINE',Q[Q.OFFLINE='Offline']='OFFLINE',Q[Q.RECONNECTING='Reconnecting']='RECONNECTING',Q[Q.RECONNECT='Reconnect']='RECONNECT'})($||($={}));class K{static _create(){return new H.Metadata(X,$)}static get instance(){return this._instance||(this._instance=this._create())}}K._instance=null,E.CTOnlineIndicatorMetadata=K;class X extends N.CTLayerComponent{constructor(){super(),this.attemptCount=0,this.setMetadata(K.instance)}static get is(){return'ct-online-indicator'}initialize(){return A(this,void 0,void 0,function*(){this.status=this.layer.getConnectionStatus()})}setupListeners(){this.addListener(z.BaseEvents.ConnectionStatusChange,(Q)=>{this.status=Q.status,this.reconnectTime=Q.reconnectTime,this.allowReconnect=Q.status===B.ConnectionStatus.Disconnected,clearInterval(this.timeoutId),Q.reconnectTime&&(this.timeoutId=setInterval(()=>{this.reconnectTime-=1e3},1e3))},{dontSuppress:!0})}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:inline-flex;font-size:inherit;font-weight:inherit;color:inherit}:host .online-indicator{display:flex;align-items:center}:host .online-indicator .icon{flex:none;margin:0 5px 0 0}:host .online-indicator .label{display:flex;align-items:center;flex:1 1}:host .online-indicator .label .reconnect-detail{display:flex;align-items:center}:host .online-indicator .label .reconnect-detail .countdown{width:40px;padding:0 5px}
        `}generateComponentMarkup(){const Q=['online-indicator',this.status===B.ConnectionStatus.Connected?'online':'offline'],Z=this.status===B.ConnectionStatus.Connecting?B.Icons.COMMON.LoadingSpinner:this.status===B.ConnectionStatus.Connected?B.Icons.COMMON.StatusOnline:B.Icons.COMMON.StatusOffline;return window.__CTRender('div',{class:Q.join(' ')},W.renderIf(this.showIcon,window.__CTRender('div',{class:'icon'},window.__CTRender(J.CTIcon,{width:'16',height:'16',icon:Z,spin:this.status===B.ConnectionStatus.Connecting}))),W.renderIf(this.showText,window.__CTRender('div',{class:'label'},window.__CTRender('span',{class:'status'},this._getStatusLabel()),W.renderIf(this.status===B.ConnectionStatus.Disconnected&&this.reconnectTime!==void 0&&0<this.reconnectTime,window.__CTRender('span',{class:'reconnect-detail'},window.__CTRender('span',{class:'countdown'},this._getCountdownLabel()),window.__CTRender(G.CTButton,{type:'invert-secondary',disabled:!this.allowReconnect,onClick:(ee)=>this._tryLoginNow(ee)},this.translateI18nItem($.RECONNECT)))))))}_getStatusLabel(){switch(this.status){case B.ConnectionStatus.Connected:return this.translateI18nItem($.ONLINE);case B.ConnectionStatus.Connecting:return this.translateI18nItem($.RECONNECTING);case B.ConnectionStatus.Disconnecting:case B.ConnectionStatus.Disconnected:return this.translateI18nItem($.OFFLINE);}}_getCountdownLabel(){return`(${this.reconnectTime/1e3}s)`}_tryLoginNow(){!1===this.allowReconnect||(this.allowReconnect=!1,this.status=B.ConnectionStatus.Connecting,this.layer.attemptReconnect())}}I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],X.prototype,'showIcon',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],X.prototype,'showText',void 0),I([N.prop({type:String,attribute:!1,default:B.ConnectionStatus.Disconnected})],X.prototype,'status',void 0),I([N.prop({type:Number,attribute:!1,default:0})],X.prototype,'reconnectTime',void 0),I([N.prop({type:Boolean,attribute:!1,default:!1})],X.prototype,'allowReconnect',void 0),E.CTOnlineIndicator=X,X.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(W,J,G,$){var K=arguments.length,X=3>K?J:null===$?$=Object.getOwnPropertyDescriptor(J,G):$,Q;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)X=Reflect.decorate(W,J,G,$);else for(var Z=W.length-1;0<=Z;Z--)(Q=W[Z])&&(X=(3>K?Q(X):3<K?Q(J,G,X):Q(J,G))||X);return 3<K&&X&&Object.defineProperty(J,G,X),X},A=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(2),B=R(3);class z extends N.CTLayerComponent{static get is(){return'ct-searchbox'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}:host .search-box{position:relative;color:var(--subtle-font-color, #828688)}:host .search-box input{width:100%;height:30px;font-family:inherit;font-size:14px;font-weight:inherit;padding:4px 26px;border-radius:15px;background:#ffffff;color:var(--default-font-color, #212121);border:var(--secondary-border, 1px solid #ddd);outline:none}:host .search-box input::placeholder{text-align:center;color:var(--subtle-font-color, #828688)}:host .search-box input::-webkit-input-placeholder{text-align:center;color:var(--subtle-font-color, #828688)}:host .search-box .icon{position:absolute;top:0;left:0;height:100%;padding:0 7px}:host .search-box .clear{position:absolute;top:0;right:0;height:100%;padding:0 7px;cursor:pointer}
        `}generateComponentMarkup(){let W=B.Icons.COMMON.Search;return'filter'===this.type&&(W=B.Icons.COMMON.Filter),window.__CTRender('div',{class:'search-box'},window.__CTRender('input',{type:'text',placeholder:this.placeholder,oninput:(J)=>this._onChange(J.target.value),onblur:()=>this._onBlur()}),window.__CTRender(H.CTIcon,{class:'icon',width:'16',height:'16',icon:W}),this.allowClear&&this.showClear&&window.__CTRender(H.CTIcon,{class:'clear',width:'12',height:'12',icon:B.Icons.COMMON.CircleCross,onClick:this._clear.bind(this)}))}_onChange(W){const J=0===W.length;J?(this.cancelDebounce('search'),this.showClear=!1,this.value='',this.onSearch('')):(this.showClear=!0,this.debounce('search',()=>{this.value=W,'function'==typeof this.onSearch&&this.onSearch(W)},this.delay))}_clear(W=!0){if(this.allowClear){const J=this.shadowRoot.querySelector('input');J.value='',W&&J.focus(),this._onChange('')}}_onBlur(){this.onBlur&&this.onBlur()}clear(){return A(this,void 0,void 0,function*(){this._clear(!1)})}}I([N.prop({type:String,attribute:!0,default:'search'})],z.prototype,'type',void 0),I([N.prop({type:String,attribute:!0,default:''})],z.prototype,'placeholder',void 0),I([N.prop({type:Number,attribute:!0,default:200})],z.prototype,'delay',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],z.prototype,'allowClear',void 0),I([N.prop({type:Function,attribute:!1,default:null})],z.prototype,'onSearch',void 0),I([N.prop({type:Function,attribute:!1,default:null})],z.prototype,'onBlur',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],z.prototype,'showClear',void 0),I([N.prop({type:String,attribute:!1,default:''})],z.prototype,'value',void 0),E.CTSearchbox=z,z.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(W,J,G,$){var K=arguments.length,X=3>K?J:null===$?$=Object.getOwnPropertyDescriptor(J,G):$,Q;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)X=Reflect.decorate(W,J,G,$);else for(var Z=W.length-1;0<=Z;Z--)(Q=W[Z])&&(X=(3>K?Q(X):3<K?Q(J,G,X):Q(J,G))||X);return 3<K&&X&&Object.defineProperty(J,G,X),X},A=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(2),B=R(4);class z extends N.CTLayerComponent{static get is(){return'ct-selection-list'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block;width:100%}:host .selection-list{display:flex;flex-direction:row;flex-wrap:wrap}:host .selection-list .dropdown-contanier{flex:1 1 100%}:host .selection-list .dropdown-contanier select{width:100%;height:30px;background-color:var(--default-bg-color-light, rgba(0,0,0,0));border-width:var(--select-border-width, 0);border-color:var(--select-border-color, #d9d9d9);color:var(--default-font-color, #000);font-size:15px;outline:var(--default-select-border, 1px solid #000);border-radius:var(--select-border-radius, inherit)}:host .selection-list .button-container{position:relative;flex:0 1 50%}:host .selection-list .button-container:nth-child(2n-1){padding:10px 5px 0 0}:host .selection-list .button-container:nth-child(2n-2){padding:10px 0 0 5px}:host .selection-list .button-container:nth-child(1),:host .selection-list .button-container:nth-child(2){padding-top:0}:host .selection-list.button-list{display:block}:host .selection-list.button-list .button-container{display:block;padding:0 0 1px 0}:host .selection-list.button-list .button-container:last-child{padding:0}
        `}generateComponentMarkup(){const J=!this.forceDropdown&&(this.buttonList||this.options.length<=4),G=['selection-list'];return this.buttonList&&G.push('button-list'),window.__CTRender('div',{class:G.join(' ')},B.renderIfElse(J,this._renderButtons(),this._renderDropDown()))}_renderDropDown(){return window.__CTRender('div',{class:'dropdown-contanier'},window.__CTRender('select',{onChange:(W)=>this._onMakeSelection(W),value:this.selected.toString()},this.options.map((W)=>window.__CTRender('option',{"data-key":W.key,value:W.key.toString(),defaultSelected:this.selected===W.key},W.value))))}_renderButtons(){return this.options.map((W)=>window.__CTRender('div',{class:'button-container'},window.__CTRender(H.CTButton,{"data-key":W.key,type:'secondary',selected:this.selected===W.key,onClick:(J)=>this._onMakeSelection(J)},W.value)))}_onMakeSelection(W){const J=W.target;if(!J)return;let G=null;switch(J.nodeName){case'CT-BUTTON':G=parseInt(J.getAttribute('data-key'));break;case'SELECT':G=parseInt(J.value);}if(!isNaN(G)){const $=this.options.find((K)=>K.key===G);$&&(this._makeSelection($.key),this.selected=$.key)}}_makeSelection(W){'function'==typeof this.onSelect&&this.onSelect(W)}}I([N.prop({type:Number,attribute:!0,default:Number.MIN_VALUE})],z.prototype,'selected',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!1})],z.prototype,'buttonList',void 0),I([N.prop({type:Boolean,attribute:!0,default:!1})],z.prototype,'forceDropdown',void 0),I([N.prop({type:Function,attribute:!0})],z.prototype,'onSelect',void 0),I([N.prop({type:Array,attribute:!1,default:[]})],z.prototype,'options',void 0),E.CTSelectionList=z,z.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(4),z=R(2);class W extends N.CTLayerComponent{static get is(){return'ct-slide-panel'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block;color:inherit}@keyframes fadein{0%{opacity:0;transform:translateX(-100%)}1%{opacity:0;transform:translateX(0)}100%{opacity:1;transform:translateX(0)}}@keyframes fadeout{0%{opacity:1;transform:translateX(0)}99%{opacity:0;transform:translateX(0)}100%{opacity:0;transform:translateX(-100%)}}@keyframes slidein{0%{transform:translateX(-200%)}1%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideout{0%{transform:translateX(0)}99%{transform:translateX(-100%)}100%{transform:translateX(-200%)}}:host .slide-panel{display:flex;justify-content:center;align-items:center;height:100%}:host .slide-panel .button{display:block;z-index:99999;cursor:pointer}:host .slide-panel .blocker{position:fixed;top:0;left:0;width:100%;height:100%;transform:translateX(-200%);background:rgba(0,0,0,0.5);z-index:99997;will-change:transform}:host .slide-panel .slide-panel-menu{position:fixed;top:0;left:0;height:100%;transform:translateX(-200%);background:transparent;color:#212121;z-index:99998;will-change:transform}:host .slide-panel.open .blocker{animation:fadein var(--animation-fast, .3s) 1 ease-out normal forwards}:host .slide-panel.open .slide-panel-menu{animation:slidein var(--animation-fast, .3s) 1 ease-out normal forwards}:host .slide-panel.closed .blocker{animation:fadeout var(--animation-fast, .3s) 1 ease-out normal forwards}:host .slide-panel.closed .slide-panel-menu{animation:slideout var(--animation-fast, .3s) 1 ease-out normal forwards}
        `}generateComponentMarkup(){const J=['slide-panel',this.state],G=B.buildStyles({width:this.menuWidth||'300px'});return window.__CTRender('div',{class:J.join(' ')},window.__CTRender('div',{class:'button',onClick:this._toggleMenu.bind(this)},window.__CTRender(z.CTIcon,{width:'20',height:'20',icon:H.Icons.COMMON.Menu})),window.__CTRender('div',{class:'blocker',onClick:this._closeMenu.bind(this)}),window.__CTRender('div',{class:'slide-panel-menu',style:G},window.__CTRender('slot',null)))}_toggleMenu(){this.state=this.state&&'closed'!==this.state?'closed':'open'}_closeMenu(){this.state='closed'}}I([N.prop({type:String,attribute:!0,default:'300px'})],W.prototype,'menuWidth',void 0),I([N.prop({type:String,attribute:!1,default:''})],W.prototype,'state',void 0),E.CTSlidePanel=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(4),B=R(2),z=R(3);class W extends N.CTLayerComponent{static get is(){return'ct-textbox'}initialize(){return A(this,void 0,void 0,function*(){this._value=this.defaultValue||'',this._isPasswordField=this.type&&'password'===this.type.toLowerCase(),this._isPasswordField&&this._watchPasswordField()})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host label{color:var(--default-font-color, #212121)}:host div div.input{position:relative;display:flex;flex-direction:row;margin:0 0 5px 0;border-bottom:1px solid var(--default-border-color, #d9d9d9)}:host div div.input.focus{border-color:var(--login-form-border-color, green)}:host div div.input input,:host div div.input textarea{flex:1 1;font-family:inherit;font-size:inherit;font-weight:inherit;background-color:var(--default-bg-color-light, transparent);border:none;padding:0.3em;margin:auto;outline:none;resize:none;color:var(--login-form-font-color, inherit)}:host div div.input input:focus,:host div div.input textarea:focus{border:none;outline-offset:0}:host div div.input input:focus:not(:placeholder-shown) ~ .clear-value,:host div div.input textarea:focus:not(:placeholder-shown) ~ .clear-value{opacity:0.5;cursor:pointer}:host div div.input input:focus:not(:placeholder-shown) ~ .required,:host div div.input textarea:focus:not(:placeholder-shown) ~ .required{visibility:hidden}:host div div.input input:valid ~ .required,:host div div.input textarea:valid ~ .required{visibility:hidden}:host div div.input ct-icon{flex:0 0 20px;text-align:center}:host div div.input ct-icon.show-password{opacity:0.5}:host div div.input ct-icon.show-password.show-password-enabled{opacity:1}:host div div.input ct-icon.required{position:absolute;right:5px;top:0;height:100%}:host div div.input ct-icon.clear-value{opacity:0}:host div div.input ct-icon+ct-icon{margin:0 0 0 5px}:host div div.input .validation{margin-bottom:1%;color:red}:host div.disabled div.input{border-bottom:none}:host([full-border]) div div.input{background:#ffffff;border:1px solid var(--default-border-color, #d9d9d9)}:host([theme-light]) label{color:#ffffff}:host([theme-light]) div div.input{border-bottom:1px solid rgba(255,255,255,0.6);color:#ffffff}:host([theme-light]) div div.input input,:host([theme-light]) div div.input textarea{color:#ffffff}:host([theme-light]) div div.input input::placeholder,:host([theme-light]) div div.input textarea::placeholder{color:rgba(255,255,255,0.6)}:host([theme-light]) div div.input input::-webkit-input-placeholder,:host([theme-light]) div div.input textarea::-webkit-input-placeholder{color:rgba(255,255,255,0.6)}:host([theme-light]) div div.input.focus{border-color:#ffffff}
        `}generateComponentMarkup(){const J={};return this.max&&(J.maxlength=this.max),window.__CTRender('div',{class:this.disabled?'disabled':''},H.renderIf(void 0!==this.label,window.__CTRender('label',{htmlFor:this.name},this.label)),window.__CTRender('div',{class:'input'},H.renderIfElse('textarea'===this.type,window.__CTRender('textarea',Object.assign({placeholder:this.placeholder,name:this.name,onFocus:()=>this._toggleFocus(!0),onBlur:()=>this._toggleFocus(!1),onInput:(G)=>this._updateValue({key:G.target.name,value:G.target.value}),onkeydown:this._keydown.bind(this),value:this.defaultValue,disabled:this.disabled,required:this.required,rows:5},J)),window.__CTRender('input',Object.assign({type:this.type,placeholder:this.placeholder,name:this.name,onFocus:()=>this._toggleFocus(!0),onBlur:()=>this._toggleFocus(!1),onInput:(G)=>this._updateValue({key:G.target.name,value:G.target.value}),onkeydown:this._keydown.bind(this),value:this.defaultValue,disabled:this.disabled,required:this.required},J))),H.renderIf(this.required,window.__CTRender(B.CTIcon,{class:'required',width:'8',height:'8',color:'#a91a49',icon:z.Icons.COMMON.RequiredField})),H.renderIf(this.showClearOptions&&!this._isPasswordField,window.__CTRender(B.CTIcon,{class:'clear-value',width:'12',height:'12',icon:z.Icons.COMMON.ClearTextbox,onClick:()=>this._clear()})),H.renderIf(this._isPasswordField,window.__CTRender(B.CTIcon,{class:`show-password ${'text'===this.type?'show-password-enabled':''}`,width:'20',height:'20',icon:z.Icons.COMMON.ShowPassword,onClick:()=>this._togglePasswordFieldType()}))))}_toggleFocus(J){const G=this.shadowRoot.querySelector('.input'),$='textarea'===this.type?G.querySelector('textarea'):G.querySelector('input');J?(G.classList.add('focus'),'scrollIntoViewIfNeeded'in $?$.scrollIntoViewIfNeeded():'scrollIntoView'in $&&$.scrollIntoView()):G.classList.remove('focus')}_keydown(J){13===J.keyCode&&this.returnKeypress?this.returnKeypress():null}_updateValue(J){this._value=J.value,'function'==typeof this.callback&&this.callback({key:J.key,value:J.value,validated:this.validated})}_clear(){let J;J='textarea'===this.type?this.shadowRoot.querySelector('textarea'):this.shadowRoot.querySelector('input'),J.value='',J.focus(),J.dispatchEvent(new Event('input'))}_togglePasswordFieldType(){this._isPasswordField&&('password'===this.type?this.type='text':this.type='password')}_watchPasswordField(){const J=(G)=>{const $=this.shadowRoot.querySelector('.input');if(G.path){const K=G.path.includes($);!1===K&&'text'===this.type&&(this.type='password')}};document.removeEventListener('click',J),document.addEventListener('click',J)}}I([N.prop({type:String,attribute:!0})],W.prototype,'placeholder',void 0),I([N.prop({type:String,attribute:!0})],W.prototype,'type',void 0),I([N.prop({type:String,attribute:!0})],W.prototype,'label',void 0),I([N.prop({type:String,attribute:!0})],W.prototype,'name',void 0),I([N.prop({type:Boolean,attribute:!0,default:!0})],W.prototype,'showClearOptions',void 0),I([N.prop({type:String,attribute:!0})],W.prototype,'defaultValue',void 0),I([N.prop({type:Boolean,attribute:!0,default:!1})],W.prototype,'required',void 0),I([N.prop({type:Boolean,attribute:!0,default:!1})],W.prototype,'disabled',void 0),I([N.prop({type:Boolean,attribute:!0,default:!1})],W.prototype,'fullBorder',void 0),I([N.prop({type:Number,attribute:!0,default:4e3})],W.prototype,'max',void 0),I([N.prop({type:Boolean,attribute:!1,default:!0})],W.prototype,'validated',void 0),E.CTTextbox=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(3),B=R(4),z=R(2);class W extends N.CTLayerComponent{static get is(){return'ct-user-avatar'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:block}:host .bg{position:relative;flex:none;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:50%;overflow:hidden;background:var(--avatar-bg, #7b7e80);color:var(--avatar-color, #fff)}:host .bg .image{position:absolute;top:0;left:0;border-radius:50%}
        `}generateComponentMarkup(){const J=B.buildStyles({width:`${this.size}px`,height:`${this.size}px`}),G=Math.floor(this.size/2);return window.__CTRender('div',{class:'bg',style:J},window.__CTRender(z.CTIcon,{icon:H.Icons.COMMON.User,width:G,height:G}),this.user.avatar&&window.__CTRender('img',{class:'image',src:this.user.avatar,width:this.size,height:this.size}))}}I([N.prop({type:Number,attribute:!1,default:40})],W.prototype,'size',void 0),I([N.prop({type:Object,attribute:!1})],W.prototype,'user',void 0),E.CTUserAvatar=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(J,G,$,K){var X=arguments.length,Q=3>X?G:null===K?K=Object.getOwnPropertyDescriptor(G,$):K,Z;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)Q=Reflect.decorate(J,G,$,K);else for(var ee=J.length-1;0<=ee;ee--)(Z=J[ee])&&(Q=(3>X?Z(Q):3<X?Z(G,$,Q):Z(G,$))||Q);return 3<X&&Q&&Object.defineProperty(G,$,Q),Q},A=this&&this.__awaiter||function(J,G,$,K){return new($||($=Promise))(function(X,Q){function Z(ne){try{te(K.next(ne))}catch(ae){Q(ae)}}function ee(ne){try{te(K['throw'](ne))}catch(ae){Q(ae)}}function te(ne){ne.done?X(ne.value):new $(function(ae){ae(ne.value)}).then(Z,ee)}te((K=K.apply(J,G||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(6),B=R(3),z=R(2);class W extends N.CTLayerComponent{static get is(){return'ct-user-display'}initialize(){return A(this,void 0,void 0,function*(){this._update()})}setupListeners(){this.addListeners([H.BaseEvents.ConnectionStatusChange,H.BaseEvents.CurrentUserVCardUpdate],()=>{this._update()})}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:inline-flex;font-size:inherit;font-weight:inherit;color:inherit}:host .user-display{display:flex;align-items:center}:host .user-display .icon{flex:none;margin:0 5px 0 0}:host .user-display .label{flex:1 1}
        `}generateComponentMarkup(){switch(this.type){case'simple':return this._renderSimple();case'full':return this._renderFull();}return null}_renderSimple(){return this.displayName?window.__CTRender('div',{class:'user-display'},this.showIcon&&window.__CTRender('div',{class:'icon'},window.__CTRender(z.CTIcon,{width:'16',height:'16',icon:B.Icons.COMMON.UserIconEmpty})),window.__CTRender('div',{class:'label'},this.displayName)):null}_renderFull(){return this.user?window.__CTRender('div',{class:'user-display'},window.__CTRender(z.CTUserTile,{user:this.user,showAvatar:this.showIcon})):null}_update(){switch(this.type){case'simple':this.displayName=this.layer.getCurrentXmppDisplayName(),this.user=null;break;case'full':this.displayName=null,this.user=this.layer.getCurrentUser();}}}I([N.prop({type:String,attribute:!0,default:'simple'})],W.prototype,'type',void 0),I([N.prop({type:N.Stroolean,attribute:!0,default:!0})],W.prototype,'showIcon',void 0),I([N.prop({type:String,attribute:!1,default:null})],W.prototype,'displayName',void 0),I([N.prop({type:Object,attribute:!1,default:null})],W.prototype,'user',void 0),E.CTUserDisplay=W,W.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(Q,Z,ee,te){var ne=arguments.length,ae=3>ne?Z:null===te?te=Object.getOwnPropertyDescriptor(Z,ee):te,se;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)ae=Reflect.decorate(Q,Z,ee,te);else for(var de=Q.length-1;0<=de;de--)(se=Q[de])&&(ae=(3>ne?se(ae):3<ne?se(Z,ee,ae):se(Z,ee))||ae);return 3<ne&&ae&&Object.defineProperty(Z,ee,ae),ae},A=this&&this.__awaiter||function(Q,Z,ee,te){return new(ee||(ee=Promise))(function(ne,ae){function se(oe){try{ie(te.next(oe))}catch(le){ae(le)}}function de(oe){try{ie(te['throw'](oe))}catch(le){ae(le)}}function ie(oe){oe.done?ne(oe.value):new ee(function(le){le(oe.value)}).then(se,de)}ie((te=te.apply(Q,Z||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(15),B=R(3),z=R(5),W=R(4),J=R(2),G=R(160);var $;(function(Q){Q[Q.SEARCH_PLACEHOLDER='Find Users']='SEARCH_PLACEHOLDER',Q[Q.INITIAL_MESSAGE='Find users by searching for first name or last name']='INITIAL_MESSAGE',Q[Q.NO_MATCHES='No users match your search']='NO_MATCHES',Q[Q.SEARCH_BY='Search By:']='SEARCH_BY',Q[Q.SEARCH_BY_ALL='All']='SEARCH_BY_ALL',Q[Q.SEARCH_BY_NAME='Name']='SEARCH_BY_NAME',Q[Q.SEARCH_BY_JOB_TITLE='Job Title']='SEARCH_BY_JOB_TITLE',Q[Q.SEARCH_BY_ROLE='Role']='SEARCH_BY_ROLE'})($||($={}));class K{static _create(){return new H.Metadata(X,$)}static get instance(){return this._instance||(this._instance=this._create())}}K._instance=null,E.CTUserListMetadata=K;class X extends N.CTLayerComponent{constructor(){super(),this.TILE_HEIGHT=70,this.setMetadata(K.instance),this._virtualList=new G.VirtualList(this,[],{itemHeight:this.TILE_HEIGHT,itemKeyGetter:(Q)=>Q.jid}),this._onWindowResize=this._onWindowResize.bind(this),window.addEventListener('resize',this._onWindowResize,!0)}static get is(){return'ct-user-list'}initialize(){return A(this,void 0,void 0,function*(){this.allowSearch&&this.requireSearch?(this.isFetching=!1,this.searchTerm=''):(this.isFetching=!0,this.defer(()=>A(this,void 0,void 0,function*(){yield this._searchContacts('')})))})}setupListeners(){}disconnectedCallback(){window.removeEventListener('resize',this._onWindowResize)}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host{display:flex;flex-direction:column;height:100%}:host .user-list{position:relative;display:flex;flex-direction:column;flex:1 1 auto;height:100%}:host .user-list .search{flex:0 0 75px;display:flex;flex-direction:column;justify-content:center;align-items:center;background:var(--secondary-color, #2c394e);border-bottom:var(--secondary-border, 1px solid #ddd)}:host .user-list .search .search-box{width:75%;font-size:14px}:host .user-list .search .fields{margin-top:10px}:host .user-list .search input[type="radio"]{display:none}:host .user-list .search input[type="radio"]:checked+span{font-weight:bold;color:var(--primary-color, #15233b)}:host .user-list .search label{border-right:solid 1px #E1E1E1;padding:0 10px;color:#999999;font-size:14px}:host .user-list .search label:first-child{color:#CCCCCC}:host .user-list .search label:first-child,:host .user-list .search label:last-child{border-right:none}:host .user-list .selected-users{flex:none;display:flex;align-items:center;height:0;background-color:var(--list-item-bg, #fff);overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;transition:height var(--animation-normal, .5s) ease-out}:host .user-list .selected-users .scroller{display:inline-flex}:host .user-list .selected-users .scroller .selected-user{display:inline-flex;flex-direction:column;justify-content:center;align-items:center;text-overflow:ellipsis;width:70px;margin:10px 0 0 0}:host .user-list .selected-users .scroller .selected-user .avatar{position:relative;margin:0 0 5px 0}:host .user-list .selected-users .scroller .selected-user .avatar .remove{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;top:-5px;right:-5px;width:16px;height:16px;border-radius:50%;background:var(--avatar-bg, #7b7e80);border:2px solid var(--avatar-color, #fff);color:var(--avatar-color, #fff);cursor:pointer}:host .user-list .selected-users .scroller .selected-user .name{font-size:14px;overflow:hidden;text-overflow:ellipsis;width:100%;height:20px;line-height:0.9em;text-align:center}:host .user-list .selected-users.has-selections{height:70px;border-bottom:var(--list-item-border, 1px solid #ddd)}:host .user-list .user-list-items{position:relative;display:flex;flex-direction:column;flex:1 1 auto;height:100%;overflow:hidden}:host .user-list .user-list-items .users-loading-bg{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;background:var(--list-bg, #2c394e);z-index:-1}:host .user-list .user-list-items .users{flex:1 1 auto;overflow:auto;-webkit-overflow-scrolling:touch}:host .user-list .user-list-items .users .user{position:relative}:host .user-list .user-list-items .users .user .selection{position:absolute;top:0;right:0;height:100%;display:flex;justify-content:center;align-items:center;padding:0 20px;cursor:pointer}:host .user-list .user-list-items .users .user .selection .checkbox{display:flex;justify-content:center;align-items:center;width:16px;height:16px;color:var(--subtle-font-color, #828688);border:2px solid var(--subtle-font-color, #828688)}:host .user-list .user-list-items .users .user.selected .selection .checkbox{border:0}:host .user-list .user-list-items .users .user.selection-disabled .selection{opacity:0;cursor:not-allowed}:host .user-list .user-list-items .users .user.clickable{cursor:pointer}:host .user-list .initial-message,:host .user-list .fetching,:host .user-list .no-users{flex:1;display:flex;justify-content:center;align-items:flex-start;height:100%;text-align:center;padding:55px;background:var(--list-bg, #2c394e);color:var(--subtle-font-color, #828688)}:host .user-list .initial-message{align-items:center;font-size:18px}
        `}generateComponentMarkup(){return window.__CTRender('div',{class:'user-list'},this.allowSearch&&window.__CTRender('div',{class:'search'},window.__CTRender(J.CTSearchbox,{id:'search-box',class:'search-box',placeholder:this.searchPlaceholder||this.translateI18nItem($.SEARCH_PLACEHOLDER),onSearch:this._onSearchChange.bind(this)}),window.__CTRender('div',{class:'fields'},window.__CTRender('label',{class:'search-by'},this.translateI18nItem($.SEARCH_BY)),window.__CTRender('label',null,window.__CTRender('input',{type:'radio',value:'all',name:'field',checked:!0,onClick:this._onSearchByChange.bind(this)}),' ',window.__CTRender('span',null,this.translateI18nItem($.SEARCH_BY_ALL))),window.__CTRender('label',null,window.__CTRender('input',{type:'radio',value:'name',name:'field',onClick:this._onSearchByChange.bind(this)}),' ',window.__CTRender('span',null,this.translateI18nItem($.SEARCH_BY_NAME))),window.__CTRender('label',null,window.__CTRender('input',{type:'radio',value:'jobTitle',name:'field',onClick:this._onSearchByChange.bind(this)}),' ',window.__CTRender('span',null,this.translateI18nItem($.SEARCH_BY_JOB_TITLE))),W.renderIf(this.layer.config.roles.enableRoles,window.__CTRender('label',null,window.__CTRender('input',{type:'radio',value:'role',name:'field',onClick:this._onSearchByChange.bind(this)}),' ',window.__CTRender('span',null,this.translateI18nItem($.SEARCH_BY_ROLE)))))),this.allowSelection&&this._renderSelections(),this.isFetching&&window.__CTRender('div',{class:'fetching'},window.__CTRender(J.CTIcon,{width:'16',height:'16',icon:B.Icons.COMMON.LoadingSpinner,spin:!0})),!this.isFetching&&window.__CTRender('div',{class:'user-list-items'},this._users&&1<this._users.length&&window.__CTRender('div',{class:'fetching users-loading-bg'},window.__CTRender(J.CTIcon,{width:'16',height:'16',icon:B.Icons.COMMON.LoadingSpinner,spin:!0})),this._renderUsers()))}_renderSelections(){const Q=['selected-users'],Z=0<this.selections.size;return Z&&Q.push('has-selections'),window.__CTRender('div',{class:Q.join(' ')},0<this.selections.size&&window.__CTRender('div',{class:'scroller'},[...this.selections.values()].map((ee)=>window.__CTRender('div',{class:'selected-user'},window.__CTRender('div',{class:'avatar'},window.__CTRender(J.CTUserAvatar,{user:ee,size:32}),window.__CTRender('div',{class:'remove',onClick:(te)=>this._removeUserSelection(ee,te)},window.__CTRender(J.CTIcon,{class:'icon',width:'6',height:'6',icon:B.Icons.COMMON.Cross}))),window.__CTRender('div',{class:'name'},z.formatUserName(ee,this.selectedUsersNameFormat))))))}_renderUsers(){const Q=!this.searchTerm||0===this.searchTerm.trim().length;if(this.allowSearch&&this.requireSearch&&Q)return window.__CTRender('div',{class:'initial-message'},this.initialMessage||this.translateI18nItem($.INITIAL_MESSAGE));const Z=this._users.length;return 0===Z?window.__CTRender('div',{class:'no-users'},this.noMatchesMessage||this.translateI18nItem($.NO_MATCHES)):this._virtualList.render(this._renderUser.bind(this),'users','users-content')}_renderUser(Q,Z){const ee=this._userSelected(Q),te=['user'],ne=this._maxUsersReached();this.allowSelection&&ee&&te.push('selected'),!ee&&ne&&te.push('selection-disabled'),'function'==typeof this.onClickUser&&te.push('clickable');const se=W.buildStyles({paddingRight:'36px'});return window.__CTRender('div',Object.assign({class:te.join(' ')},Z,{onClick:(de)=>this._onClickUser(Q,de)}),window.__CTRender(J.CTUserTile,{user:Q,nameFormat:this.nameFormat,height:`${this.TILE_HEIGHT}px`,detailStyle:se},this.allowSelection&&window.__CTRender('div',{slot:'additional',class:'selection',onClick:((de)=>{de.stopPropagation();this.allowSelection&&(ee||!ne)&&this._toggleUserSelection(Q,de)}).bind(this)},window.__CTRender('div',{class:'checkbox'},ee&&window.__CTRender(J.CTIcon,{width:'12',height:'12',icon:B.Icons.COMMON.Tick})))))}_onSearchByChange(){const Q=this.shadowRoot.querySelector('#search-box');this._onSearchChange(Q.value)}_onSearchChange(Q){const Z=!Q||0===Q.trim().length,ee=Z?0:250;this.isFetching=!Z,this.debounce('search',()=>{this._searchContacts(Q)},ee)}_onWindowResize(){this.debounce('resize',()=>{this.forceRecalcList()})}forceRecalcList(){this._virtualList.forceRecalc()}_onClickUser(Q,Z){Z.stopPropagation(),'function'==typeof this.onClickUser&&this.onClickUser(Q)}_toggleUserSelection(Q,Z){return A(this,void 0,void 0,function*(){Z.stopPropagation();this.allowSelection&&(this._userSelected(Q)?yield this._removeUserSelection(Q,Z):yield this._addUserSelection(Q,Z))})}_addUserSelection(Q,Z){return A(this,void 0,void 0,function*(){Z.stopPropagation(),this.selections.set(Q.jid,Q),this.onRenderComplete(()=>{const ee=this.shadowRoot.querySelector('.selected-users');ee.scrollLeft=ee.firstChild.clientWidth},!0),'function'==typeof this.onChangeSelection&&this.onChangeSelection((yield this.getSelections())),this.forceRedraw()})}_removeUserSelection(Q,Z){return A(this,void 0,void 0,function*(){Z.stopPropagation(),this.selections.delete(Q.jid),'function'==typeof this.onChangeSelection&&this.onChangeSelection((yield this.getSelections())),this.forceRedraw()})}getSelections(){return A(this,void 0,void 0,function*(){return this.allowSelection?z.deepCloneArray([...this.selections.values()]):[]})}clearSelections(){return A(this,void 0,void 0,function*(){this.allowSelection&&(this.selections.clear(),'function'==typeof this.onChangeSelection&&this.onChangeSelection((yield this.getSelections())),this.forceRedraw(),yield z.sleep(0))})}reset(){return A(this,void 0,void 0,function*(){const Q=this.shadowRoot.querySelector('#search-box');Q&&(yield Q.clear(),yield this.clearSelections())})}_searchContacts(Q){return A(this,void 0,void 0,function*(){const Z=!Q||0===Q.trim().length;if(Z&&this.requireSearch)this.searchTerm='',this._updateUserList([]),this.isFetching=!1;else{const ee=this.shadowRoot.querySelectorAll('input[name="field"]');let te=null;for(const ie in ee){const oe=ee[ie];if(oe.checked){te=oe.value;break}}const ne=[];'name'===te?(ne.push('firstName'),ne.push('lastName')):'jobTitle'===te?ne.push('jobTitle'):'role'===te?ne.push('group'):void 0;const ae=yield this.layer.searchUsers(Q,ne),se=(this.excludeUsers||[]).map((ie)=>ie.toLowerCase()),de=se.length?ae.filter((ie)=>!se.includes(ie.jid.toLowerCase())):ae;this.searchTerm=Q,this._updateUserList(de),this.isFetching=!1}})}_userSelected(Q){return this.selections.has(Q.jid)}_maxUsersReached(){return(this.maxSelections||0===this.maxSelections)&&this.selections.size>=this.maxSelections}_updateUserList(Q){return A(this,void 0,void 0,function*(){this._users=Q,this._virtualList.setItems(this._users)})}}I([N.prop({type:Object,attribute:!1,default:z.NameFormat.PREFIX_FIRST_LAST})],X.prototype,'nameFormat',void 0),I([N.prop({type:Array,attribute:!1,default:null})],X.prototype,'excludeUsers',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],X.prototype,'allowSearch',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],X.prototype,'requireSearch',void 0),I([N.prop({type:String,attribute:!1,default:null})],X.prototype,'searchPlaceholder',void 0),I([N.prop({type:String,attribute:!1,default:null})],X.prototype,'initialMessage',void 0),I([N.prop({type:String,attribute:!1,default:null})],X.prototype,'noMatchesMessage',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],X.prototype,'allowSelection',void 0),I([N.prop({type:Object,attribute:!1,default:z.NameFormat.PREFIX_INITIAL_LAST})],X.prototype,'selectedUsersNameFormat',void 0),I([N.prop({type:N.NullableNumber,attribute:!1,default:null})],X.prototype,'maxSelections',void 0),I([N.prop({type:Function,attribute:!1,default:null})],X.prototype,'onClickUser',void 0),I([N.prop({type:Function,attribute:!1,default:null})],X.prototype,'onChangeSelection',void 0),I([N.prop({type:Object,attribute:!1,default:new Map})],X.prototype,'selections',void 0),I([N.prop({type:String,attribute:!1,default:''})],X.prototype,'searchTerm',void 0),I([N.prop({type:N.Stroolean,attribute:!1,default:!1})],X.prototype,'isFetching',void 0),E.CTUserList=X,X.register()},function(L,E,R){'use strict';var I=this&&this.__decorate||function(W,J,G,$){var K=arguments.length,X=3>K?J:null===$?$=Object.getOwnPropertyDescriptor(J,G):$,Q;if('object'==typeof Reflect&&'function'==typeof Reflect.decorate)X=Reflect.decorate(W,J,G,$);else for(var Z=W.length-1;0<=Z;Z--)(Q=W[Z])&&(X=(3>K?Q(X):3<K?Q(J,G,X):Q(J,G))||X);return 3<K&&X&&Object.defineProperty(J,G,X),X},A=this&&this.__awaiter||function(W,J,G,$){return new(G||(G=Promise))(function(K,X){function Q(te){try{ee($.next(te))}catch(ne){X(ne)}}function Z(te){try{ee($['throw'](te))}catch(ne){X(ne)}}function ee(te){te.done?K(te.value):new G(function(ne){ne(te.value)}).then(Q,Z)}ee(($=$.apply(W,J||[])).next())})};Object.defineProperty(E,'__esModule',{value:!0});const N=R(0),H=R(5),B=R(2);class z extends N.CTLayerComponent{static get is(){return'ct-user-tile'}initialize(){return A(this,void 0,void 0,function*(){})}setupListeners(){}get generateComponentStyles(){return`:host{font-family:inherit;font-size:inherit;font-weight:400;color:#212121}:host h1,:host h2,:host h3,:host h4,:host h5,:host h6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host,:host *{box-sizing:border-box}.user-html p{margin:0}.user-html p+p{margin:.8em 0 0 0}.user-html strong{font-weight:600}:host .name{flex:1 1 auto;font-size:18px;color:var(--default-font-color, #212121);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .job-title,:host .group{color:var(--subtle-font-color, #828688);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .group{font-style:italic}:host .empty{color:#E1E1E1}
        `}generateComponentMarkup(){if(this.user){const W=['group'];this.user.group||W.push('empty');const J=['job-title'];return this.user.jobTitle||J.push('empty'),window.__CTRender(B.CTAvatarTile,{height:this.height,showAvatar:this.showAvatar,detailStyle:this.detailStyle},this.showAvatar&&window.__CTRender(B.CTUserAvatar,{slot:'avatar',size:40,user:this.user}),window.__CTRender('div',{class:'name'},H.formatUserName(this.user,this.nameFormat)),window.__CTRender('div',{class:J.join(' ')},this.user.jobTitle||'No Job Title'),this.layer.config.roles.enableRoles&&window.__CTRender('div',{class:W.join(' ')},this.user.group||'No Role'),window.__CTRender('slot',{name:'additional'}))}}}I([N.prop({type:N.Stroolean,attribute:!1,default:!0})],z.prototype,'showAvatar',void 0),I([N.prop({type:Object,attribute:!1})],z.prototype,'user',void 0),I([N.prop({type:Object,attribute:!1,default:H.NameFormat.PREFIX_FIRST_LAST})],z.prototype,'nameFormat',void 0),I([N.prop({type:String,attribute:!1,default:null})],z.prototype,'height',void 0),I([N.prop({type:Object,attribute:!1,default:{}})],z.prototype,'detailStyle',void 0),E.CTUserTile=z,z.register()},function(L,E,R){'use strict';function A(W,J){return null===J||z.has(J)?z.get(J).getUniqueI18Keys(W)||[]:[]}Object.defineProperty(E,'__esModule',{value:!0});const N=R(43),H=R(37),B=R(2);E.getCommonI18nKeys=function(W=!1,...J){0===J.length&&(J=[...z.keys()]);const G=J.reduce(($,K)=>$.concat(A(W,K)),[]);return G.filter(($,K,X)=>{return X.indexOf($)===K}).sort()};const z=new Map;z.set('DefaultAlerts',H.DefaultAlertsMetadata.instance),z.set('CTLoginForm',B.CTLoginFormMetadata.instance),z.set('CTOnlineIndicator',B.CTOnlineIndicatorMetadata.instance),z.set('CTUserList',B.CTUserListMetadata.instance),z.set('Common',N.CommonMetadata)},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0});const I=R(4),A=R(5),N=R(4),H='vl-l';class B{constructor(z,W,J){this.EMPTY_STYLES=I.buildStyles(),this._scrollerStyles=I.buildStyles({"overflow-y":'auto',overflowScrolling:'touch',WebkitOverflowScrolling:'touch',"will-change":'transform'}),this._host=z,this._items=W,this._config=J,this._initialized=!1,this._id=`vl_${A.generateRandomSixString()}`,this._scroller=null,this._useBlocks=J.blockSize&&0<J.blockSize,z.onRenderComplete(()=>{return this._scroller=z.shadowRoot.querySelector(`#${this._id}`),this._scroller?void(this._initialized||(N.debouncedRequestAnimationFrame(()=>this._calculateVirtualListData(!0)),this._scroller.addEventListener('scroll',()=>N.debouncedRequestAnimationFrame(()=>this._calculateVirtualListData())),this._initialized=!0)):void(this._initialized=!1)}),window.addEventListener('resize',()=>{this._useBlocks||this._calculateVirtualListData()})}get items(){return this._items}setItems(z){this._items=z,this._calculateVirtualListData(!0),this._updateHost()}render(z,W='',J=''){const G=this._data&&this._data.scrollerProps||{id:this._id,key:this._id},$=this._data&&this._data.containerProps||{},K=this._data&&!!this._data.viewportItems;return window.__CTRender('div',Object.assign({class:`virtual-list-scroller ${W}`},G),K&&window.__CTRender('div',Object.assign({class:`virtual-list-content ${J}`},$),this._data.viewportItems.map((X,Q)=>z(X.item,X.itemProps,Q))))}_calculateVirtualListData(z=!1){if(this._scroller){const W=Math.floor(this._scroller.scrollTop/this._config.itemHeight),J=parseInt(this._scroller.getAttribute(H))||null,G=this._useBlocks?Math.floor(W/this._config.blockSize):W;if(z||J!==G){const $=this._items.length;if(this._useBlocks){const K=this._config.itemHeight*this._config.blockSize,X=Math.floor($/this._config.blockSize)+1,Q=Math.max(0,G-1),Z=Math.min(X,G+1),te=(Z-Q+1)*this._config.blockSize,ne=Q*this._config.blockSize,ae=Math.max(0,ne+te-1),de=this._items.slice(ne,ae+1);this._data=this._generateVirtualListData(de,G,Q*K)}else{const K=Math.ceil(this._scroller.clientHeight/this._config.itemHeight),X=3*K,Q=Math.max(W-X,0),Z=W+K,ee=Math.max(W-Q,0),te=Math.min($-Z,X),ae=Q*this._config.itemHeight,se=this._items.slice(Q,Z+1);this._data=this._generateVirtualListData(se,G,ae)}this._updateHost(),'function'==typeof this._config.onUpdate&&this._config.onUpdate(this._data)}}}_generateVirtualListData(z,W,J){const G=this._items.length,$=G*this._config.itemHeight;return{viewportItems:this._mapToVirtualListItems(z,J),scrollerProps:{id:this._id,key:this._id,[H]:W.toString(),style:this._scrollerStyles},containerProps:{style:this._setStyles({position:'relative',height:`${$}px`})}}}_mapToVirtualListItems(z,W){return z.map((J,G)=>{const $=W+G*this._config.itemHeight;return{item:J,itemProps:{key:this._config.itemKeyGetter(J),style:this._setStyles({position:'absolute',top:0,left:0,width:'100%',height:`${this._config.itemHeight}px`,transform:`translateY(${$}px)`})}}})}_setStyles(z={}){return Object.assign({},this.EMPTY_STYLES,z)}_updateHost(){this._host.forceRedraw()}forceRecalc(){this._calculateVirtualListData(!0)}}E.VirtualList=B},function(L,E){'use strict';function I(Z){var ee=Z.length;if(0<ee%4)throw new Error('Invalid string. Length must be a multiple of 4');var te=Z.indexOf('=');-1===te&&(te=ee);var ne=te===ee?0:4-te%4;return[te,ne]}function N(Z,ee,te){return 3*(ee+te)/4-te}function B(Z){return J[63&Z>>18]+J[63&Z>>12]+J[63&Z>>6]+J[63&Z]}function z(Z,ee,te){for(var ae=[],se=ee,ne;se<te;se+=3)ne=(16711680&Z[se]<<16)+(65280&Z[se+1]<<8)+(255&Z[se+2]),ae.push(B(ne));return ae.join('')}E.byteLength=function(Z){var ee=I(Z),te=ee[0],ne=ee[1];return 3*(te+ne)/4-ne},E.toByteArray=function(Z){for(var te=I(Z),ne=te[0],ae=te[1],se=new $(N(Z,ne,ae)),de=0,ie=0<ae?ne-4:ne,oe=0,ee;oe<ie;oe+=4)ee=G[Z.charCodeAt(oe)]<<18|G[Z.charCodeAt(oe+1)]<<12|G[Z.charCodeAt(oe+2)]<<6|G[Z.charCodeAt(oe+3)],se[de++]=255&ee>>16,se[de++]=255&ee>>8,se[de++]=255&ee;return 2===ae&&(ee=G[Z.charCodeAt(oe)]<<2|G[Z.charCodeAt(oe+1)]>>4,se[de++]=255&ee),1===ae&&(ee=G[Z.charCodeAt(oe)]<<10|G[Z.charCodeAt(oe+1)]<<4|G[Z.charCodeAt(oe+2)]>>2,se[de++]=255&ee>>8,se[de++]=255&ee),se},E.fromByteArray=function(Z){for(var te=Z.length,ne=te%3,ae=[],se=16383,de=0,ie=te-ne,ee;de<ie;de+=se)ae.push(z(Z,de,de+se>ie?ie:de+se));return 1==ne?(ee=Z[te-1],ae.push(J[ee>>2]+J[63&ee<<4]+'==')):2==ne&&(ee=(Z[te-2]<<8)+Z[te-1],ae.push(J[ee>>10]+J[63&ee>>4]+J[63&ee<<2]+'=')),ae.join('')};for(var J=[],G=[],$='undefined'==typeof Uint8Array?Array:Uint8Array,K='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',X=0,Q=K.length;X<Q;++X)J[X]=K[X],G[K.charCodeAt(X)]=X;G['-'.charCodeAt(0)]=62,G['_'.charCodeAt(0)]=63},function(L,E,R){'use strict';Object.defineProperty(E,'__esModule',{value:!0}),function(I){function A(de,ie){de.super_=ie,de.prototype=Object.create(ie.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}})}function N(de,ie){Object.defineProperty(this,'kind',{value:de,enumerable:!0}),ie&&ie.length&&Object.defineProperty(this,'path',{value:ie,enumerable:!0})}function H(de,ie,oe){H.super_.call(this,'E',de),Object.defineProperty(this,'lhs',{value:ie,enumerable:!0}),Object.defineProperty(this,'rhs',{value:oe,enumerable:!0})}function B(de,ie){B.super_.call(this,'N',de),Object.defineProperty(this,'rhs',{value:ie,enumerable:!0})}function z(de,ie){z.super_.call(this,'D',de),Object.defineProperty(this,'lhs',{value:ie,enumerable:!0})}function W(de,ie,oe){W.super_.call(this,'A',de),Object.defineProperty(this,'index',{value:ie,enumerable:!0}),Object.defineProperty(this,'item',{value:oe,enumerable:!0})}function J(de,ie,oe){var le=de.slice((oe||ie)+1||de.length);return de.length=0>ie?de.length+ie:ie,de.push.apply(de,le),de}function G(de){var ie=typeof de;if('object'!=ie)return ie;return de===Math?'math':null===de?'null':Array.isArray(de)?'array':'[object Date]'===Object.prototype.toString.call(de)?'date':'function'==typeof de.toString&&/^\/.*\//.test(de.toString())?'regexp':'object'}function $(de,ie,oe,le,ue,_e,ce){ue=ue||[],ce=ce||[];var me=ue.slice(0);if('undefined'!=typeof _e){if(le){if('function'==typeof le&&le(me,_e))return;if('object'==typeof le){if(le.prefilter&&le.prefilter(me,_e))return;if(le.normalize){var pe=le.normalize(me,_e,de,ie);pe&&(de=pe[0],ie=pe[1])}}}me.push(_e)}'regexp'===G(de)&&'regexp'===G(ie)&&(de=de.toString(),ie=ie.toString());var ge=typeof de,he=typeof ie,fe='undefined'!=ge||ce&&ce[ce.length-1].lhs&&ce[ce.length-1].lhs.hasOwnProperty(_e),ye='undefined'!=he||ce&&ce[ce.length-1].rhs&&ce[ce.length-1].rhs.hasOwnProperty(_e);if(!fe&&ye)oe(new B(me,ie));else if(!ye&&fe)oe(new z(me,de));else if(G(de)!==G(ie))oe(new H(me,de,ie));else if('date'===G(de)&&0!=de-ie)oe(new H(me,de,ie));else if(!('object'==ge&&null!==de&&null!==ie))de!==ie&&('number'==ge&&isNaN(de)&&isNaN(ie)||oe(new H(me,de,ie)));else if(!ce.filter(function(ve){return ve.lhs===de}).length){if(ce.push({lhs:de,rhs:ie}),Array.isArray(de)){var Te=de.length,Me;for(Me=0;Me<de.length;Me++)Me>=ie.length?oe(new W(me,Me,new z(void 0,de[Me]))):$(de[Me],ie[Me],oe,le,me,Me,ce);for(;Me<ie.length;)oe(new W(me,Me,new B(void 0,ie[Me++])))}else{var Le=Object.keys(de),Se=Object.keys(ie);Le.forEach(function(ve){var Ce=Se.indexOf(ve);0<=Ce?($(de[ve],ie[ve],oe,le,me,ve,ce),Se=J(Se,Ce)):$(de[ve],void 0,oe,le,me,ve,ce)}),Se.forEach(function(ve){$(void 0,ie[ve],oe,le,me,ve,ce)})}--ce.length}else de!==ie&&oe(new H(me,de,ie))}function K(de,ie,oe,le){return le=le||[],$(de,ie,function(ue){ue&&le.push(ue)},oe),le.length?le:void 0}function X(de,ie,oe){if(oe.path&&oe.path.length){var le=de[ie],_e=oe.path.length-1,ue;for(ue=0;ue<_e;ue++)le=le[oe.path[ue]];switch(oe.kind){case'A':X(le[oe.path[ue]],oe.index,oe.item);break;case'D':delete le[oe.path[ue]];break;case'E':case'N':le[oe.path[ue]]=oe.rhs;}}else switch(oe.kind){case'A':X(de[ie],oe.index,oe.item);break;case'D':de=J(de,ie);break;case'E':case'N':de[ie]=oe.rhs;}return de}function Q(de,ie,oe){if(de&&ie&&oe&&oe.kind){for(var le=de,ue=-1,_e=oe.path?oe.path.length-1:0;++ue<_e;)'undefined'==typeof le[oe.path[ue]]&&(le[oe.path[ue]]='number'==typeof oe.path[ue]?[]:{}),le=le[oe.path[ue]];switch(oe.kind){case'A':X(oe.path?le[oe.path[ue]]:le,oe.index,oe.item);break;case'D':delete le[oe.path[ue]];break;case'E':case'N':le[oe.path[ue]]=oe.rhs;}}}function Z(de,ie,oe){if(oe.path&&oe.path.length){var le=de[ie],_e=oe.path.length-1,ue;for(ue=0;ue<_e;ue++)le=le[oe.path[ue]];switch(oe.kind){case'A':Z(le[oe.path[ue]],oe.index,oe.item);break;case'D':le[oe.path[ue]]=oe.lhs;break;case'E':le[oe.path[ue]]=oe.lhs;break;case'N':delete le[oe.path[ue]];}}else switch(oe.kind){case'A':Z(de[ie],oe.index,oe.item);break;case'D':de[ie]=oe.lhs;break;case'E':de[ie]=oe.lhs;break;case'N':de=J(de,ie);}return de}var se=[],ne,ae;ne='object'==typeof I&&I?I:'undefined'==typeof window?{}:window,ae=ne.DeepDiff,ae&&se.push(function(){'undefined'!=typeof ae&&ne.DeepDiff===K&&(ne.DeepDiff=ae,ae=void 0)}),A(H,N),A(B,N),A(z,N),A(W,N),Object.defineProperties(K,{diff:{value:K,enumerable:!0},observableDiff:{value:$,enumerable:!0},applyDiff:{value:function(de,ie,oe){if(de&&ie){var le=function(ue){(!oe||oe(de,ie,ue))&&Q(de,ie,ue)};$(de,ie,le)}},enumerable:!0},applyChange:{value:Q,enumerable:!0},revertChange:{value:function(de,ie,oe){if(de&&ie&&oe&&oe.kind){var le=de,ue,_e;for(_e=oe.path.length-1,ue=0;ue<_e;ue++)'undefined'==typeof le[oe.path[ue]]&&(le[oe.path[ue]]={}),le=le[oe.path[ue]];switch(oe.kind){case'A':Z(le[oe.path[ue]],oe.index,oe.item);break;case'D':le[oe.path[ue]]=oe.lhs;break;case'E':le[oe.path[ue]]=oe.lhs;break;case'N':delete le[oe.path[ue]];}}},enumerable:!0},isConflict:{value:function(){return'undefined'!=typeof ae},enumerable:!0},noConflict:{value:function(){return se&&(se.forEach(function(de){de()}),se=null),K},enumerable:!0}}),E['default']=K}.call(E,R(29))},function(L,E){E.read=function(R,I,A,N,H){var W=8*H-N-1,J=(1<<W)-1,G=J>>1,$=-7,K=A?H-1:0,X=A?-1:1,Q=R[I+K],B,z;for(K+=X,B=Q&(1<<-$)-1,Q>>=-$,$+=W;0<$;B=256*B+R[I+K],K+=X,$-=8);for(z=B&(1<<-$)-1,B>>=-$,$+=N;0<$;z=256*z+R[I+K],K+=X,$-=8);if(0===B)B=1-G;else{if(B===J)return z?NaN:(Q?-1:1)*Infinity;z+=Math.pow(2,N),B-=G}return(Q?-1:1)*z*Math.pow(2,B-N)},E.write=function(R,I,A,N,H,B){var G=8*B-H-1,$=(1<<G)-1,K=$>>1,X=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,Q=N?0:B-1,Z=N?1:-1,ee=0>I||0===I&&0>1/I?1:0,z,W,J;for(I=Math.abs(I),isNaN(I)||I===Infinity?(W=isNaN(I)?1:0,z=$):(z=Math.floor(Math.log(I)/Math.LN2),1>I*(J=Math.pow(2,-z))&&(z--,J*=2),I+=1<=z+K?X/J:X*Math.pow(2,1-K),2<=I*J&&(z++,J/=2),z+K>=$?(W=0,z=$):1<=z+K?(W=(I*J-1)*Math.pow(2,H),z+=K):(W=I*Math.pow(2,K-1)*Math.pow(2,H),z=0));8<=H;R[A+Q]=255&W,Q+=Z,W/=256,H-=8);for(z=z<<H|W,G+=H;0<G;R[A+Q]=255&z,Q+=Z,z/=256,G-=8);R[A+Q-Z]|=128*ee}},function(L){var R={}.toString;L.exports=Array.isArray||function(I){return'[object Array]'==R.call(I)}},function(L,E,R){'use strict';function A(K){return K.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function N(K){return K.replace(/"/g,'&quot;')}function H(K){if(!K)return'';var X=[];for(var Q in K){var Z=K[Q]+'';X.push(Q+'="'+N(Z)+'"')}return X.join(' ')}function B(K){var X=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};X=new $(X);for(var Q=J(K),Z=[],ee=0,te;ee<Q.length;ee++){if(te=Q[ee],'nl'===te.type&&X.nl2br){Z.push('<br>\n');continue}else if(!te.isLink||!X.check(te)){Z.push(A(te.toString()));continue}var ne=X.resolve(te),ae=ne.formatted,se=ne.formattedHref,de=ne.tagName,ie=ne.className,oe=ne.target,le=ne.attributes,ue='<'+de+' href="'+N(se)+'"';ie&&(ue+=' class="'+N(ie)+'"'),oe&&(ue+=' target="'+N(oe)+'"'),le&&(ue+=' '+H(le)),ue+='>'+A(ae)+'</'+de+'>',Z.push(ue)}return Z.join('')}E.__esModule=!0;var z=R(166),W=function(K){if(K&&K.__esModule)return K;var X={};if(null!=K)for(var Q in K)Object.prototype.hasOwnProperty.call(K,Q)&&(X[Q]=K[Q]);return X.default=K,X}(z),J=W.tokenize,G=W.options,$=G.Options;String.prototype.linkify||(String.prototype.linkify=function(K){return B(this,K)}),E.default=B},function(L,E,R){'use strict';function I(X){if(X&&X.__esModule)return X;var Q={};if(null!=X)for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(Q[Z]=X[Z]);return Q.default=X,Q}E.__esModule=!0,E.tokenize=E.test=E.scanner=E.parser=E.options=E.inherits=E.find=void 0;var A=R(22),N=R(170),H=I(N),B=R(168),z=I(B),W=R(167),J=I(W);Array.isArray||(Array.isArray=function(X){return'[object Array]'===Object.prototype.toString.call(X)});var G=function(Q){return J.run(z.run(Q))};E.find=function(Q){for(var Z=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,ee=G(Q),te=[],ne=0,ae;ne<ee.length;ne++)ae=ee[ne],ae.isLink&&(!Z||ae.type===Z)&&te.push(ae.toObject());return te},E.inherits=A.inherits,E.options=H,E.parser=J,E.scanner=z,E.test=function(Q){var Z=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,ee=G(Q);return 1===ee.length&&ee[0].isLink&&(!Z||ee[0].type===Z)},E.tokenize=G},function(L,E,R){'use strict';function I(Ae){if(Ae&&Ae.__esModule)return Ae;var xe={};if(null!=Ae)for(var Oe in Ae)Object.prototype.hasOwnProperty.call(Ae,Oe)&&(xe[Oe]=Ae[Oe]);return xe.default=Ae,xe}E.__esModule=!0,E.start=E.run=E.TOKENS=E.State=void 0;var A=R(45),N=R(28),H=I(N),B=R(169),z=I(B),W=function(xe){return new A.TokenState(xe)},J=W(),G=W(),$=W(),K=W(),X=W(),Q=W(),Z=W(),ee=W(B.URL),te=W(),ne=W(B.URL),ae=W(B.URL),se=W(),de=W(),ie=W(),oe=W(),le=W(),ue=W(B.URL),_e=W(B.URL),ce=W(B.URL),me=W(B.URL),pe=W(),ge=W(),he=W(),fe=W(),ye=W(),Me=W(),Te=W(B.EMAIL),Le=W(),Se=W(B.EMAIL),ve=W(B.MAILTOEMAIL),be=W(),Ce=W(),Ee=W(),De=W(),we=W(B.NL);J.on(N.NL,we).on(N.PROTOCOL,G).on(N.MAILTO,$).on(N.SLASH,K),G.on(N.SLASH,K),K.on(N.SLASH,X),J.on(N.TLD,Q).on(N.DOMAIN,Q).on(N.LOCALHOST,ee).on(N.NUM,Q),X.on(N.TLD,ae).on(N.DOMAIN,ae).on(N.NUM,ae).on(N.LOCALHOST,ae),Q.on(N.DOT,Z),ye.on(N.DOT,Me),Z.on(N.TLD,ee).on(N.DOMAIN,Q).on(N.NUM,Q).on(N.LOCALHOST,Q),Me.on(N.TLD,Te).on(N.DOMAIN,ye).on(N.NUM,ye).on(N.LOCALHOST,ye),ee.on(N.DOT,Z),Te.on(N.DOT,Me),ee.on(N.COLON,te).on(N.SLASH,ae),te.on(N.NUM,ne),ne.on(N.SLASH,ae),Te.on(N.COLON,Le),Le.on(N.NUM,Se);var Ye=[N.DOMAIN,N.AT,N.LOCALHOST,N.NUM,N.PLUS,N.POUND,N.PROTOCOL,N.SLASH,N.TLD,N.UNDERSCORE,N.SYM,N.AMPERSAND],ke=[N.COLON,N.DOT,N.QUERY,N.PUNCTUATION,N.CLOSEBRACE,N.CLOSEBRACKET,N.CLOSEANGLEBRACKET,N.CLOSEPAREN,N.OPENBRACE,N.OPENBRACKET,N.OPENANGLEBRACKET,N.OPENPAREN];ae.on(N.OPENBRACE,de).on(N.OPENBRACKET,ie).on(N.OPENANGLEBRACKET,oe).on(N.OPENPAREN,le),se.on(N.OPENBRACE,de).on(N.OPENBRACKET,ie).on(N.OPENANGLEBRACKET,oe).on(N.OPENPAREN,le),de.on(N.CLOSEBRACE,ae),ie.on(N.CLOSEBRACKET,ae),oe.on(N.CLOSEANGLEBRACKET,ae),le.on(N.CLOSEPAREN,ae),ue.on(N.CLOSEBRACE,ae),_e.on(N.CLOSEBRACKET,ae),ce.on(N.CLOSEANGLEBRACKET,ae),me.on(N.CLOSEPAREN,ae),pe.on(N.CLOSEBRACE,ae),ge.on(N.CLOSEBRACKET,ae),he.on(N.CLOSEANGLEBRACKET,ae),fe.on(N.CLOSEPAREN,ae),de.on(Ye,ue),ie.on(Ye,_e),oe.on(Ye,ce),le.on(Ye,me),de.on(ke,pe),ie.on(ke,ge),oe.on(ke,he),le.on(ke,fe),ue.on(Ye,ue),_e.on(Ye,_e),ce.on(Ye,ce),me.on(Ye,me),ue.on(ke,ue),_e.on(ke,_e),ce.on(ke,ce),me.on(ke,me),pe.on(Ye,ue),ge.on(Ye,_e),he.on(Ye,ce),fe.on(Ye,me),pe.on(ke,pe),ge.on(ke,ge),he.on(ke,he),fe.on(ke,fe),ae.on(Ye,ae),se.on(Ye,ae),ae.on(ke,se),se.on(ke,se),$.on(N.TLD,ve).on(N.DOMAIN,ve).on(N.NUM,ve).on(N.LOCALHOST,ve),ve.on(Ye,ve).on(ke,be),be.on(Ye,ve).on(ke,be);var Re=[N.DOMAIN,N.NUM,N.PLUS,N.POUND,N.QUERY,N.UNDERSCORE,N.SYM,N.AMPERSAND,N.TLD];Q.on(Re,Ce).on(N.AT,Ee),ee.on(Re,Ce).on(N.AT,Ee),Z.on(Re,Ce),Ce.on(Re,Ce).on(N.AT,Ee).on(N.DOT,De),De.on(Re,Ce),Ee.on(N.TLD,ye).on(N.DOMAIN,ye).on(N.LOCALHOST,Te);E.State=A.TokenState,E.TOKENS=z,E.run=function(xe){for(var Oe=xe.length,Pe=0,Ne=[],He=[];Pe<Oe;){for(var je=J,Ue=null,Fe=null,Be=0,qe=null,ze=-1;Pe<Oe&&!(Ue=je.next(xe[Pe]));)He.push(xe[Pe++]);for(;Pe<Oe&&(Fe=Ue||je.next(xe[Pe]));)Ue=null,je=Fe,je.accepts()?(ze=0,qe=je):0<=ze&&ze++,Pe++,Be++;if(0>ze)for(var We=Pe-Be;We<Pe;We++)He.push(xe[We]);else{0<He.length&&(Ne.push(new B.TEXT(He)),He=[]),Pe-=ze,Be-=ze;var Je=qe.emit();Ne.push(new Je(xe.slice(Pe-Be,Pe)))}}return 0<He.length&&Ne.push(new B.TEXT(He)),Ne},E.start=J},function(L,E,R){'use strict';E.__esModule=!0,E.start=E.run=E.TOKENS=E.State=void 0;var A=R(45),N=R(28),H=function(Me){if(Me&&Me.__esModule)return Me;var Te={};if(null!=Me)for(var Le in Me)Object.prototype.hasOwnProperty.call(Me,Le)&&(Te[Le]=Me[Le]);return Te.default=Me,Te}(N),B='aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw'.split('|'),z='0123456789'.split(''),W='0123456789abcdefghijklmnopqrstuvwxyz'.split(''),J=[' ','\f','\r','\t','\x0B','\xA0','\u1680','\u180E'],G=[],$=function(Te){return new A.CharacterState(Te)},K=$(),X=$(N.NUM),Q=$(N.DOMAIN),Z=$(),ee=$(N.WS);K.on('@',$(N.AT)).on('.',$(N.DOT)).on('+',$(N.PLUS)).on('#',$(N.POUND)).on('?',$(N.QUERY)).on('/',$(N.SLASH)).on('_',$(N.UNDERSCORE)).on(':',$(N.COLON)).on('{',$(N.OPENBRACE)).on('[',$(N.OPENBRACKET)).on('<',$(N.OPENANGLEBRACKET)).on('(',$(N.OPENPAREN)).on('}',$(N.CLOSEBRACE)).on(']',$(N.CLOSEBRACKET)).on('>',$(N.CLOSEANGLEBRACKET)).on(')',$(N.CLOSEPAREN)).on('&',$(N.AMPERSAND)).on([',',';','!','"','\''],$(N.PUNCTUATION)),K.on('\n',$(N.NL)).on(J,ee),ee.on(J,ee);for(var te=0,ne;te<B.length;te++)ne=(0,A.stateify)(B[te],K,N.TLD,N.DOMAIN),G.push.apply(G,ne);var ae=(0,A.stateify)('file',K,N.DOMAIN,N.DOMAIN),se=(0,A.stateify)('ftp',K,N.DOMAIN,N.DOMAIN),de=(0,A.stateify)('http',K,N.DOMAIN,N.DOMAIN),ie=(0,A.stateify)('mailto',K,N.DOMAIN,N.DOMAIN);G.push.apply(G,ae),G.push.apply(G,se),G.push.apply(G,de);var oe=ae.pop(),le=se.pop(),ue=de.pop(),_e=ie.pop(),ce=$(N.DOMAIN),me=$(N.PROTOCOL),pe=$(N.MAILTO);le.on('s',ce).on(':',me),ue.on('s',ce).on(':',me),G.push(ce),oe.on(':',me),ce.on(':',me),_e.on(':',pe);var ge=(0,A.stateify)('localhost',K,N.LOCALHOST,N.DOMAIN);G.push.apply(G,ge),K.on(z,X),X.on('-',Z).on(z,X).on(W,Q),Q.on('-',Z).on(W,Q);for(var he=0;he<G.length;he++)G[he].on('-',Z).on(W,Q);Z.on('-',Z).on(z,Q).on(W,Q),K.defaultTransition=$(N.SYM);E.State=A.CharacterState,E.TOKENS=H,E.run=function(Te){for(var Le=Te.replace(/[A-Z]/g,function(Ie){return Ie.toLowerCase()}),Se=Te.length,ve=[],be=0;be<Se;){for(var Ce=K,Ee=null,De=null,we=0,Ye=null,ke=-1;be<Se&&(De=Ce.next(Le[be]));)Ee=null,Ce=De,Ce.accepts()?(ke=0,Ye=Ce):0<=ke&&ke++,we++,be++;if(!(0>ke)){be-=ke,we-=ke;var Re=Ye.emit();ve.push(new Re(Te.substr(be-we,we)))}}return ve},E.start=K},function(L,E,R){'use strict';function I(K){return K instanceof H.DOMAIN||K instanceof H.TLD}E.__esModule=!0,E.URL=E.TEXT=E.NL=E.EMAIL=E.MAILTOEMAIL=E.Base=void 0;var A=R(46),N=R(22),H=R(28),B=(0,A.createTokenClass)();B.prototype={type:'token',isLink:!1,toString:function(){for(var X=[],Q=0;Q<this.v.length;Q++)X.push(this.v[Q].toString());return X.join('')},toHref:function(){return this.toString()},toObject:function(){var X=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'http';return{type:this.type,value:this.toString(),href:this.toHref(X)}}};var z=(0,N.inherits)(B,(0,A.createTokenClass)(),{type:'email',isLink:!0}),W=(0,N.inherits)(B,(0,A.createTokenClass)(),{type:'email',isLink:!0,toHref:function(){this.v;return'mailto:'+this.toString()}}),J=(0,N.inherits)(B,(0,A.createTokenClass)(),{type:'text'}),G=(0,N.inherits)(B,(0,A.createTokenClass)(),{type:'nl'}),$=(0,N.inherits)(B,(0,A.createTokenClass)(),{type:'url',isLink:!0,toHref:function(){for(var X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'http',Q=!1,Z=!1,ee=this.v,te=[],ne=0;ee[ne]instanceof H.PROTOCOL;)Q=!0,te.push(ee[ne].toString().toLowerCase()),ne++;for(;ee[ne]instanceof H.SLASH;)Z=!0,te.push(ee[ne].toString()),ne++;for(;I(ee[ne]);)te.push(ee[ne].toString().toLowerCase()),ne++;for(;ne<ee.length;ne++)te.push(ee[ne].toString());return te=te.join(''),Q||Z||(te=X+'://'+te),te},hasProtocol:function(){return this.v[0]instanceof H.PROTOCOL}});E.Base=B,E.MAILTOEMAIL=z,E.EMAIL=W,E.NL=G,E.TEXT=J,E.URL=$},function(L,E){'use strict';function I(W){W=W||{},this.defaultProtocol=W.defaultProtocol||z.defaultProtocol,this.events=W.events||z.events,this.format=W.format||z.format,this.formatHref=W.formatHref||z.formatHref,this.nl2br=W.nl2br||z.nl2br,this.tagName=W.tagName||z.tagName,this.target=W.target||z.target,this.validate=W.validate||z.validate,this.ignoreTags=[],this.attributes=W.attributes||W.linkAttributes||z.attributes,this.className=W.className||W.linkClass||z.className;for(var J=W.ignoreTags||z.ignoreTags,G=0;G<J.length;G++)this.ignoreTags.push(J[G].toUpperCase())}function N(W){return W}E.__esModule=!0;var B='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&'function'==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?'symbol':typeof W},z={defaultProtocol:'http',events:null,format:N,formatHref:N,nl2br:!1,tagName:'a',target:function(W,J){return'url'===J?'_blank':null},validate:!0,ignoreTags:[],attributes:null,className:'linkified'};E.defaults=z,E.Options=I,E.contains=function(W,J){for(var G=0;G<W.length;G++)if(W[G]===J)return!0;return!1},I.prototype={resolve:function(J){var G=J.toHref(this.defaultProtocol);return{formatted:this.get('format',J.toString(),J),formattedHref:this.get('formatHref',G,J),tagName:this.get('tagName',G,J),className:this.get('className',G,J),target:this.get('target',G,J),events:this.getObject('events',G,J),attributes:this.getObject('attributes',G,J)}},check:function(J){return this.get('validate',J.toString(),J)},get:function(J,G,$){var K=this[J];if(!K)return K;switch('undefined'==typeof K?'undefined':B(K)){case'function':return K(G,$.type);case'object':var X=K[$.type]||z[J];return'function'==typeof X?X(G,$.type):X;}return K},getObject:function(J,G,$){var K=this[J];return'function'==typeof K?K(G,$.type):K}}},function(L,E,R){L.exports=R(165).default},function(L,E,R){(function(I){(function(A,N){I.exports=N()})(this,function(){'use strict';function A(){return Td.apply(null,arguments)}function H(sl){return sl instanceof Array||'[object Array]'===Object.prototype.toString.call(sl)}function B(sl){return null!=sl&&'[object Object]'===Object.prototype.toString.call(sl)}function z(sl){for(var dl in sl)return!1;return!0}function W(sl){return void 0===sl}function J(sl){return'number'==typeof sl||'[object Number]'===Object.prototype.toString.call(sl)}function G(sl){return sl instanceof Date||'[object Date]'===Object.prototype.toString.call(sl)}function $(sl,dl){var il=[],rl;for(rl=0;rl<sl.length;++rl)il.push(dl(sl[rl],rl));return il}function K(sl,dl){return Object.prototype.hasOwnProperty.call(sl,dl)}function X(sl,dl){for(var il in dl)K(dl,il)&&(sl[il]=dl[il]);return K(dl,'toString')&&(sl.toString=dl.toString),K(dl,'valueOf')&&(sl.valueOf=dl.valueOf),sl}function Q(sl,dl,il,rl){return cn(sl,dl,il,rl,!0).utc()}function Z(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ee(sl){return null==sl._pf&&(sl._pf=Z()),sl._pf}function te(sl){if(null==sl._isValid){var dl=ee(sl),il=Sd.call(dl.parsedDateParts,function(ol){return null!=ol}),rl=!isNaN(sl._d.getTime())&&0>dl.overflow&&!dl.empty&&!dl.invalidMonth&&!dl.invalidWeekday&&!dl.nullInput&&!dl.invalidFormat&&!dl.userInvalidated&&(!dl.meridiem||dl.meridiem&&il);if(sl._strict&&(rl=rl&&0===dl.charsLeftOver&&0===dl.unusedTokens.length&&void 0===dl.bigHour),null==Object.isFrozen||!Object.isFrozen(sl))sl._isValid=rl;else return rl}return sl._isValid}function ne(sl){var dl=Q(NaN);return null==sl?ee(dl).userInvalidated=!0:X(ee(dl),sl),dl}function ae(sl,dl){var il,rl,ol;if(W(dl._isAMomentObject)||(sl._isAMomentObject=dl._isAMomentObject),W(dl._i)||(sl._i=dl._i),W(dl._f)||(sl._f=dl._f),W(dl._l)||(sl._l=dl._l),W(dl._strict)||(sl._strict=dl._strict),W(dl._tzm)||(sl._tzm=dl._tzm),W(dl._isUTC)||(sl._isUTC=dl._isUTC),W(dl._offset)||(sl._offset=dl._offset),W(dl._pf)||(sl._pf=ee(dl)),W(dl._locale)||(sl._locale=dl._locale),0<vd.length)for(il=0;il<vd.length;il++)rl=vd[il],ol=dl[rl],W(ol)||(sl[rl]=ol);return sl}function se(sl){ae(this,sl),this._d=new Date(null==sl._d?NaN:sl._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1==bd&&(bd=!0,A.updateOffset(this),bd=!1)}function de(sl){return sl instanceof se||null!=sl&&null!=sl._isAMomentObject}function ie(sl){return 0>sl?Math.ceil(sl)||0:Math.floor(sl)}function oe(sl){var dl=+sl,il=0;return 0!=dl&&isFinite(dl)&&(il=ie(dl)),il}function le(sl,dl,il){var rl=Math.min(sl.length,dl.length),ol=Math.abs(sl.length-dl.length),ll=0,ul;for(ul=0;ul<rl;ul++)(il&&sl[ul]!==dl[ul]||!il&&oe(sl[ul])!==oe(dl[ul]))&&ll++;return ll+ol}function ue(sl){!1===A.suppressDeprecationWarnings&&'undefined'!=typeof console&&console.warn&&console.warn('Deprecation warning: '+sl)}function _e(sl,dl){var il=!0;return X(function(){if(null!=A.deprecationHandler&&A.deprecationHandler(null,sl),il){for(var rl=[],ll=0,ol;ll<arguments.length;ll++){if(ol='','object'==typeof arguments[ll]){for(var ul in ol+='\n['+ll+'] ',arguments[0])ol+=ul+': '+arguments[0][ul]+', ';ol=ol.slice(0,-2)}else ol=arguments[ll];rl.push(ol)}ue(sl+'\nArguments: '+Array.prototype.slice.call(rl).join('')+'\n'+new Error().stack),il=!1}return dl.apply(this,arguments)},dl)}function ce(sl,dl){null!=A.deprecationHandler&&A.deprecationHandler(sl,dl),Cd[sl]||(ue(dl),Cd[sl]=!0)}function me(sl){return sl instanceof Function||'[object Function]'===Object.prototype.toString.call(sl)}function ge(sl,dl){var il=X({},sl),rl;for(rl in dl)K(dl,rl)&&(B(sl[rl])&&B(dl[rl])?(il[rl]={},X(il[rl],sl[rl]),X(il[rl],dl[rl])):null==dl[rl]?delete il[rl]:il[rl]=dl[rl]);for(rl in sl)K(sl,rl)&&!K(dl,rl)&&B(sl[rl])&&(il[rl]=X({},il[rl]));return il}function he(sl){null!=sl&&this.set(sl)}function ve(sl,dl){var il=sl.toLowerCase();xd[il]=xd[il+'s']=xd[dl]=sl}function be(sl){return'string'==typeof sl?xd[sl]||xd[sl.toLowerCase()]:void 0}function Ce(sl){var dl={},il,rl;for(rl in sl)K(sl,rl)&&(il=be(rl),il&&(dl[il]=sl[rl]));return dl}function Ee(sl,dl){Od[sl]=dl}function De(sl){var dl=[];for(var il in sl)dl.push({unit:il,priority:Od[il]});return dl.sort(function(rl,ol){return rl.priority-ol.priority}),dl}function we(sl,dl){return function(il){return null==il?Ye(this,sl):(ke(this,sl,il),A.updateOffset(this,dl),this)}}function Ye(sl,dl){return sl.isValid()?sl._d['get'+(sl._isUTC?'UTC':'')+dl]():NaN}function ke(sl,dl,il){sl.isValid()&&sl._d['set'+(sl._isUTC?'UTC':'')+dl](il)}function Ae(sl,dl,il){var rl=''+Math.abs(sl),ol=dl-rl.length;return(0<=sl?il?'+':'':'-')+Math.pow(10,Math.max(0,ol)).toString().substr(1)+rl}function xe(sl,dl,il,rl){var ol=rl;'string'==typeof rl&&(ol=function(){return this[rl]()}),sl&&(jd[sl]=ol),dl&&(jd[dl[0]]=function(){return Ae(ol.apply(this,arguments),dl[1],dl[2])}),il&&(jd[il]=function(){return this.localeData().ordinal(ol.apply(this,arguments),sl)})}function Oe(sl){return sl.match(/\[[\s\S]/)?sl.replace(/^\[|\]$/g,''):sl.replace(/\\/g,'')}function Pe(sl){var dl=sl.match(Pd),il,rl;for(il=0,rl=dl.length;il<rl;il++)dl[il]=jd[dl[il]]?jd[dl[il]]:Oe(dl[il]);return function(ol){var ll='',ul;for(ul=0;ul<rl;ul++)ll+=me(dl[ul])?dl[ul].call(ol,sl):dl[ul];return ll}}function Ne(sl,dl){return sl.isValid()?(dl=He(dl,sl.localeData()),Hd[dl]=Hd[dl]||Pe(dl),Hd[dl](sl)):sl.localeData().invalidDate()}function He(sl,dl){function il(ol){return dl.longDateFormat(ol)||ol}var rl=5;for(Nd.lastIndex=0;0<=rl&&Nd.test(sl);)sl=sl.replace(Nd,il),Nd.lastIndex=0,rl-=1;return sl}function je(sl,dl,il){ai[sl]=me(dl)?dl:function(rl){return rl&&il?il:dl}}function Ue(sl,dl){return K(ai,sl)?ai[sl](dl._strict,dl._locale):new RegExp(Fe(sl))}function Fe(sl){return Be(sl.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(dl,il,rl,ol,ll){return il||rl||ol||ll}))}function Be(sl){return sl.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}function qe(sl,dl){var rl=dl,il;for('string'==typeof sl&&(sl=[sl]),J(dl)&&(rl=function(ol,ll){ll[dl]=oe(ol)}),il=0;il<sl.length;il++)si[sl[il]]=rl}function ze(sl,dl){qe(sl,function(il,rl,ol,ll){ol._w=ol._w||{},dl(il,ol._w,ol,ll)})}function We(sl,dl,il){null!=dl&&K(si,sl)&&si[sl](dl,il._a,il,sl)}function Je(sl,dl){return new Date(Date.UTC(sl,dl+1,0)).getUTCDate()}function $e(sl,dl,il){var ul=sl.toLocaleLowerCase(),rl,ol,ll;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],rl=0;12>rl;++rl)ll=Q([2e3,rl]),this._shortMonthsParse[rl]=this.monthsShort(ll,'').toLocaleLowerCase(),this._longMonthsParse[rl]=this.months(ll,'').toLocaleLowerCase();return il?'MMM'===dl?(ol=yi.call(this._shortMonthsParse,ul),-1===ol?null:ol):(ol=yi.call(this._longMonthsParse,ul),-1===ol?null:ol):'MMM'===dl?(ol=yi.call(this._shortMonthsParse,ul),-1!==ol)?ol:(ol=yi.call(this._longMonthsParse,ul),-1===ol?null:ol):(ol=yi.call(this._longMonthsParse,ul),-1!==ol)?ol:(ol=yi.call(this._shortMonthsParse,ul),-1===ol?null:ol)}function Xe(sl,dl){var il;if(!sl.isValid())return sl;if('string'==typeof dl)if(/^\d+$/.test(dl))dl=oe(dl);else if(dl=sl.localeData().monthsParse(dl),!J(dl))return sl;return il=Math.min(sl.date(),Je(sl.year(),dl)),sl._d['set'+(sl._isUTC?'UTC':'')+'Month'](dl,il),sl}function Qe(sl){return null==sl?Ye(this,'Month'):(Xe(this,sl),A.updateOffset(this,!0),this)}function at(){function sl(ul,_l){return _l.length-ul.length}var dl=[],il=[],rl=[],ol,ll;for(ol=0;12>ol;ol++)ll=Q([2e3,ol]),dl.push(this.monthsShort(ll,'')),il.push(this.months(ll,'')),rl.push(this.months(ll,'')),rl.push(this.monthsShort(ll,''));for(dl.sort(sl),il.sort(sl),rl.sort(sl),ol=0;12>ol;ol++)dl[ol]=Be(dl[ol]),il[ol]=Be(il[ol]);for(ol=0;24>ol;ol++)rl[ol]=Be(rl[ol]);this._monthsRegex=new RegExp('^('+rl.join('|')+')','i'),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp('^('+il.join('|')+')','i'),this._monthsShortStrictRegex=new RegExp('^('+dl.join('|')+')','i')}function st(sl){return dt(sl)?366:365}function dt(sl){return 0==sl%4&&0!=sl%100||0==sl%400}function lt(sl,dl,il,rl,ol,ll,ul){var _l=new Date(sl,dl,il,rl,ol,ll,ul);return 100>sl&&0<=sl&&isFinite(_l.getFullYear())&&_l.setFullYear(sl),_l}function ut(sl){var dl=new Date(Date.UTC.apply(null,arguments));return 100>sl&&0<=sl&&isFinite(dl.getUTCFullYear())&&dl.setUTCFullYear(sl),dl}function _t(sl,dl,il){var rl=7+dl-il,ol=(7+ut(sl,0,rl).getUTCDay()-dl)%7;return-ol+rl-1}function ct(sl,dl,il,rl,ol){var ul=_t(sl,rl,ol),_l=1+7*(dl-1)+(7+il-rl)%7+ul,cl,ml;return 0>=_l?(cl=sl-1,ml=st(cl)+_l):_l>st(sl)?(cl=sl+1,ml=_l-st(sl)):(cl=sl,ml=_l),{year:cl,dayOfYear:ml}}function mt(sl,dl,il){var rl=_t(sl.year(),dl,il),ol=Math.floor((sl.dayOfYear()-rl-1)/7)+1,ll,ul;return 1>ol?(ul=sl.year()-1,ll=ol+pt(ul,dl,il)):ol>pt(sl.year(),dl,il)?(ll=ol-pt(sl.year(),dl,il),ul=sl.year()+1):(ul=sl.year(),ll=ol),{week:ll,year:ul}}function pt(sl,dl,il){var rl=_t(sl,dl,il),ol=_t(sl+1,dl,il);return(st(sl)-rl+ol)/7}function Lt(sl,dl){return'string'==typeof sl?isNaN(sl)?(sl=dl.weekdaysParse(sl),'number'==typeof sl?sl:null):parseInt(sl,10):sl}function St(sl,dl){return'string'==typeof sl?dl.weekdaysParse(sl)%7||7:isNaN(sl)?null:sl}function Et(sl,dl,il){var ul=sl.toLocaleLowerCase(),rl,ol,ll;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],rl=0;7>rl;++rl)ll=Q([2000,1]).day(rl),this._minWeekdaysParse[rl]=this.weekdaysMin(ll,'').toLocaleLowerCase(),this._shortWeekdaysParse[rl]=this.weekdaysShort(ll,'').toLocaleLowerCase(),this._weekdaysParse[rl]=this.weekdays(ll,'').toLocaleLowerCase();return il?'dddd'===dl?(ol=yi.call(this._weekdaysParse,ul),-1===ol?null:ol):'ddd'===dl?(ol=yi.call(this._shortWeekdaysParse,ul),-1===ol?null:ol):(ol=yi.call(this._minWeekdaysParse,ul),-1===ol?null:ol):'dddd'===dl?(ol=yi.call(this._weekdaysParse,ul),-1!==ol)?ol:(ol=yi.call(this._shortWeekdaysParse,ul),-1!==ol)?ol:(ol=yi.call(this._minWeekdaysParse,ul),-1===ol?null:ol):'ddd'===dl?(ol=yi.call(this._shortWeekdaysParse,ul),-1!==ol)?ol:(ol=yi.call(this._weekdaysParse,ul),-1!==ol)?ol:(ol=yi.call(this._minWeekdaysParse,ul),-1===ol?null:ol):(ol=yi.call(this._minWeekdaysParse,ul),-1!==ol)?ol:(ol=yi.call(this._weekdaysParse,ul),-1!==ol)?ol:(ol=yi.call(this._shortWeekdaysParse,ul),-1===ol?null:ol)}function xt(){function sl(pl,gl){return gl.length-pl.length}var dl=[],il=[],rl=[],ol=[],ll,ul,_l,cl,ml;for(ll=0;7>ll;ll++)ul=Q([2000,1]).day(ll),_l=this.weekdaysMin(ul,''),cl=this.weekdaysShort(ul,''),ml=this.weekdays(ul,''),dl.push(_l),il.push(cl),rl.push(ml),ol.push(_l),ol.push(cl),ol.push(ml);for(dl.sort(sl),il.sort(sl),rl.sort(sl),ol.sort(sl),ll=0;7>ll;ll++)il[ll]=Be(il[ll]),rl[ll]=Be(rl[ll]),ol[ll]=Be(ol[ll]);this._weekdaysRegex=new RegExp('^('+ol.join('|')+')','i'),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp('^('+rl.join('|')+')','i'),this._weekdaysShortStrictRegex=new RegExp('^('+il.join('|')+')','i'),this._weekdaysMinStrictRegex=new RegExp('^('+dl.join('|')+')','i')}function Ot(){return this.hours()%12||12}function Nt(sl,dl){xe(sl,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),dl)})}function Ht(sl,dl){return dl._meridiemParse}function Ft(sl){return sl?sl.toLowerCase().replace('_','-'):sl}function Bt(sl){for(var dl=0,il,rl,ol,ll;dl<sl.length;){for(ll=Ft(sl[dl]).split('-'),il=ll.length,rl=Ft(sl[dl+1]),rl=rl?rl.split('-'):null;0<il;){if(ol=qt(ll.slice(0,il).join('-')),ol)return ol;if(rl&&rl.length>=il&&le(ll,rl,!0)>=il-1)break;il--}dl++}return null}function qt(sl){var dl=null;if(!Pi[sl]&&'undefined'!=typeof I&&I&&I.exports)try{dl=ji._abbr,!function(){var rl=new Error('Cannot find module "./locale"');throw rl.code='MODULE_NOT_FOUND',rl}(),zt(dl)}catch(il){}return Pi[sl]}function zt(sl,dl){var il;return sl&&(il=W(dl)?Vt(sl):Wt(sl,dl),il&&(ji=il)),ji._abbr}function Wt(sl,dl){if(null!==dl){var il=Oi;if(dl.abbr=sl,null!=Pi[sl])ce('defineLocaleOverride','use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'),il=Pi[sl]._config;else if(null!=dl.parentLocale)if(null!=Pi[dl.parentLocale])il=Pi[dl.parentLocale]._config;else return Ni[dl.parentLocale]||(Ni[dl.parentLocale]=[]),Ni[dl.parentLocale].push({name:sl,config:dl}),null;return Pi[sl]=new he(ge(il,dl)),Ni[sl]&&Ni[sl].forEach(function(rl){Wt(rl.name,rl.config)}),zt(sl),Pi[sl]}return delete Pi[sl],null}function Vt(sl){var dl;if(sl&&sl._locale&&sl._locale._abbr&&(sl=sl._locale._abbr),!sl)return ji;if(!H(sl)){if(dl=qt(sl),dl)return dl;sl=[sl]}return Bt(sl)}function $t(sl){var il=sl._a,dl;return il&&-2===ee(sl).overflow&&(dl=0>il[ri]||11<il[ri]?ri:1>il[oi]||il[oi]>Je(il[di],il[ri])?oi:0>il[li]||24<il[li]||24===il[li]&&(0!==il[ui]||0!==il[ci]||0!==il[mi])?li:0>il[ui]||59<il[ui]?ui:0>il[ci]||59<il[ci]?ci:0>il[mi]||999<il[mi]?mi:-1,ee(sl)._overflowDayOfYear&&(dl<di||dl>oi)&&(dl=oi),ee(sl)._overflowWeeks&&-1===dl&&(dl=pi),ee(sl)._overflowWeekday&&-1===dl&&(dl=gi),ee(sl).overflow=dl),sl}function Kt(sl){var rl=sl._i,ol=Ui.exec(rl)||Fi.exec(rl),dl,il,ll,ul,_l,cl;if(ol){for(ee(sl).iso=!0,dl=0,il=qi.length;dl<il;dl++)if(qi[dl][1].exec(ol[1])){ul=qi[dl][0],ll=!1!==qi[dl][2];break}if(null==ul)return void(sl._isValid=!1);if(ol[3]){for(dl=0,il=zi.length;dl<il;dl++)if(zi[dl][1].exec(ol[3])){_l=(ol[2]||' ')+zi[dl][0];break}if(null==_l)return void(sl._isValid=!1)}if(!ll&&null!=_l)return void(sl._isValid=!1);if(ol[4])if(Bi.exec(ol[4]))cl='Z';else return void(sl._isValid=!1);sl._f=ul+(_l||'')+(cl||''),an(sl)}else sl._isValid=!1}function Xt(sl){var _l={" GMT":' +0000'," EDT":' -0400'," EST":' -0500'," CDT":' -0500'," CST":' -0600'," MDT":' -0600'," MST":' -0700'," PDT":' -0700'," PST":' -0800'},dl,il,rl,ol,ll,ul,ml,pl;if(dl=sl._i.replace(/\([^\)]*\)|[\n\t]/g,' ').replace(/(\s\s+)/g,' ').replace(/^\s|\s$/g,''),il=Ji.exec(dl),il){if(rl=il[1]?'ddd'+(5===il[1].length?', ':' '):'',ol='D MMM '+(10<il[2].length?'YYYY ':'YY '),ll='HH:mm'+(il[4]?':ss':''),il[1]){var gl=new Date(il[2]),hl=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'][gl.getDay()];if(il[1].substr(0,3)!==hl)return ee(sl).weekdayMismatch=!0,void(sl._isValid=!1)}switch(il[5].length){case 2:0===pl?ml=' +0000':(pl='YXWVUTSRQPONZABCDEFGHIKLM'.indexOf(il[5][1].toUpperCase())-12,ml=(0>pl?' -':' +')+(''+pl).replace(/^-?/,'0').match(/..$/)[0]+'00');break;case 4:ml=_l[il[5]];break;default:ml=_l[' GMT'];}il[5]=ml,sl._i=il.splice(1).join(''),ul=' ZZ',sl._f=rl+ol+ll+ul,an(sl),ee(sl).rfc2822=!0}else sl._isValid=!1}function Qt(sl){var dl=Wi.exec(sl._i);if(null!==dl)return void(sl._d=new Date(+dl[1]));if(Kt(sl),!1===sl._isValid)delete sl._isValid;else return;if(Xt(sl),!1===sl._isValid)delete sl._isValid;else return;A.createFromInputFallback(sl)}function Zt(sl,dl,il){return null==sl?null==dl?il:dl:sl}function en(sl){var dl=new Date(A.now());return sl._useUTC?[dl.getUTCFullYear(),dl.getUTCMonth(),dl.getUTCDate()]:[dl.getFullYear(),dl.getMonth(),dl.getDate()]}function tn(sl){var rl=[],dl,il,ol,ll;if(!sl._d){for(ol=en(sl),sl._w&&null==sl._a[oi]&&null==sl._a[ri]&&nn(sl),null!=sl._dayOfYear&&(ll=Zt(sl._a[di],ol[di]),(sl._dayOfYear>st(ll)||0===sl._dayOfYear)&&(ee(sl)._overflowDayOfYear=!0),il=ut(ll,0,sl._dayOfYear),sl._a[ri]=il.getUTCMonth(),sl._a[oi]=il.getUTCDate()),dl=0;3>dl&&null==sl._a[dl];++dl)sl._a[dl]=rl[dl]=ol[dl];for(;7>dl;dl++)sl._a[dl]=rl[dl]=null==sl._a[dl]?2===dl?1:0:sl._a[dl];24===sl._a[li]&&0===sl._a[ui]&&0===sl._a[ci]&&0===sl._a[mi]&&(sl._nextDay=!0,sl._a[li]=0),sl._d=(sl._useUTC?ut:lt).apply(null,rl),null!=sl._tzm&&sl._d.setUTCMinutes(sl._d.getUTCMinutes()-sl._tzm),sl._nextDay&&(sl._a[li]=24)}}function nn(sl){var dl,il,rl,ol,ll,ul,_l,cl;if(dl=sl._w,null!=dl.GG||null!=dl.W||null!=dl.E)ll=1,ul=4,il=Zt(dl.GG,sl._a[di],mt(mn(),1,4).year),rl=Zt(dl.W,1),ol=Zt(dl.E,1),(1>ol||7<ol)&&(cl=!0);else{ll=sl._locale._week.dow,ul=sl._locale._week.doy;var ml=mt(mn(),ll,ul);il=Zt(dl.gg,sl._a[di],ml.year),rl=Zt(dl.w,ml.week),null==dl.d?null==dl.e?ol=ll:(ol=dl.e+ll,(0>dl.e||6<dl.e)&&(cl=!0)):(ol=dl.d,(0>ol||6<ol)&&(cl=!0))}1>rl||rl>pt(il,ll,ul)?ee(sl)._overflowWeeks=!0:null==cl?(_l=ct(il,rl,ol,ll,ul),sl._a[di]=_l.year,sl._dayOfYear=_l.dayOfYear):ee(sl)._overflowWeekday=!0}function an(sl){if(sl._f===A.ISO_8601)return void Kt(sl);if(sl._f===A.RFC_2822)return void Xt(sl);sl._a=[],ee(sl).empty=!0;var dl=''+sl._i,_l=dl.length,cl=0,il,rl,ol,ll,ul;for(ol=He(sl._f,sl._locale).match(Pd)||[],il=0;il<ol.length;il++)ll=ol[il],rl=(dl.match(Ue(ll,sl))||[])[0],rl&&(ul=dl.substr(0,dl.indexOf(rl)),0<ul.length&&ee(sl).unusedInput.push(ul),dl=dl.slice(dl.indexOf(rl)+rl.length),cl+=rl.length),jd[ll]?(rl?ee(sl).empty=!1:ee(sl).unusedTokens.push(ll),We(ll,rl,sl)):sl._strict&&!rl&&ee(sl).unusedTokens.push(ll);ee(sl).charsLeftOver=_l-cl,0<dl.length&&ee(sl).unusedInput.push(dl),12>=sl._a[li]&&!0===ee(sl).bigHour&&0<sl._a[li]&&(ee(sl).bigHour=void 0),ee(sl).parsedDateParts=sl._a.slice(0),ee(sl).meridiem=sl._meridiem,sl._a[li]=sn(sl._locale,sl._a[li],sl._meridiem),tn(sl),$t(sl)}function sn(sl,dl,il){var rl;return null==il?dl:null==sl.meridiemHour?null==sl.isPM?dl:(rl=sl.isPM(il),rl&&12>dl&&(dl+=12),rl||12!==dl||(dl=0),dl):sl.meridiemHour(dl,il)}function dn(sl){var dl,il,rl,ol,ll;if(0===sl._f.length)return ee(sl).invalidFormat=!0,void(sl._d=new Date(NaN));for(ol=0;ol<sl._f.length;ol++)(ll=0,dl=ae({},sl),null!=sl._useUTC&&(dl._useUTC=sl._useUTC),dl._f=sl._f[ol],an(dl),!!te(dl))&&(ll+=ee(dl).charsLeftOver,ll+=10*ee(dl).unusedTokens.length,ee(dl).score=ll,(null==rl||ll<rl)&&(rl=ll,il=dl));X(sl,il||dl)}function rn(sl){if(!sl._d){var dl=Ce(sl._i);sl._a=$([dl.year,dl.month,dl.day||dl.date,dl.hour,dl.minute,dl.second,dl.millisecond],function(il){return il&&parseInt(il,10)}),tn(sl)}}function ln(sl){var dl=new se($t(un(sl)));return dl._nextDay&&(dl.add(1,'d'),dl._nextDay=void 0),dl}function un(sl){var dl=sl._i,il=sl._f;return(sl._locale=sl._locale||Vt(sl._l),null===dl||void 0===il&&''===dl)?ne({nullInput:!0}):('string'==typeof dl&&(sl._i=dl=sl._locale.preparse(dl)),de(dl))?new se($t(dl)):(G(dl)?sl._d=dl:H(il)?dn(sl):il?an(sl):_n(sl),te(sl)||(sl._d=null),sl)}function _n(sl){var dl=sl._i;W(dl)?sl._d=new Date(A.now()):G(dl)?sl._d=new Date(dl.valueOf()):'string'==typeof dl?Qt(sl):H(dl)?(sl._a=$(dl.slice(0),function(il){return parseInt(il,10)}),tn(sl)):B(dl)?rn(sl):J(dl)?sl._d=new Date(dl):A.createFromInputFallback(sl)}function cn(sl,dl,il,rl,ol){var ll={};return(!0===il||!1===il)&&(rl=il,il=void 0),(B(sl)&&z(sl)||H(sl)&&0===sl.length)&&(sl=void 0),ll._isAMomentObject=!0,ll._useUTC=ll._isUTC=ol,ll._l=il,ll._i=sl,ll._f=dl,ll._strict=rl,ln(ll)}function mn(sl,dl,il,rl){return cn(sl,dl,il,rl,!1)}function pn(sl,dl){var il,rl;if(1===dl.length&&H(dl[0])&&(dl=dl[0]),!dl.length)return mn();for(il=dl[0],rl=1;rl<dl.length;++rl)(!dl[rl].isValid()||dl[rl][sl](il))&&(il=dl[rl]);return il}function yn(sl){for(var dl in sl)if(-1===Ki.indexOf(dl)||null!=sl[dl]&&isNaN(sl[dl]))return!1;for(var il=!1,rl=0;rl<Ki.length;++rl)if(sl[Ki[rl]]){if(il)return!1;parseFloat(sl[Ki[rl]])!==oe(sl[Ki[rl]])&&(il=!0)}return!0}function Ln(sl){var dl=Ce(sl),il=dl.year||0,rl=dl.quarter||0,ol=dl.month||0,ll=dl.week||0,ul=dl.day||0,_l=dl.hour||0,cl=dl.minute||0,ml=dl.second||0,pl=dl.millisecond||0;this._isValid=yn(dl),this._milliseconds=+pl+1e3*ml+6e4*cl+60*(60*(1e3*_l)),this._days=+ul+7*ll,this._months=+ol+3*rl+12*il,this._data={},this._locale=Vt(),this._bubble()}function Sn(sl){return sl instanceof Ln}function vn(sl){return 0>sl?-1*Math.round(-1*sl):Math.round(sl)}function bn(sl,dl){xe(sl,0,0,function(){var il=this.utcOffset(),rl='+';return 0>il&&(il=-il,rl='-'),rl+Ae(~~(il/60),2)+dl+Ae(~~il%60,2)})}function Cn(sl,dl){var il=(dl||'').match(sl);if(null===il)return null;var rl=il[il.length-1]||[],ol=(rl+'').match(Xi)||['-',0,0],ll=+(60*ol[1])+oe(ol[2]);return 0===ll?0:'+'===ol[0]?ll:-ll}function En(sl,dl){var il,rl;return dl._isUTC?(il=dl.clone(),rl=(de(sl)||G(sl)?sl.valueOf():mn(sl).valueOf())-il.valueOf(),il._d.setTime(il._d.valueOf()+rl),A.updateOffset(il,!1),il):mn(sl).local()}function Dn(sl){return 15*-Math.round(sl._d.getTimezoneOffset()/15)}function Hn(){return!!this.isValid()&&this._isUTC&&0===this._offset}function jn(sl,dl){var il=sl,rl=null,ol,ll,ul;return Sn(sl)?il={ms:sl._milliseconds,d:sl._days,M:sl._months}:J(sl)?(il={},dl?il[dl]=sl:il.milliseconds=sl):(rl=Qi.exec(sl))?(ol='-'===rl[1]?-1:1,il={y:0,d:oe(rl[oi])*ol,h:oe(rl[li])*ol,m:oe(rl[ui])*ol,s:oe(rl[ci])*ol,ms:oe(vn(1e3*rl[mi]))*ol}):(rl=Zi.exec(sl))?(ol='-'===rl[1]?-1:1,il={y:Un(rl[2],ol),M:Un(rl[3],ol),w:Un(rl[4],ol),d:Un(rl[5],ol),h:Un(rl[6],ol),m:Un(rl[7],ol),s:Un(rl[8],ol)}):null==il?il={}:'object'==typeof il&&('from'in il||'to'in il)&&(ul=Bn(mn(il.from),mn(il.to)),il={},il.ms=ul.milliseconds,il.M=ul.months),ll=new Ln(il),Sn(sl)&&K(sl,'_locale')&&(ll._locale=sl._locale),ll}function Un(sl,dl){var il=sl&&parseFloat(sl.replace(',','.'));return(isNaN(il)?0:il)*dl}function Fn(sl,dl){var il={milliseconds:0,months:0};return il.months=dl.month()-sl.month()+12*(dl.year()-sl.year()),sl.clone().add(il.months,'M').isAfter(dl)&&--il.months,il.milliseconds=+dl-+sl.clone().add(il.months,'M'),il}function Bn(sl,dl){var il;return sl.isValid()&&dl.isValid()?(dl=En(dl,sl),sl.isBefore(dl)?il=Fn(sl,dl):(il=Fn(dl,sl),il.milliseconds=-il.milliseconds,il.months=-il.months),il):{milliseconds:0,months:0}}function qn(sl,dl){return function(il,rl){var ol,ll;return null===rl||isNaN(+rl)||(ce(dl,'moment().'+dl+'(period, number) is deprecated. Please use moment().'+dl+'(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'),ll=il,il=rl,rl=ll),il='string'==typeof il?+il:il,ol=jn(il,rl),zn(this,ol,sl),this}}function zn(sl,dl,il,rl){var ol=dl._milliseconds,ll=vn(dl._days),ul=vn(dl._months);sl.isValid()&&(rl=null==rl||rl,ol&&sl._d.setTime(sl._d.valueOf()+ol*il),ll&&ke(sl,'Date',Ye(sl,'Date')+ll*il),ul&&Xe(sl,Ye(sl,'Month')+ul*il),rl&&A.updateOffset(sl,ll||ul))}function ta(sl,dl){var il=12*(dl.year()-sl.year())+(dl.month()-sl.month()),rl=sl.clone().add(il,'months'),ol,ll;return 0>dl-rl?(ol=sl.clone().add(il-1,'months'),ll=(dl-rl)/(rl-ol)):(ol=sl.clone().add(il+1,'months'),ll=(dl-rl)/(ol-rl)),-(il+ll)||0}function ua(sl){var dl;return void 0===sl?this._locale._abbr:(dl=Vt(sl),null!=dl&&(this._locale=dl),this)}function _a(){return this._locale}function ba(sl,dl){xe(0,[sl,sl.length],0,dl)}function Ya(sl,dl,il,rl,ol){var ll;return null==sl?mt(this,rl,ol).year:(ll=pt(sl,rl,ol),dl>ll&&(dl=ll),ka.call(this,sl,dl,il,rl,ol))}function ka(sl,dl,il,rl,ol){var ll=ct(sl,dl,il,rl,ol),ul=ut(ll.year,0,ll.dayOfYear);return this.year(ul.getUTCFullYear()),this.month(ul.getUTCMonth()),this.date(ul.getUTCDate()),this}function Aa(sl,dl){dl[mi]=oe(1e3*('0.'+sl))}function Ha(sl){return sl}function ja(sl,dl,il,rl){var ol=Vt(),ll=Q().set(rl,dl);return ol[il](ll,sl)}function Ua(sl,dl,il){if(J(sl)&&(dl=sl,sl=void 0),sl=sl||'',null!=dl)return ja(sl,dl,il,'month');var ol=[],rl;for(rl=0;12>rl;rl++)ol[rl]=ja(sl,rl,il,'month');return ol}function Fa(sl,dl,il,rl){'boolean'==typeof sl?(J(dl)&&(il=dl,dl=void 0),dl=dl||''):(dl=sl,il=dl,sl=!1,J(dl)&&(il=dl,dl=void 0),dl=dl||'');var ol=Vt(),ll=sl?ol._week.dow:0;if(null!=il)return ja(dl,(il+ll)%7,rl,'day');var _l=[],ul;for(ul=0;7>ul;ul++)_l[ul]=ja(dl,(ul+ll)%7,rl,'day');return _l}function Ga(sl,dl,il,rl){var ol=jn(dl,il);return sl._milliseconds+=rl*ol._milliseconds,sl._days+=rl*ol._days,sl._months+=rl*ol._months,sl._bubble()}function Xa(sl){return 0>sl?Math.floor(sl):Math.ceil(sl)}function Za(sl){return 4800*sl/146097}function es(sl){return 146097*sl/4800}function is(sl){return function(){return this.as(sl)}}function ls(sl){return function(){return this.isValid()?this._data[sl]:NaN}}function _s(sl,dl,il,rl,ol){return ol.relativeTime(dl||1,!!il,sl,rl)}function cs(sl,dl,il){var rl=jn(sl).abs(),ol=Er(rl.as('s')),ll=Er(rl.as('m')),ul=Er(rl.as('h')),_l=Er(rl.as('d')),cl=Er(rl.as('M')),ml=Er(rl.as('y')),pl=ol<=Dr.ss&&['s',ol]||ol<Dr.s&&['ss',ol]||1>=ll&&['m']||ll<Dr.m&&['mm',ll]||1>=ul&&['h']||ul<Dr.h&&['hh',ul]||1>=_l&&['d']||_l<Dr.d&&['dd',_l]||1>=cl&&['M']||cl<Dr.M&&['MM',cl]||1>=ml&&['y']||['yy',ml];return pl[2]=dl,pl[3]=0<+sl,pl[4]=il,_s.apply(null,pl)}function ys(){if(!this.isValid())return this.localeData().invalidDate();var sl=wr(this._milliseconds)/1e3,dl=wr(this._days),il=wr(this._months),rl,ol,ll;rl=ie(sl/60),ol=ie(rl/60),sl%=60,rl%=60,ll=ie(il/12),il%=12;var ul=ll,_l=il,cl=dl,ml=ol,pl=rl,gl=sl,hl=this.asSeconds();return hl?(0>hl?'-':'')+'P'+(ul?ul+'Y':'')+(_l?_l+'M':'')+(cl?cl+'D':'')+(ml||pl||gl?'T':'')+(ml?ml+'H':'')+(pl?pl+'M':'')+(gl?gl+'S':''):'P0D'}function Ms(sl,dl){var il=sl.split('_');return 1==dl%10&&11!=dl%100?il[0]:2<=dl%10&&4>=dl%10&&(10>dl%100||20<=dl%100)?il[1]:il[2]}function Ts(sl,dl,il){var rl={mm:dl?'\u0445\u0432\u0456\u043B\u0456\u043D\u0430_\u0445\u0432\u0456\u043B\u0456\u043D\u044B_\u0445\u0432\u0456\u043B\u0456\u043D':'\u0445\u0432\u0456\u043B\u0456\u043D\u0443_\u0445\u0432\u0456\u043B\u0456\u043D\u044B_\u0445\u0432\u0456\u043B\u0456\u043D',hh:dl?'\u0433\u0430\u0434\u0437\u0456\u043D\u0430_\u0433\u0430\u0434\u0437\u0456\u043D\u044B_\u0433\u0430\u0434\u0437\u0456\u043D':'\u0433\u0430\u0434\u0437\u0456\u043D\u0443_\u0433\u0430\u0434\u0437\u0456\u043D\u044B_\u0433\u0430\u0434\u0437\u0456\u043D',dd:'\u0434\u0437\u0435\u043D\u044C_\u0434\u043D\u0456_\u0434\u0437\u0451\u043D',MM:'\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u044B_\u043C\u0435\u0441\u044F\u0446\u0430\u045E',yy:'\u0433\u043E\u0434_\u0433\u0430\u0434\u044B_\u0433\u0430\u0434\u043E\u045E'};return'm'===il?dl?'\u0445\u0432\u0456\u043B\u0456\u043D\u0430':'\u0445\u0432\u0456\u043B\u0456\u043D\u0443':'h'===il?dl?'\u0433\u0430\u0434\u0437\u0456\u043D\u0430':'\u0433\u0430\u0434\u0437\u0456\u043D\u0443':sl+' '+Ms(rl[il],+sl)}function Ls(sl,dl,il){return sl+' '+bs({mm:'munutenn',MM:'miz',dd:'devezh'}[il],sl)}function vs(sl){return 9<sl?vs(sl%10):sl}function bs(sl,dl){return 2===dl?Cs(sl):sl}function Cs(sl){var dl={m:'v',b:'v',d:'z'};return void 0===dl[sl.charAt(0)]?sl:dl[sl.charAt(0)]+sl.substring(1)}function Es(sl,dl,il){var rl=sl+' ';return'm'===il?dl?'jedna minuta':'jedne minute':'mm'===il?(rl+=1===sl?'minuta':2===sl||3===sl||4===sl?'minute':'minuta',rl):'h'===il?dl?'jedan sat':'jednog sata':'hh'===il?(rl+=1===sl?'sat':2===sl||3===sl||4===sl?'sata':'sati',rl):'dd'===il?(rl+=1===sl?'dan':'dana',rl):'MM'===il?(rl+=1===sl?'mjesec':2===sl||3===sl||4===sl?'mjeseca':'mjeseci',rl):'yy'===il?(rl+=1===sl?'godina':2===sl||3===sl||4===sl?'godine':'godina',rl):void 0}function Ds(sl){return 1<sl&&5>sl&&1!=~~(sl/10)}function Ys(sl,dl,il,rl){var ol=sl+' ';switch(il){case's':return dl||rl?'p\xE1r sekund':'p\xE1r sekundami';case'm':return dl?'minuta':rl?'minutu':'minutou';case'mm':return dl||rl?ol+(Ds(sl)?'minuty':'minut'):ol+'minutami';break;case'h':return dl?'hodina':rl?'hodinu':'hodinou';case'hh':return dl||rl?ol+(Ds(sl)?'hodiny':'hodin'):ol+'hodinami';break;case'd':return dl||rl?'den':'dnem';case'dd':return dl||rl?ol+(Ds(sl)?'dny':'dn\xED'):ol+'dny';break;case'M':return dl||rl?'m\u011Bs\xEDc':'m\u011Bs\xEDcem';case'MM':return dl||rl?ol+(Ds(sl)?'m\u011Bs\xEDce':'m\u011Bs\xEDc\u016F'):ol+'m\u011Bs\xEDci';break;case'y':return dl||rl?'rok':'rokem';case'yy':return dl||rl?ol+(Ds(sl)?'roky':'let'):ol+'lety';}}function ks(sl,dl,il){var ol={m:['eine Minute','einer Minute'],h:['eine Stunde','einer Stunde'],d:['ein Tag','einem Tag'],dd:[sl+' Tage',sl+' Tagen'],M:['ein Monat','einem Monat'],MM:[sl+' Monate',sl+' Monaten'],y:['ein Jahr','einem Jahr'],yy:[sl+' Jahre',sl+' Jahren']};return dl?ol[il][0]:ol[il][1]}function Rs(sl,dl,il){var ol={m:['eine Minute','einer Minute'],h:['eine Stunde','einer Stunde'],d:['ein Tag','einem Tag'],dd:[sl+' Tage',sl+' Tagen'],M:['ein Monat','einem Monat'],MM:[sl+' Monate',sl+' Monaten'],y:['ein Jahr','einem Jahr'],yy:[sl+' Jahre',sl+' Jahren']};return dl?ol[il][0]:ol[il][1]}function Is(sl,dl,il){var ol={m:['eine Minute','einer Minute'],h:['eine Stunde','einer Stunde'],d:['ein Tag','einem Tag'],dd:[sl+' Tage',sl+' Tagen'],M:['ein Monat','einem Monat'],MM:[sl+' Monate',sl+' Monaten'],y:['ein Jahr','einem Jahr'],yy:[sl+' Jahre',sl+' Jahren']};return dl?ol[il][0]:ol[il][1]}function As(sl,dl,il,rl){var ol={s:['m\xF5ne sekundi','m\xF5ni sekund','paar sekundit'],m:['\xFChe minuti','\xFCks minut'],mm:[sl+' minuti',sl+' minutit'],h:['\xFChe tunni','tund aega','\xFCks tund'],hh:[sl+' tunni',sl+' tundi'],d:['\xFChe p\xE4eva','\xFCks p\xE4ev'],M:['kuu aja','kuu aega','\xFCks kuu'],MM:[sl+' kuu',sl+' kuud'],y:['\xFChe aasta','aasta','\xFCks aasta'],yy:[sl+' aasta',sl+' aastat']};return dl?ol[il][2]?ol[il][2]:ol[il][1]:rl?ol[il][0]:ol[il][1]}function xs(sl,dl,il,rl){var ol='';switch(il){case's':return rl?'muutaman sekunnin':'muutama sekunti';case'm':return rl?'minuutin':'minuutti';case'mm':ol=rl?'minuutin':'minuuttia';break;case'h':return rl?'tunnin':'tunti';case'hh':ol=rl?'tunnin':'tuntia';break;case'd':return rl?'p\xE4iv\xE4n':'p\xE4iv\xE4';case'dd':ol=rl?'p\xE4iv\xE4n':'p\xE4iv\xE4\xE4';break;case'M':return rl?'kuukauden':'kuukausi';case'MM':ol=rl?'kuukauden':'kuukautta';break;case'y':return rl?'vuoden':'vuosi';case'yy':ol=rl?'vuoden':'vuotta';}return ol=Os(sl,rl)+' '+ol,ol}function Os(sl,dl){return 10>sl?dl?ro[sl]:io[sl]:sl}function Ps(sl,dl,il){var ol={s:['thodde secondanim','thodde second'],m:['eka mintan','ek minute'],mm:[sl+' mintanim',sl+' mintam'],h:['eka horan','ek hor'],hh:[sl+' horanim',sl+' hor'],d:['eka disan','ek dis'],dd:[sl+' disanim',sl+' dis'],M:['eka mhoinean','ek mhoino'],MM:[sl+' mhoineanim',sl+' mhoine'],y:['eka vorsan','ek voros'],yy:[sl+' vorsanim',sl+' vorsam']};return dl?ol[il][0]:ol[il][1]}function Ns(sl,dl,il){var rl=sl+' ';return'm'===il?dl?'jedna minuta':'jedne minute':'mm'===il?(rl+=1===sl?'minuta':2===sl||3===sl||4===sl?'minute':'minuta',rl):'h'===il?dl?'jedan sat':'jednog sata':'hh'===il?(rl+=1===sl?'sat':2===sl||3===sl||4===sl?'sata':'sati',rl):'dd'===il?(rl+=1===sl?'dan':'dana',rl):'MM'===il?(rl+=1===sl?'mjesec':2===sl||3===sl||4===sl?'mjeseca':'mjeseci',rl):'yy'===il?(rl+=1===sl?'godina':2===sl||3===sl||4===sl?'godine':'godina',rl):void 0}function Hs(sl,dl,il,rl){var ol=sl;return's'===il?rl||dl?'n\xE9h\xE1ny m\xE1sodperc':'n\xE9h\xE1ny m\xE1sodperce':'m'===il?'egy'+(rl||dl?' perc':' perce'):'mm'===il?ol+(rl||dl?' perc':' perce'):'h'===il?'egy'+(rl||dl?' \xF3ra':' \xF3r\xE1ja'):'hh'===il?ol+(rl||dl?' \xF3ra':' \xF3r\xE1ja'):'d'===il?'egy'+(rl||dl?' nap':' napja'):'dd'===il?ol+(rl||dl?' nap':' napja'):'M'===il?'egy'+(rl||dl?' h\xF3nap':' h\xF3napja'):'MM'===il?ol+(rl||dl?' h\xF3nap':' h\xF3napja'):'y'===il?'egy'+(rl||dl?' \xE9v':' \xE9ve'):'yy'===il?ol+(rl||dl?' \xE9v':' \xE9ve'):''}function js(sl){return(sl?'':'[m\xFAlt] ')+'['+yo[this.day()]+'] LT[-kor]'}function Us(sl){return!(11!=sl%100)||1!=sl%10}function Fs(sl,dl,il,rl){var ol=sl+' ';return's'===il?dl||rl?'nokkrar sek\xFAndur':'nokkrum sek\xFAndum':'m'===il?dl?'m\xEDn\xFAta':'m\xEDn\xFAtu':'mm'===il?Us(sl)?ol+(dl||rl?'m\xEDn\xFAtur':'m\xEDn\xFAtum'):dl?ol+'m\xEDn\xFAta':ol+'m\xEDn\xFAtu':'hh'===il?Us(sl)?ol+(dl||rl?'klukkustundir':'klukkustundum'):ol+'klukkustund':'d'===il?dl?'dagur':rl?'dag':'degi':'dd'===il?Us(sl)?dl?ol+'dagar':ol+(rl?'daga':'d\xF6gum'):dl?ol+'dagur':ol+(rl?'dag':'degi'):'M'===il?dl?'m\xE1nu\xF0ur':rl?'m\xE1nu\xF0':'m\xE1nu\xF0i':'MM'===il?Us(sl)?dl?ol+'m\xE1nu\xF0ir':ol+(rl?'m\xE1nu\xF0i':'m\xE1nu\xF0um'):dl?ol+'m\xE1nu\xF0ur':ol+(rl?'m\xE1nu\xF0':'m\xE1nu\xF0i'):'y'===il?dl||rl?'\xE1r':'\xE1ri':'yy'===il?Us(sl)?ol+(dl||rl?'\xE1r':'\xE1rum'):ol+(dl||rl?'\xE1r':'\xE1ri'):void 0}function Bs(sl,dl,il){var ol={m:['eng Minutt','enger Minutt'],h:['eng Stonn','enger Stonn'],d:['een Dag','engem Dag'],M:['ee Mount','engem Mount'],y:['ee Joer','engem Joer']};return dl?ol[il][0]:ol[il][1]}function Ws(sl){if(sl=parseInt(sl,10),isNaN(sl))return!1;if(0>sl)return!0;if(10>sl)return 4<=sl&&7>=sl;if(100>sl){var dl=sl%10,il=sl/10;return 0==dl?Ws(il):Ws(dl)}if(1e4>sl){for(;10<=sl;)sl/=10;return Ws(sl)}return sl/=1e3,Ws(sl)}function Vs(sl,dl,il,rl){return dl?$s(il)[0]:rl?$s(il)[1]:$s(il)[2]}function Gs(sl){return 0==sl%10||10<sl&&20>sl}function $s(sl){return vo[sl].split('_')}function Ks(sl,dl,il,rl){var ol=sl+' ';return 1===sl?ol+Vs(sl,dl,il[0],rl):dl?ol+(Gs(sl)?$s(il)[1]:$s(il)[0]):rl?ol+$s(il)[1]:ol+(Gs(sl)?$s(il)[1]:$s(il)[2])}function Xs(sl,dl,il){return il?1==dl%10&&11!=dl%100?sl[2]:sl[3]:1==dl%10&&11!=dl%100?sl[0]:sl[1]}function Qs(sl,dl,il){return sl+' '+Xs(bo[il],sl,dl)}function Zs(sl,dl,il){return Xs(bo[il],sl,dl)}function td(sl,dl,il){var ol='';return dl?'s'===il?ol='\u0915\u093E\u0939\u0940 \u0938\u0947\u0915\u0902\u0926':'m'===il?ol='\u090F\u0915 \u092E\u093F\u0928\u093F\u091F':'mm'===il?ol='%d \u092E\u093F\u0928\u093F\u091F\u0947':'h'===il?ol='\u090F\u0915 \u0924\u093E\u0938':'hh'===il?ol='%d \u0924\u093E\u0938':'d'===il?ol='\u090F\u0915 \u0926\u093F\u0935\u0938':'dd'===il?ol='%d \u0926\u093F\u0935\u0938':'M'===il?ol='\u090F\u0915 \u092E\u0939\u093F\u0928\u093E':'MM'===il?ol='%d \u092E\u0939\u093F\u0928\u0947':'y'===il?ol='\u090F\u0915 \u0935\u0930\u094D\u0937':'yy'===il?ol='%d \u0935\u0930\u094D\u0937\u0947':void 0:'s'===il?ol='\u0915\u093E\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093E\u0902':'m'===il?ol='\u090F\u0915\u093E \u092E\u093F\u0928\u093F\u091F\u093E':'mm'===il?ol='%d \u092E\u093F\u0928\u093F\u091F\u093E\u0902':'h'===il?ol='\u090F\u0915\u093E \u0924\u093E\u0938\u093E':'hh'===il?ol='%d \u0924\u093E\u0938\u093E\u0902':'d'===il?ol='\u090F\u0915\u093E \u0926\u093F\u0935\u0938\u093E':'dd'===il?ol='%d \u0926\u093F\u0935\u0938\u093E\u0902':'M'===il?ol='\u090F\u0915\u093E \u092E\u0939\u093F\u0928\u094D\u092F\u093E':'MM'===il?ol='%d \u092E\u0939\u093F\u0928\u094D\u092F\u093E\u0902':'y'===il?ol='\u090F\u0915\u093E \u0935\u0930\u094D\u0937\u093E':'yy'===il?ol='%d \u0935\u0930\u094D\u0937\u093E\u0902':void 0,ol.replace(/%d/i,sl)}function nd(sl){return 5>sl%10&&1<sl%10&&1!=~~(sl/10)%10}function ad(sl,dl,il){var rl=sl+' ';return'm'===il?dl?'minuta':'minut\u0119':'mm'===il?rl+(nd(sl)?'minuty':'minut'):'h'===il?dl?'godzina':'godzin\u0119':'hh'===il?rl+(nd(sl)?'godziny':'godzin'):'MM'===il?rl+(nd(sl)?'miesi\u0105ce':'miesi\u0119cy'):'yy'===il?rl+(nd(sl)?'lata':'lat'):void 0}function sd(sl,dl,il){var ol=' ';return(20<=sl%100||100<=sl&&0==sl%100)&&(ol=' de '),sl+ol+{mm:'minute',hh:'ore',dd:'zile',MM:'luni',yy:'ani'}[il]}function dd(sl,dl){var il=sl.split('_');return 1==dl%10&&11!=dl%100?il[0]:2<=dl%10&&4>=dl%10&&(10>dl%100||20<=dl%100)?il[1]:il[2]}function rd(sl,dl,il){var rl={mm:dl?'\u043C\u0438\u043D\u0443\u0442\u0430_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442':'\u043C\u0438\u043D\u0443\u0442\u0443_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442',hh:'\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043E\u0432',dd:'\u0434\u0435\u043D\u044C_\u0434\u043D\u044F_\u0434\u043D\u0435\u0439',MM:'\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u0430_\u043C\u0435\u0441\u044F\u0446\u0435\u0432',yy:'\u0433\u043E\u0434_\u0433\u043E\u0434\u0430_\u043B\u0435\u0442'};return'm'===il?dl?'\u043C\u0438\u043D\u0443\u0442\u0430':'\u043C\u0438\u043D\u0443\u0442\u0443':sl+' '+dd(rl[il],+sl)}function od(sl){return 1<sl&&5>sl}function ld(sl,dl,il,rl){var ol=sl+' ';switch(il){case's':return dl||rl?'p\xE1r sek\xFAnd':'p\xE1r sekundami';case'm':return dl?'min\xFAta':rl?'min\xFAtu':'min\xFAtou';case'mm':return dl||rl?ol+(od(sl)?'min\xFAty':'min\xFAt'):ol+'min\xFAtami';break;case'h':return dl?'hodina':rl?'hodinu':'hodinou';case'hh':return dl||rl?ol+(od(sl)?'hodiny':'hod\xEDn'):ol+'hodinami';break;case'd':return dl||rl?'de\u0148':'d\u0148om';case'dd':return dl||rl?ol+(od(sl)?'dni':'dn\xED'):ol+'d\u0148ami';break;case'M':return dl||rl?'mesiac':'mesiacom';case'MM':return dl||rl?ol+(od(sl)?'mesiace':'mesiacov'):ol+'mesiacmi';break;case'y':return dl||rl?'rok':'rokom';case'yy':return dl||rl?ol+(od(sl)?'roky':'rokov'):ol+'rokmi';}}function ud(sl,dl,il,rl){var ol=sl+' ';return's'===il?dl||rl?'nekaj sekund':'nekaj sekundami':'m'===il?dl?'ena minuta':'eno minuto':'mm'===il?(ol+=1===sl?dl?'minuta':'minuto':2===sl?dl||rl?'minuti':'minutama':5>sl?dl||rl?'minute':'minutami':dl||rl?'minut':'minutami',ol):'h'===il?dl?'ena ura':'eno uro':'hh'===il?(ol+=1===sl?dl?'ura':'uro':2===sl?dl||rl?'uri':'urama':5>sl?dl||rl?'ure':'urami':dl||rl?'ur':'urami',ol):'d'===il?dl||rl?'en dan':'enim dnem':'dd'===il?(ol+=1===sl?dl||rl?'dan':'dnem':2===sl?dl||rl?'dni':'dnevoma':dl||rl?'dni':'dnevi',ol):'M'===il?dl||rl?'en mesec':'enim mesecem':'MM'===il?(ol+=1===sl?dl||rl?'mesec':'mesecem':2===sl?dl||rl?'meseca':'mesecema':5>sl?dl||rl?'mesece':'meseci':dl||rl?'mesecev':'meseci',ol):'y'===il?dl||rl?'eno leto':'enim letom':'yy'===il?(ol+=1===sl?dl||rl?'leto':'letom':2===sl?dl||rl?'leti':'letoma':5>sl?dl||rl?'leta':'leti':dl||rl?'let':'leti',ol):void 0}function md(sl,dl,il){var ol=pd(sl);return'mm'===il?ol+' tup':'hh'===il?ol+' rep':'dd'===il?ol+' jaj':'MM'===il?ol+' jar':'yy'===il?ol+' DIS':void 0}function pd(sl){var dl=Math.floor(sl%1e3/100),il=Math.floor(sl%100/10),rl=sl%10,ol='';return 0<dl&&(ol+=Zo[dl]+'vatlh'),0<il&&(ol+=(''==ol?'':' ')+Zo[il]+'maH'),0<rl&&(ol+=(''==ol?'':' ')+Zo[rl]),''==ol?'pagh':ol}function gd(sl,dl,il,rl){var ol={s:['viensas secunds','\'iensas secunds'],m:['\'n m\xEDut','\'iens m\xEDut'],mm:[sl+' m\xEDuts',''+sl+' m\xEDuts'],h:['\'n \xFEora','\'iensa \xFEora'],hh:[sl+' \xFEoras',''+sl+' \xFEoras'],d:['\'n ziua','\'iensa ziua'],dd:[sl+' ziuas',''+sl+' ziuas'],M:['\'n mes','\'iens mes'],MM:[sl+' mesen',''+sl+' mesen'],y:['\'n ar','\'iens ar'],yy:[sl+' ars',''+sl+' ars']};return rl?ol[il][0]:dl?ol[il][0]:ol[il][1]}function hd(sl,dl){var il=sl.split('_');return 1==dl%10&&11!=dl%100?il[0]:2<=dl%10&&4>=dl%10&&(10>dl%100||20<=dl%100)?il[1]:il[2]}function fd(sl,dl,il){var rl={mm:dl?'\u0445\u0432\u0438\u043B\u0438\u043D\u0430_\u0445\u0432\u0438\u043B\u0438\u043D\u0438_\u0445\u0432\u0438\u043B\u0438\u043D':'\u0445\u0432\u0438\u043B\u0438\u043D\u0443_\u0445\u0432\u0438\u043B\u0438\u043D\u0438_\u0445\u0432\u0438\u043B\u0438\u043D',hh:dl?'\u0433\u043E\u0434\u0438\u043D\u0430_\u0433\u043E\u0434\u0438\u043D\u0438_\u0433\u043E\u0434\u0438\u043D':'\u0433\u043E\u0434\u0438\u043D\u0443_\u0433\u043E\u0434\u0438\u043D\u0438_\u0433\u043E\u0434\u0438\u043D',dd:'\u0434\u0435\u043D\u044C_\u0434\u043D\u0456_\u0434\u043D\u0456\u0432',MM:'\u043C\u0456\u0441\u044F\u0446\u044C_\u043C\u0456\u0441\u044F\u0446\u0456_\u043C\u0456\u0441\u044F\u0446\u0456\u0432',yy:'\u0440\u0456\u043A_\u0440\u043E\u043A\u0438_\u0440\u043E\u043A\u0456\u0432'};return'm'===il?dl?'\u0445\u0432\u0438\u043B\u0438\u043D\u0430':'\u0445\u0432\u0438\u043B\u0438\u043D\u0443':'h'===il?dl?'\u0433\u043E\u0434\u0438\u043D\u0430':'\u0433\u043E\u0434\u0438\u043D\u0443':sl+' '+hd(rl[il],+sl)}function Md(sl){return function(){return sl+'\u043E'+(11===this.hours()?'\u0431':'')+'] LT'}}var Td,Ld;Ld=Array.prototype.some?Array.prototype.some:function(sl){for(var dl=Object(this),il=dl.length>>>0,rl=0;rl<il;rl++)if(rl in dl&&sl.call(this,dl[rl],rl,dl))return!0;return!1};var Sd=Ld,vd=A.momentProperties=[],bd=!1,Cd={};A.suppressDeprecationWarnings=!1,A.deprecationHandler=null;var Ed=Object.keys?Object.keys:function(sl){var il=[],dl;for(dl in sl)K(sl,dl)&&il.push(dl);return il};var Dd=Ed,Id=/\d{1,2}/,xd={},Od={},Pd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hd={},jd={},Ud=/\d/,Fd=/\d\d/,Bd=/\d{3}/,qd=/\d{4}/,zd=/[+-]?\d{6}/,Wd=/\d\d?/,Jd=/\d\d\d\d?/,Vd=/\d\d\d\d\d\d?/,Gd=/\d{1,3}/,$d=/\d{1,4}/,Kd=/[+-]?\d{1,6}/,Xd=/\d+/,Qd=/[+-]?\d+/,Zd=/Z|[+-]\d\d:?\d\d/gi,ei=/Z|[+-]\d\d(?::?\d\d)?/gi,ti=/[+-]?\d+(\.\d{1,3})?/,ni=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ai={},si={},di=0,ri=1,oi=2,li=3,ui=4,ci=5,mi=6,pi=7,gi=8,fi;fi=Array.prototype.indexOf?Array.prototype.indexOf:function(sl){var dl;for(dl=0;dl<this.length;++dl)if(this[dl]===sl)return dl;return-1};var yi=fi;xe('M',['MM',2],'Mo',function(){return this.month()+1}),xe('MMM',0,0,function(sl){return this.localeData().monthsShort(this,sl)}),xe('MMMM',0,0,function(sl){return this.localeData().months(this,sl)}),ve('month','M'),Ee('month',8),je('M',Wd),je('MM',Wd,Fd),je('MMM',function(sl,dl){return dl.monthsShortRegex(sl)}),je('MMMM',function(sl,dl){return dl.monthsRegex(sl)}),qe(['M','MM'],function(sl,dl){dl[ri]=oe(sl)-1}),qe(['MMM','MMMM'],function(sl,dl,il,rl){var ol=il._locale.monthsParse(sl,rl,il._strict);null==ol?ee(il).invalidMonth=sl:dl[ri]=ol});var Mi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ti='January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),Li='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');xe('Y',0,0,function(){var sl=this.year();return 9999>=sl?''+sl:'+'+sl}),xe(0,['YY',2],0,function(){return this.year()%100}),xe(0,['YYYY',4],0,'year'),xe(0,['YYYYY',5],0,'year'),xe(0,['YYYYYY',6,!0],0,'year'),ve('year','y'),Ee('year',1),je('Y',Qd),je('YY',Wd,Fd),je('YYYY',$d,qd),je('YYYYY',Kd,zd),je('YYYYYY',Kd,zd),qe(['YYYYY','YYYYYY'],di),qe('YYYY',function(sl,dl){dl[di]=2===sl.length?A.parseTwoDigitYear(sl):oe(sl)}),qe('YY',function(sl,dl){dl[di]=A.parseTwoDigitYear(sl)}),qe('Y',function(sl,dl){dl[di]=parseInt(sl,10)}),A.parseTwoDigitYear=function(sl){return oe(sl)+(68<oe(sl)?1900:2e3)};var Ci=we('FullYear',!0);xe('w',['ww',2],'wo','week'),xe('W',['WW',2],'Wo','isoWeek'),ve('week','w'),ve('isoWeek','W'),Ee('week',5),Ee('isoWeek',5),je('w',Wd),je('ww',Wd,Fd),je('W',Wd),je('WW',Wd,Fd),ze(['w','ww','W','WW'],function(sl,dl,il,rl){dl[rl.substr(0,1)]=oe(sl)});xe('d',0,'do','day'),xe('dd',0,0,function(sl){return this.localeData().weekdaysMin(this,sl)}),xe('ddd',0,0,function(sl){return this.localeData().weekdaysShort(this,sl)}),xe('dddd',0,0,function(sl){return this.localeData().weekdays(this,sl)}),xe('e',0,0,'weekday'),xe('E',0,0,'isoWeekday'),ve('day','d'),ve('weekday','e'),ve('isoWeekday','E'),Ee('day',11),Ee('weekday',11),Ee('isoWeekday',11),je('d',Wd),je('e',Wd),je('E',Wd),je('dd',function(sl,dl){return dl.weekdaysMinRegex(sl)}),je('ddd',function(sl,dl){return dl.weekdaysShortRegex(sl)}),je('dddd',function(sl,dl){return dl.weekdaysRegex(sl)}),ze(['dd','ddd','dddd'],function(sl,dl,il,rl){var ol=il._locale.weekdaysParse(sl,rl,il._strict);null==ol?ee(il).invalidWeekday=sl:dl.d=ol}),ze(['d','e','E'],function(sl,dl,il,rl){dl[rl]=oe(sl)});var Di='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),wi='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),Yi='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');xe('H',['HH',2],0,'hour'),xe('h',['hh',2],0,Ot),xe('k',['kk',2],0,function(){return this.hours()||24}),xe('hmm',0,0,function(){return''+Ot.apply(this)+Ae(this.minutes(),2)}),xe('hmmss',0,0,function(){return''+Ot.apply(this)+Ae(this.minutes(),2)+Ae(this.seconds(),2)}),xe('Hmm',0,0,function(){return''+this.hours()+Ae(this.minutes(),2)}),xe('Hmmss',0,0,function(){return''+this.hours()+Ae(this.minutes(),2)+Ae(this.seconds(),2)}),Nt('a',!0),Nt('A',!1),ve('hour','h'),Ee('hour',13),je('a',Ht),je('A',Ht),je('H',Wd),je('h',Wd),je('k',Wd),je('HH',Wd,Fd),je('hh',Wd,Fd),je('kk',Wd,Fd),je('hmm',Jd),je('hmmss',Vd),je('Hmm',Jd),je('Hmmss',Vd),qe(['H','HH'],li),qe(['k','kk'],function(sl,dl){var rl=oe(sl);dl[li]=24===rl?0:rl}),qe(['a','A'],function(sl,dl,il){il._isPm=il._locale.isPM(sl),il._meridiem=sl}),qe(['h','hh'],function(sl,dl,il){dl[li]=oe(sl),ee(il).bigHour=!0}),qe('hmm',function(sl,dl,il){var rl=sl.length-2;dl[li]=oe(sl.substr(0,rl)),dl[ui]=oe(sl.substr(rl)),ee(il).bigHour=!0}),qe('hmmss',function(sl,dl,il){var rl=sl.length-4,ol=sl.length-2;dl[li]=oe(sl.substr(0,rl)),dl[ui]=oe(sl.substr(rl,2)),dl[ci]=oe(sl.substr(ol)),ee(il).bigHour=!0}),qe('Hmm',function(sl,dl){var rl=sl.length-2;dl[li]=oe(sl.substr(0,rl)),dl[ui]=oe(sl.substr(rl))}),qe('Hmmss',function(sl,dl){var rl=sl.length-4,ol=sl.length-2;dl[li]=oe(sl.substr(0,rl)),dl[ui]=oe(sl.substr(rl,2)),dl[ci]=oe(sl.substr(ol))});var Ai=/[ap]\.?m?\.?/i,xi=we('Hours',!0),Oi={calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},longDateFormat:{LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'},invalidDate:'Invalid date',ordinal:'%d',dayOfMonthOrdinalParse:Id,relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',ss:'%d seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},months:Ti,monthsShort:Li,week:{dow:0,doy:6},weekdays:Di,weekdaysMin:Yi,weekdaysShort:wi,meridiemParse:Ai},Pi={},Ni={},Ui=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bi=/Z|[+-]\d\d(?::?\d\d)?/,qi=[['YYYYYY-MM-DD',/[+-]\d{6}-\d\d-\d\d/],['YYYY-MM-DD',/\d{4}-\d\d-\d\d/],['GGGG-[W]WW-E',/\d{4}-W\d\d-\d/],['GGGG-[W]WW',/\d{4}-W\d\d/,!1],['YYYY-DDD',/\d{4}-\d{3}/],['YYYY-MM',/\d{4}-\d\d/,!1],['YYYYYYMMDD',/[+-]\d{10}/],['YYYYMMDD',/\d{8}/],['GGGG[W]WWE',/\d{4}W\d{3}/],['GGGG[W]WW',/\d{4}W\d{2}/,!1],['YYYYDDD',/\d{7}/]],zi=[['HH:mm:ss.SSSS',/\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss,SSSS',/\d\d:\d\d:\d\d,\d+/],['HH:mm:ss',/\d\d:\d\d:\d\d/],['HH:mm',/\d\d:\d\d/],['HHmmss.SSSS',/\d\d\d\d\d\d\.\d+/],['HHmmss,SSSS',/\d\d\d\d\d\d,\d+/],['HHmmss',/\d\d\d\d\d\d/],['HHmm',/\d\d\d\d/],['HH',/\d\d/]],Wi=/^\/?Date\((\-?\d+)/i,Ji=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/,ji;A.createFromInputFallback=_e('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',function(sl){sl._d=new Date(sl._i+(sl._useUTC?' UTC':''))}),A.ISO_8601=function(){},A.RFC_2822=function(){};var Vi=_e('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var sl=mn.apply(null,arguments);return this.isValid()&&sl.isValid()?sl<this?this:sl:ne()}),Gi=_e('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var sl=mn.apply(null,arguments);return this.isValid()&&sl.isValid()?sl>this?this:sl:ne()}),Ki=['year','quarter','month','week','day','hour','minute','second','millisecond'];bn('Z',':'),bn('ZZ',''),je('Z',ei),je('ZZ',ei),qe(['Z','ZZ'],function(sl,dl,il){il._useUTC=!0,il._tzm=Cn(ei,sl)});var Xi=/([\+\-]|\d\d)/gi;A.updateOffset=function(){};var Qi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Zi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;jn.fn=Ln.prototype,jn.invalid=function(){return jn(NaN)};var er=qn(1,'add'),tr=qn(-1,'subtract');A.defaultFormat='YYYY-MM-DDTHH:mm:ssZ',A.defaultFormatUtc='YYYY-MM-DDTHH:mm:ss[Z]';var nr=_e('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(sl){return void 0===sl?this.localeData():this.locale(sl)});xe(0,['gg',2],0,function(){return this.weekYear()%100}),xe(0,['GG',2],0,function(){return this.isoWeekYear()%100}),ba('gggg','weekYear'),ba('ggggg','weekYear'),ba('GGGG','isoWeekYear'),ba('GGGGG','isoWeekYear'),ve('weekYear','gg'),ve('isoWeekYear','GG'),Ee('weekYear',1),Ee('isoWeekYear',1),je('G',Qd),je('g',Qd),je('GG',Wd,Fd),je('gg',Wd,Fd),je('GGGG',$d,qd),je('gggg',$d,qd),je('GGGGG',Kd,zd),je('ggggg',Kd,zd),ze(['gggg','ggggg','GGGG','GGGGG'],function(sl,dl,il,rl){dl[rl.substr(0,2)]=oe(sl)}),ze(['gg','GG'],function(sl,dl,il,rl){dl[rl]=A.parseTwoDigitYear(sl)}),xe('Q',0,'Qo','quarter'),ve('quarter','Q'),Ee('quarter',7),je('Q',Ud),qe('Q',function(sl,dl){dl[ri]=3*(oe(sl)-1)}),xe('D',['DD',2],'Do','date'),ve('date','D'),Ee('date',9),je('D',Wd),je('DD',Wd,Fd),je('Do',function(sl,dl){return sl?dl._dayOfMonthOrdinalParse||dl._ordinalParse:dl._dayOfMonthOrdinalParseLenient}),qe(['D','DD'],oi),qe('Do',function(sl,dl){dl[oi]=oe(sl.match(Wd)[0],10)});var ar=we('Date',!0);xe('DDD',['DDDD',3],'DDDo','dayOfYear'),ve('dayOfYear','DDD'),Ee('dayOfYear',4),je('DDD',Gd),je('DDDD',Bd),qe(['DDD','DDDD'],function(sl,dl,il){il._dayOfYear=oe(sl)}),xe('m',['mm',2],0,'minute'),ve('minute','m'),Ee('minute',14),je('m',Wd),je('mm',Wd,Fd),qe(['m','mm'],ui);var sr=we('Minutes',!1);xe('s',['ss',2],0,'second'),ve('second','s'),Ee('second',15),je('s',Wd),je('ss',Wd,Fd),qe(['s','ss'],ci);var dr=we('Seconds',!1);xe('S',0,0,function(){return~~(this.millisecond()/100)}),xe(0,['SS',2],0,function(){return~~(this.millisecond()/10)}),xe(0,['SSS',3],0,'millisecond'),xe(0,['SSSS',4],0,function(){return 10*this.millisecond()}),xe(0,['SSSSS',5],0,function(){return 100*this.millisecond()}),xe(0,['SSSSSS',6],0,function(){return 1e3*this.millisecond()}),xe(0,['SSSSSSS',7],0,function(){return 1e4*this.millisecond()}),xe(0,['SSSSSSSS',8],0,function(){return 1e5*this.millisecond()}),xe(0,['SSSSSSSSS',9],0,function(){return 1e6*this.millisecond()}),ve('millisecond','ms'),Ee('millisecond',16),je('S',Gd,Ud),je('SS',Gd,Fd),je('SSS',Gd,Bd);var ir;for(ir='SSSS';9>=ir.length;ir+='S')je(ir,Xd);for(ir='S';9>=ir.length;ir+='S')qe(ir,Aa);var rr=we('Milliseconds',!1);xe('z',0,0,'zoneAbbr'),xe('zz',0,0,'zoneName');var or=se.prototype;or.add=er,or.calendar=function(sl,dl){var il=sl||mn(),rl=En(il,this).startOf('day'),ol=A.calendarFormat(this,rl)||'sameElse',ll=dl&&(me(dl[ol])?dl[ol].call(this,il):dl[ol]);return this.format(ll||this.localeData().calendar(ol,this,mn(il)))},or.clone=function(){return new se(this)},or.diff=function(sl,dl,il){var rl,ol,ll,ul;return this.isValid()?(rl=En(sl,this),!rl.isValid())?NaN:(ol=6e4*(rl.utcOffset()-this.utcOffset()),dl=be(dl),'year'===dl||'month'===dl||'quarter'===dl?(ul=ta(this,rl),'quarter'===dl?ul/=3:'year'===dl&&(ul/=12)):(ll=this-rl,ul='second'===dl?ll/1e3:'minute'===dl?ll/6e4:'hour'===dl?ll/36e5:'day'===dl?(ll-ol)/864e5:'week'===dl?(ll-ol)/6048e5:ll),il?ul:ie(ul)):NaN},or.endOf=function(sl){return(sl=be(sl),void 0===sl||'millisecond'===sl)?this:('date'===sl&&(sl='day'),this.startOf(sl).add(1,'isoWeek'===sl?'week':sl).subtract(1,'ms'))},or.format=function(sl){sl||(sl=this.isUtc()?A.defaultFormatUtc:A.defaultFormat);var dl=Ne(this,sl);return this.localeData().postformat(dl)},or.from=function(sl,dl){return this.isValid()&&(de(sl)&&sl.isValid()||mn(sl).isValid())?jn({to:this,from:sl}).locale(this.locale()).humanize(!dl):this.localeData().invalidDate()},or.fromNow=function(sl){return this.from(mn(),sl)},or.to=function(sl,dl){return this.isValid()&&(de(sl)&&sl.isValid()||mn(sl).isValid())?jn({from:this,to:sl}).locale(this.locale()).humanize(!dl):this.localeData().invalidDate()},or.toNow=function(sl){return this.to(mn(),sl)},or.get=function(sl){return sl=be(sl),me(this[sl])?this[sl]():this},or.invalidAt=function(){return ee(this).overflow},or.isAfter=function(sl,dl){var il=de(sl)?sl:mn(sl);return this.isValid()&&il.isValid()&&(dl=be(W(dl)?'millisecond':dl),'millisecond'===dl?this.valueOf()>il.valueOf():il.valueOf()<this.clone().startOf(dl).valueOf())},or.isBefore=function(sl,dl){var il=de(sl)?sl:mn(sl);return this.isValid()&&il.isValid()&&(dl=be(W(dl)?'millisecond':dl),'millisecond'===dl?this.valueOf()<il.valueOf():this.clone().endOf(dl).valueOf()<il.valueOf())},or.isBetween=function(sl,dl,il,rl){return rl=rl||'()',('('===rl[0]?this.isAfter(sl,il):!this.isBefore(sl,il))&&(')'===rl[1]?this.isBefore(dl,il):!this.isAfter(dl,il))},or.isSame=function(sl,dl){var il=de(sl)?sl:mn(sl),rl;return this.isValid()&&il.isValid()&&(dl=be(dl||'millisecond'),'millisecond'===dl?this.valueOf()===il.valueOf():(rl=il.valueOf(),this.clone().startOf(dl).valueOf()<=rl&&rl<=this.clone().endOf(dl).valueOf()))},or.isSameOrAfter=function(sl,dl){return this.isSame(sl,dl)||this.isAfter(sl,dl)},or.isSameOrBefore=function(sl,dl){return this.isSame(sl,dl)||this.isBefore(sl,dl)},or.isValid=function(){return te(this)},or.lang=nr,or.locale=ua,or.localeData=_a,or.max=Gi,or.min=Vi,or.parsingFlags=function(){return X({},ee(this))},or.set=function(sl,dl){if('object'==typeof sl){sl=Ce(sl);for(var il=De(sl),rl=0;rl<il.length;rl++)this[il[rl].unit](sl[il[rl].unit])}else if(sl=be(sl),me(this[sl]))return this[sl](dl);return this},or.startOf=function(sl){switch(sl=be(sl),sl){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':case'date':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}return'week'===sl&&this.weekday(0),'isoWeek'===sl&&this.isoWeekday(1),'quarter'===sl&&this.month(3*Math.floor(this.month()/3)),this},or.subtract=tr,or.toArray=function(){var sl=this;return[sl.year(),sl.month(),sl.date(),sl.hour(),sl.minute(),sl.second(),sl.millisecond()]},or.toObject=function(){var sl=this;return{years:sl.year(),months:sl.month(),date:sl.date(),hours:sl.hours(),minutes:sl.minutes(),seconds:sl.seconds(),milliseconds:sl.milliseconds()}},or.toDate=function(){return new Date(this.valueOf())},or.toISOString=function(){if(!this.isValid())return null;var sl=this.clone().utc();return 0>sl.year()||9999<sl.year()?Ne(sl,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'):me(Date.prototype.toISOString)?this.toDate().toISOString():Ne(sl,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]')},or.inspect=function(){if(!this.isValid())return'moment.invalid(/* '+this._i+' */)';var sl='moment',dl='';this.isLocal()||(sl=0===this.utcOffset()?'moment.utc':'moment.parseZone',dl='Z');var il='['+sl+'("]',rl=0<=this.year()&&9999>=this.year()?'YYYY':'YYYYYY',ll=dl+'[")]';return this.format(il+rl+'-MM-DD[T]HH:mm:ss.SSS'+ll)},or.toJSON=function(){return this.isValid()?this.toISOString():null},or.toString=function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},or.unix=function(){return Math.floor(this.valueOf()/1e3)},or.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},or.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},or.year=Ci,or.isLeapYear=function(){return dt(this.year())},or.weekYear=function(sl){return Ya.call(this,sl,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},or.isoWeekYear=function(sl){return Ya.call(this,sl,this.isoWeek(),this.isoWeekday(),1,4)},or.quarter=or.quarters=function(sl){return null==sl?Math.ceil((this.month()+1)/3):this.month(3*(sl-1)+this.month()%3)},or.month=Qe,or.daysInMonth=function(){return Je(this.year(),this.month())},or.week=or.weeks=function(sl){var dl=this.localeData().week(this);return null==sl?dl:this.add(7*(sl-dl),'d')},or.isoWeek=or.isoWeeks=function(sl){var dl=mt(this,1,4).week;return null==sl?dl:this.add(7*(sl-dl),'d')},or.weeksInYear=function(){var sl=this.localeData()._week;return pt(this.year(),sl.dow,sl.doy)},or.isoWeeksInYear=function(){return pt(this.year(),1,4)},or.date=ar,or.day=or.days=function(sl){if(!this.isValid())return null==sl?NaN:this;var dl=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==sl?dl:(sl=Lt(sl,this.localeData()),this.add(sl-dl,'d'))},or.weekday=function(sl){if(!this.isValid())return null==sl?NaN:this;var dl=(this.day()+7-this.localeData()._week.dow)%7;return null==sl?dl:this.add(sl-dl,'d')},or.isoWeekday=function(sl){if(!this.isValid())return null==sl?NaN:this;if(null!=sl){var dl=St(sl,this.localeData());return this.day(this.day()%7?dl:dl-7)}return this.day()||7},or.dayOfYear=function(sl){var dl=Math.round((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return null==sl?dl:this.add(sl-dl,'d')},or.hour=or.hours=xi,or.minute=or.minutes=sr,or.second=or.seconds=dr,or.millisecond=or.milliseconds=rr,or.utcOffset=function(sl,dl,il){var rl=this._offset||0,ol;if(!this.isValid())return null==sl?NaN:this;if(null!=sl){if('string'!=typeof sl)16>Math.abs(sl)&&!il&&(sl*=60);else if(sl=Cn(ei,sl),null===sl)return this;return!this._isUTC&&dl&&(ol=Dn(this)),this._offset=sl,this._isUTC=!0,null!=ol&&this.add(ol,'m'),rl!==sl&&(!dl||this._changeInProgress?zn(this,jn(sl-rl,'m'),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,A.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?rl:Dn(this)},or.utc=function(sl){return this.utcOffset(0,sl)},or.local=function(sl){return this._isUTC&&(this.utcOffset(0,sl),this._isUTC=!1,sl&&this.subtract(Dn(this),'m')),this},or.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if('string'==typeof this._i){var sl=Cn(Zd,this._i);null==sl?this.utcOffset(0,!0):this.utcOffset(sl)}return this},or.hasAlignedHourOffset=function(sl){return!!this.isValid()&&(sl=sl?mn(sl).utcOffset():0,0==(this.utcOffset()-sl)%60)},or.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},or.isLocal=function(){return!!this.isValid()&&!this._isUTC},or.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},or.isUtc=Hn,or.isUTC=Hn,or.zoneAbbr=function(){return this._isUTC?'UTC':''},or.zoneName=function(){return this._isUTC?'Coordinated Universal Time':''},or.dates=_e('dates accessor is deprecated. Use date instead.',ar),or.months=_e('months accessor is deprecated. Use month instead',Qe),or.years=_e('years accessor is deprecated. Use year instead',Ci),or.zone=_e('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',function(sl,dl){return null==sl?-this.utcOffset():('string'!=typeof sl&&(sl=-sl),this.utcOffset(sl,dl),this)}),or.isDSTShifted=_e('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',function(){if(!W(this._isDSTShifted))return this._isDSTShifted;var sl={};if(ae(sl,this),sl=un(sl),sl._a){var dl=sl._isUTC?Q(sl._a):mn(sl._a);this._isDSTShifted=this.isValid()&&0<le(sl._a,dl.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var lr=he.prototype;lr.calendar=function(sl,dl,il){var rl=this._calendar[sl]||this._calendar.sameElse;return me(rl)?rl.call(dl,il):rl},lr.longDateFormat=function(sl){var dl=this._longDateFormat[sl],il=this._longDateFormat[sl.toUpperCase()];return dl||!il?dl:(this._longDateFormat[sl]=il.replace(/MMMM|MM|DD|dddd/g,function(rl){return rl.slice(1)}),this._longDateFormat[sl])},lr.invalidDate=function(){return this._invalidDate},lr.ordinal=function(sl){return this._ordinal.replace('%d',sl)},lr.preparse=Ha,lr.postformat=Ha,lr.relativeTime=function(sl,dl,il,rl){var ol=this._relativeTime[il];return me(ol)?ol(sl,dl,il,rl):ol.replace(/%d/i,sl)},lr.pastFuture=function(sl,dl){var il=this._relativeTime[0<sl?'future':'past'];return me(il)?il(dl):il.replace(/%s/i,dl)},lr.set=function(sl){var dl,il;for(il in sl)dl=sl[il],me(dl)?this[il]=dl:this['_'+il]=dl;this._config=sl,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+'|'+/\d{1,2}/.source)},lr.months=function(sl,dl){return sl?H(this._months)?this._months[sl.month()]:this._months[(this._months.isFormat||Mi).test(dl)?'format':'standalone'][sl.month()]:H(this._months)?this._months:this._months.standalone},lr.monthsShort=function(sl,dl){return sl?H(this._monthsShort)?this._monthsShort[sl.month()]:this._monthsShort[Mi.test(dl)?'format':'standalone'][sl.month()]:H(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},lr.monthsParse=function(sl,dl,il){var rl,ol,ll;if(this._monthsParseExact)return $e.call(this,sl,dl,il);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),rl=0;12>rl;rl++){if(ol=Q([2e3,rl]),il&&!this._longMonthsParse[rl]&&(this._longMonthsParse[rl]=new RegExp('^'+this.months(ol,'').replace('.','')+'$','i'),this._shortMonthsParse[rl]=new RegExp('^'+this.monthsShort(ol,'').replace('.','')+'$','i')),il||this._monthsParse[rl]||(ll='^'+this.months(ol,'')+'|^'+this.monthsShort(ol,''),this._monthsParse[rl]=new RegExp(ll.replace('.',''),'i')),il&&'MMMM'===dl&&this._longMonthsParse[rl].test(sl))return rl;if(il&&'MMM'===dl&&this._shortMonthsParse[rl].test(sl))return rl;if(!il&&this._monthsParse[rl].test(sl))return rl}},lr.monthsRegex=function(sl){return this._monthsParseExact?(K(this,'_monthsRegex')||at.call(this),sl?this._monthsStrictRegex:this._monthsRegex):(K(this,'_monthsRegex')||(this._monthsRegex=ni),this._monthsStrictRegex&&sl?this._monthsStrictRegex:this._monthsRegex)},lr.monthsShortRegex=function(sl){return this._monthsParseExact?(K(this,'_monthsRegex')||at.call(this),sl?this._monthsShortStrictRegex:this._monthsShortRegex):(K(this,'_monthsShortRegex')||(this._monthsShortRegex=ni),this._monthsShortStrictRegex&&sl?this._monthsShortStrictRegex:this._monthsShortRegex)},lr.week=function(sl){return mt(sl,this._week.dow,this._week.doy).week},lr.firstDayOfYear=function(){return this._week.doy},lr.firstDayOfWeek=function(){return this._week.dow},lr.weekdays=function(sl,dl){return sl?H(this._weekdays)?this._weekdays[sl.day()]:this._weekdays[this._weekdays.isFormat.test(dl)?'format':'standalone'][sl.day()]:H(this._weekdays)?this._weekdays:this._weekdays.standalone},lr.weekdaysMin=function(sl){return sl?this._weekdaysMin[sl.day()]:this._weekdaysMin},lr.weekdaysShort=function(sl){return sl?this._weekdaysShort[sl.day()]:this._weekdaysShort},lr.weekdaysParse=function(sl,dl,il){var rl,ol,ll;if(this._weekdaysParseExact)return Et.call(this,sl,dl,il);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),rl=0;7>rl;rl++){if(ol=Q([2000,1]).day(rl),il&&!this._fullWeekdaysParse[rl]&&(this._fullWeekdaysParse[rl]=new RegExp('^'+this.weekdays(ol,'').replace('.','.?')+'$','i'),this._shortWeekdaysParse[rl]=new RegExp('^'+this.weekdaysShort(ol,'').replace('.','.?')+'$','i'),this._minWeekdaysParse[rl]=new RegExp('^'+this.weekdaysMin(ol,'').replace('.','.?')+'$','i')),this._weekdaysParse[rl]||(ll='^'+this.weekdays(ol,'')+'|^'+this.weekdaysShort(ol,'')+'|^'+this.weekdaysMin(ol,''),this._weekdaysParse[rl]=new RegExp(ll.replace('.',''),'i')),il&&'dddd'===dl&&this._fullWeekdaysParse[rl].test(sl))return rl;if(il&&'ddd'===dl&&this._shortWeekdaysParse[rl].test(sl))return rl;if(il&&'dd'===dl&&this._minWeekdaysParse[rl].test(sl))return rl;if(!il&&this._weekdaysParse[rl].test(sl))return rl}},lr.weekdaysRegex=function(sl){return this._weekdaysParseExact?(K(this,'_weekdaysRegex')||xt.call(this),sl?this._weekdaysStrictRegex:this._weekdaysRegex):(K(this,'_weekdaysRegex')||(this._weekdaysRegex=ni),this._weekdaysStrictRegex&&sl?this._weekdaysStrictRegex:this._weekdaysRegex)},lr.weekdaysShortRegex=function(sl){return this._weekdaysParseExact?(K(this,'_weekdaysRegex')||xt.call(this),sl?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(K(this,'_weekdaysShortRegex')||(this._weekdaysShortRegex=ni),this._weekdaysShortStrictRegex&&sl?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},lr.weekdaysMinRegex=function(sl){return this._weekdaysParseExact?(K(this,'_weekdaysRegex')||xt.call(this),sl?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(K(this,'_weekdaysMinRegex')||(this._weekdaysMinRegex=ni),this._weekdaysMinStrictRegex&&sl?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},lr.isPM=function(sl){return'p'===(sl+'').toLowerCase().charAt(0)},lr.meridiem=function(sl,dl,il){return 11<sl?il?'pm':'PM':il?'am':'AM'},zt('en',{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(sl){var dl=sl%10,il=1===oe(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il}}),A.lang=_e('moment.lang is deprecated. Use moment.locale instead.',zt),A.langData=_e('moment.langData is deprecated. Use moment.localeData instead.',Vt);var ur=Math.abs,_r=is('ms'),cr=is('s'),mr=is('m'),pr=is('h'),gr=is('d'),hr=is('w'),fr=is('M'),yr=is('y'),Mr=ls('milliseconds'),Tr=ls('seconds'),Lr=ls('minutes'),Sr=ls('hours'),vr=ls('days'),br=ls('months'),Cr=ls('years'),Er=Math.round,Dr={ss:44,s:45,m:45,h:22,d:26,M:11},wr=Math.abs,Yr=Ln.prototype;Yr.isValid=function(){return this._isValid},Yr.abs=function(){var sl=this._data;return this._milliseconds=ur(this._milliseconds),this._days=ur(this._days),this._months=ur(this._months),sl.milliseconds=ur(sl.milliseconds),sl.seconds=ur(sl.seconds),sl.minutes=ur(sl.minutes),sl.hours=ur(sl.hours),sl.months=ur(sl.months),sl.years=ur(sl.years),this},Yr.add=function(sl,dl){return Ga(this,sl,dl,1)},Yr.subtract=function(sl,dl){return Ga(this,sl,dl,-1)},Yr.as=function(sl){if(!this.isValid())return NaN;var rl=this._milliseconds,dl,il;if(sl=be(sl),'month'===sl||'year'===sl)return dl=this._days+rl/864e5,il=this._months+Za(dl),'month'===sl?il:il/12;switch(dl=this._days+Math.round(es(this._months)),sl){case'week':return dl/7+rl/6048e5;case'day':return dl+rl/864e5;case'hour':return 24*dl+rl/36e5;case'minute':return 1440*dl+rl/6e4;case'second':return 86400*dl+rl/1e3;case'millisecond':return Math.floor(864e5*dl)+rl;default:throw new Error('Unknown unit '+sl);}},Yr.asMilliseconds=_r,Yr.asSeconds=cr,Yr.asMinutes=mr,Yr.asHours=pr,Yr.asDays=gr,Yr.asWeeks=hr,Yr.asMonths=fr,Yr.asYears=yr,Yr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*oe(this._months/12):NaN},Yr._bubble=function(){var sl=this._milliseconds,dl=this._days,il=this._months,rl=this._data,ol,ll,ul,_l,cl;return 0<=sl&&0<=dl&&0<=il||0>=sl&&0>=dl&&0>=il||(sl+=864e5*Xa(es(il)+dl),dl=0,il=0),rl.milliseconds=sl%1e3,ol=ie(sl/1e3),rl.seconds=ol%60,ll=ie(ol/60),rl.minutes=ll%60,ul=ie(ll/60),rl.hours=ul%24,dl+=ie(ul/24),cl=ie(Za(dl)),il+=cl,dl-=Xa(es(cl)),_l=ie(il/12),il%=12,rl.days=dl,rl.months=il,rl.years=_l,this},Yr.get=function(sl){return sl=be(sl),this.isValid()?this[sl+'s']():NaN},Yr.milliseconds=Mr,Yr.seconds=Tr,Yr.minutes=Lr,Yr.hours=Sr,Yr.days=vr,Yr.weeks=function(){return ie(this.days()/7)},Yr.months=br,Yr.years=Cr,Yr.humanize=function(sl){if(!this.isValid())return this.localeData().invalidDate();var dl=this.localeData(),il=cs(this,!sl,dl);return sl&&(il=dl.pastFuture(+this,il)),dl.postformat(il)},Yr.toISOString=ys,Yr.toString=ys,Yr.toJSON=ys,Yr.locale=ua,Yr.localeData=_a,Yr.toIsoString=_e('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',ys),Yr.lang=nr,xe('X',0,0,'unix'),xe('x',0,0,'valueOf'),je('x',Qd),je('X',ti),qe('X',function(sl,dl,il){il._d=new Date(1e3*parseFloat(sl,10))}),qe('x',function(sl,dl,il){il._d=new Date(oe(sl))}),A.version='2.18.1',function(sl){Td=sl}(mn),A.fn=or,A.min=function(){var sl=[].slice.call(arguments,0);return pn('isBefore',sl)},A.max=function(){var sl=[].slice.call(arguments,0);return pn('isAfter',sl)},A.now=function(){return Date.now?Date.now():+new Date},A.utc=Q,A.unix=function(sl){return mn(1e3*sl)},A.months=function(sl,dl){return Ua(sl,dl,'months')},A.isDate=G,A.locale=zt,A.invalid=ne,A.duration=jn,A.isMoment=de,A.weekdays=function(sl,dl,il){return Fa(sl,dl,il,'weekdays')},A.parseZone=function(){return mn.apply(null,arguments).parseZone()},A.localeData=Vt,A.isDuration=Sn,A.monthsShort=function(sl,dl){return Ua(sl,dl,'monthsShort')},A.weekdaysMin=function(sl,dl,il){return Fa(sl,dl,il,'weekdaysMin')},A.defineLocale=Wt,A.updateLocale=function(sl,dl){if(null!=dl){var rl=Oi,il;null!=Pi[sl]&&(rl=Pi[sl]._config),dl=ge(rl,dl),il=new he(dl),il.parentLocale=Pi[sl],Pi[sl]=il,zt(sl)}else null!=Pi[sl]&&(null==Pi[sl].parentLocale?null!=Pi[sl]&&delete Pi[sl]:Pi[sl]=Pi[sl].parentLocale);return Pi[sl]},A.locales=function(){return Dd(Pi)},A.weekdaysShort=function(sl,dl,il){return Fa(sl,dl,il,'weekdaysShort')},A.normalizeUnits=be,A.relativeTimeRounding=function(sl){return void 0===sl?Er:'function'==typeof sl&&(Er=sl,!0)},A.relativeTimeThreshold=function(sl,dl){return void 0!==Dr[sl]&&(void 0===dl?Dr[sl]:(Dr[sl]=dl,'s'===sl&&(Dr.ss=dl-1),!0))},A.calendarFormat=function(sl,dl){var il=sl.diff(dl,'days',!0);return-6>il?'sameElse':-1>il?'lastWeek':0>il?'lastDay':1>il?'sameDay':2>il?'nextDay':7>il?'nextWeek':'sameElse'},A.prototype=or,A.defineLocale('af',{months:'Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember'.split('_'),monthsShort:'Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des'.split('_'),weekdays:'Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag'.split('_'),weekdaysShort:'Son_Maa_Din_Woe_Don_Vry_Sat'.split('_'),weekdaysMin:'So_Ma_Di_Wo_Do_Vr_Sa'.split('_'),meridiemParse:/vm|nm/i,isPM:function(sl){return /^nm$/i.test(sl)},meridiem:function(sl,dl,il){return 12>sl?il?'vm':'VM':il?'nm':'NM'},longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Vandag om] LT',nextDay:'[M\xF4re om] LT',nextWeek:'dddd [om] LT',lastDay:'[Gister om] LT',lastWeek:'[Laas] dddd [om] LT',sameElse:'L'},relativeTime:{future:'oor %s',past:'%s gelede',s:'\'n paar sekondes',m:'\'n minuut',mm:'%d minute',h:'\'n uur',hh:'%d ure',d:'\'n dag',dd:'%d dae',M:'\'n maand',MM:'%d maande',y:'\'n jaar',yy:'%d jaar'},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(sl){return sl+(1===sl||8===sl||20<=sl?'ste':'de')},week:{dow:1,doy:4}}),A.defineLocale('ar-dz',{months:'\u062C\u0627\u0646\u0641\u064A_\u0641\u064A\u0641\u0631\u064A_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064A\u0644_\u0645\u0627\u064A_\u062C\u0648\u0627\u0646_\u062C\u0648\u064A\u0644\u064A\u0629_\u0623\u0648\u062A_\u0633\u0628\u062A\u0645\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062F\u064A\u0633\u0645\u0628\u0631'.split('_'),monthsShort:'\u062C\u0627\u0646\u0641\u064A_\u0641\u064A\u0641\u0631\u064A_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064A\u0644_\u0645\u0627\u064A_\u062C\u0648\u0627\u0646_\u062C\u0648\u064A\u0644\u064A\u0629_\u0623\u0648\u062A_\u0633\u0628\u062A\u0645\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062F\u064A\u0633\u0645\u0628\u0631'.split('_'),weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062B\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0627\u062D\u062F_\u0627\u062B\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u0623\u062D_\u0625\u062B_\u062B\u0644\u0627_\u0623\u0631_\u062E\u0645_\u062C\u0645_\u0633\u0628'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0641\u064A %s',past:'\u0645\u0646\u0630 %s',s:'\u062B\u0648\u0627\u0646',m:'\u062F\u0642\u064A\u0642\u0629',mm:'%d \u062F\u0642\u0627\u0626\u0642',h:'\u0633\u0627\u0639\u0629',hh:'%d \u0633\u0627\u0639\u0627\u062A',d:'\u064A\u0648\u0645',dd:'%d \u0623\u064A\u0627\u0645',M:'\u0634\u0647\u0631',MM:'%d \u0623\u0634\u0647\u0631',y:'\u0633\u0646\u0629',yy:'%d \u0633\u0646\u0648\u0627\u062A'},week:{dow:0,doy:4}}),A.defineLocale('ar-kw',{months:'\u064A\u0646\u0627\u064A\u0631_\u0641\u0628\u0631\u0627\u064A\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064A\u0644_\u0645\u0627\u064A_\u064A\u0648\u0646\u064A\u0648_\u064A\u0648\u0644\u064A\u0648\u0632_\u063A\u0634\u062A_\u0634\u062A\u0646\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062F\u062C\u0646\u0628\u0631'.split('_'),monthsShort:'\u064A\u0646\u0627\u064A\u0631_\u0641\u0628\u0631\u0627\u064A\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064A\u0644_\u0645\u0627\u064A_\u064A\u0648\u0646\u064A\u0648_\u064A\u0648\u0644\u064A\u0648\u0632_\u063A\u0634\u062A_\u0634\u062A\u0646\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062F\u062C\u0646\u0628\u0631'.split('_'),weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062A\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0627\u062D\u062F_\u0627\u062A\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u062D_\u0646_\u062B_\u0631_\u062E_\u062C_\u0633'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0641\u064A %s',past:'\u0645\u0646\u0630 %s',s:'\u062B\u0648\u0627\u0646',m:'\u062F\u0642\u064A\u0642\u0629',mm:'%d \u062F\u0642\u0627\u0626\u0642',h:'\u0633\u0627\u0639\u0629',hh:'%d \u0633\u0627\u0639\u0627\u062A',d:'\u064A\u0648\u0645',dd:'%d \u0623\u064A\u0627\u0645',M:'\u0634\u0647\u0631',MM:'%d \u0623\u0634\u0647\u0631',y:'\u0633\u0646\u0629',yy:'%d \u0633\u0646\u0648\u0627\u062A'},week:{dow:0,doy:12}});var kr={0:'0',1:'1',2:'2',3:'3',4:'4',5:'5',6:'6',7:'7',8:'8',9:'9'},Rr=function(sl){return 0===sl?0:1===sl?1:2===sl?2:3<=sl%100&&10>=sl%100?3:11<=sl%100?4:5},Ir={s:['\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629','\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629',['\u062B\u0627\u0646\u064A\u062A\u0627\u0646','\u062B\u0627\u0646\u064A\u062A\u064A\u0646'],'%d \u062B\u0648\u0627\u0646','%d \u062B\u0627\u0646\u064A\u0629','%d \u062B\u0627\u0646\u064A\u0629'],m:['\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629','\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629',['\u062F\u0642\u064A\u0642\u062A\u0627\u0646','\u062F\u0642\u064A\u0642\u062A\u064A\u0646'],'%d \u062F\u0642\u0627\u0626\u0642','%d \u062F\u0642\u064A\u0642\u0629','%d \u062F\u0642\u064A\u0642\u0629'],h:['\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629','\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629',['\u0633\u0627\u0639\u062A\u0627\u0646','\u0633\u0627\u0639\u062A\u064A\u0646'],'%d \u0633\u0627\u0639\u0627\u062A','%d \u0633\u0627\u0639\u0629','%d \u0633\u0627\u0639\u0629'],d:['\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645','\u064A\u0648\u0645 \u0648\u0627\u062D\u062F',['\u064A\u0648\u0645\u0627\u0646','\u064A\u0648\u0645\u064A\u0646'],'%d \u0623\u064A\u0627\u0645','%d \u064A\u0648\u0645\u064B\u0627','%d \u064A\u0648\u0645'],M:['\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631','\u0634\u0647\u0631 \u0648\u0627\u062D\u062F',['\u0634\u0647\u0631\u0627\u0646','\u0634\u0647\u0631\u064A\u0646'],'%d \u0623\u0634\u0647\u0631','%d \u0634\u0647\u0631\u0627','%d \u0634\u0647\u0631'],y:['\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645','\u0639\u0627\u0645 \u0648\u0627\u062D\u062F',['\u0639\u0627\u0645\u0627\u0646','\u0639\u0627\u0645\u064A\u0646'],'%d \u0623\u0639\u0648\u0627\u0645','%d \u0639\u0627\u0645\u064B\u0627','%d \u0639\u0627\u0645']},Ar=function(sl){return function(dl,il){var ll=Rr(dl),ul=Ir[sl][Rr(dl)];return 2===ll&&(ul=ul[il?0:1]),ul.replace(/%d/i,dl)}},xr=['\u064A\u0646\u0627\u064A\u0631','\u0641\u0628\u0631\u0627\u064A\u0631','\u0645\u0627\u0631\u0633','\u0623\u0628\u0631\u064A\u0644','\u0645\u0627\u064A\u0648','\u064A\u0648\u0646\u064A\u0648','\u064A\u0648\u0644\u064A\u0648','\u0623\u063A\u0633\u0637\u0633','\u0633\u0628\u062A\u0645\u0628\u0631','\u0623\u0643\u062A\u0648\u0628\u0631','\u0646\u0648\u0641\u0645\u0628\u0631','\u062F\u064A\u0633\u0645\u0628\u0631'];A.defineLocale('ar-ly',{months:xr,monthsShort:xr,weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062B\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0623\u062D\u062F_\u0625\u062B\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u062D_\u0646_\u062B_\u0631_\u062E_\u062C_\u0633'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'D/\u200FM/\u200FYYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0645'===sl},meridiem:function(sl){return 12>sl?'\u0635':'\u0645'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0628\u0639\u062F %s',past:'\u0645\u0646\u0630 %s',s:Ar('s'),m:Ar('m'),mm:Ar('m'),h:Ar('h'),hh:Ar('h'),d:Ar('d'),dd:Ar('d'),M:Ar('M'),MM:Ar('M'),y:Ar('y'),yy:Ar('y')},preparse:function(sl){return sl.replace(/\u200f/g,'').replace(//g,',')},postformat:function(sl){return sl.replace(/\d/g,function(dl){return kr[dl]}).replace(/,/g,'\u060C')},week:{dow:6,doy:12}}),A.defineLocale('ar-ma',{months:'\u064A\u0646\u0627\u064A\u0631_\u0641\u0628\u0631\u0627\u064A\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064A\u0644_\u0645\u0627\u064A_\u064A\u0648\u0646\u064A\u0648_\u064A\u0648\u0644\u064A\u0648\u0632_\u063A\u0634\u062A_\u0634\u062A\u0646\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062F\u062C\u0646\u0628\u0631'.split('_'),monthsShort:'\u064A\u0646\u0627\u064A\u0631_\u0641\u0628\u0631\u0627\u064A\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064A\u0644_\u0645\u0627\u064A_\u064A\u0648\u0646\u064A\u0648_\u064A\u0648\u0644\u064A\u0648\u0632_\u063A\u0634\u062A_\u0634\u062A\u0646\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062F\u062C\u0646\u0628\u0631'.split('_'),weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062A\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0627\u062D\u062F_\u0627\u062A\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u062D_\u0646_\u062B_\u0631_\u062E_\u062C_\u0633'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0641\u064A %s',past:'\u0645\u0646\u0630 %s',s:'\u062B\u0648\u0627\u0646',m:'\u062F\u0642\u064A\u0642\u0629',mm:'%d \u062F\u0642\u0627\u0626\u0642',h:'\u0633\u0627\u0639\u0629',hh:'%d \u0633\u0627\u0639\u0627\u062A',d:'\u064A\u0648\u0645',dd:'%d \u0623\u064A\u0627\u0645',M:'\u0634\u0647\u0631',MM:'%d \u0623\u0634\u0647\u0631',y:'\u0633\u0646\u0629',yy:'%d \u0633\u0646\u0648\u0627\u062A'},week:{dow:6,doy:12}});var Or={0:'\u0660',1:'\u0661',2:'\u0662',3:'\u0663',4:'\u0664',5:'\u0665',6:'\u0666',7:'\u0667',8:'\u0668',9:'\u0669'},Pr={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('ar-sa',{months:'\u064A\u0646\u0627\u064A\u0631_\u0641\u0628\u0631\u0627\u064A\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064A\u0644_\u0645\u0627\u064A\u0648_\u064A\u0648\u0646\u064A\u0648_\u064A\u0648\u0644\u064A\u0648_\u0623\u063A\u0633\u0637\u0633_\u0633\u0628\u062A\u0645\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062F\u064A\u0633\u0645\u0628\u0631'.split('_'),monthsShort:'\u064A\u0646\u0627\u064A\u0631_\u0641\u0628\u0631\u0627\u064A\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064A\u0644_\u0645\u0627\u064A\u0648_\u064A\u0648\u0646\u064A\u0648_\u064A\u0648\u0644\u064A\u0648_\u0623\u063A\u0633\u0637\u0633_\u0633\u0628\u062A\u0645\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062F\u064A\u0633\u0645\u0628\u0631'.split('_'),weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062B\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0623\u062D\u062F_\u0625\u062B\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u062D_\u0646_\u062B_\u0631_\u062E_\u062C_\u0633'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0645'===sl},meridiem:function(sl){return 12>sl?'\u0635':'\u0645'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0641\u064A %s',past:'\u0645\u0646\u0630 %s',s:'\u062B\u0648\u0627\u0646',m:'\u062F\u0642\u064A\u0642\u0629',mm:'%d \u062F\u0642\u0627\u0626\u0642',h:'\u0633\u0627\u0639\u0629',hh:'%d \u0633\u0627\u0639\u0627\u062A',d:'\u064A\u0648\u0645',dd:'%d \u0623\u064A\u0627\u0645',M:'\u0634\u0647\u0631',MM:'%d \u0623\u0634\u0647\u0631',y:'\u0633\u0646\u0629',yy:'%d \u0633\u0646\u0648\u0627\u062A'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Pr[dl]}).replace(//g,',')},postformat:function(sl){return sl.replace(/\d/g,function(dl){return Or[dl]}).replace(/,/g,'\u060C')},week:{dow:0,doy:6}}),A.defineLocale('ar-tn',{months:'\u062C\u0627\u0646\u0641\u064A_\u0641\u064A\u0641\u0631\u064A_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064A\u0644_\u0645\u0627\u064A_\u062C\u0648\u0627\u0646_\u062C\u0648\u064A\u0644\u064A\u0629_\u0623\u0648\u062A_\u0633\u0628\u062A\u0645\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062F\u064A\u0633\u0645\u0628\u0631'.split('_'),monthsShort:'\u062C\u0627\u0646\u0641\u064A_\u0641\u064A\u0641\u0631\u064A_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064A\u0644_\u0645\u0627\u064A_\u062C\u0648\u0627\u0646_\u062C\u0648\u064A\u0644\u064A\u0629_\u0623\u0648\u062A_\u0633\u0628\u062A\u0645\u0628\u0631_\u0623\u0643\u062A\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062F\u064A\u0633\u0645\u0628\u0631'.split('_'),weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062B\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0623\u062D\u062F_\u0625\u062B\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u062D_\u0646_\u062B_\u0631_\u062E_\u062C_\u0633'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0641\u064A %s',past:'\u0645\u0646\u0630 %s',s:'\u062B\u0648\u0627\u0646',m:'\u062F\u0642\u064A\u0642\u0629',mm:'%d \u062F\u0642\u0627\u0626\u0642',h:'\u0633\u0627\u0639\u0629',hh:'%d \u0633\u0627\u0639\u0627\u062A',d:'\u064A\u0648\u0645',dd:'%d \u0623\u064A\u0627\u0645',M:'\u0634\u0647\u0631',MM:'%d \u0623\u0634\u0647\u0631',y:'\u0633\u0646\u0629',yy:'%d \u0633\u0646\u0648\u0627\u062A'},week:{dow:1,doy:4}});var Nr={0:'\u0660',1:'\u0661',2:'\u0662',3:'\u0663',4:'\u0664',5:'\u0665',6:'\u0666',7:'\u0667',8:'\u0668',9:'\u0669'},Hr={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'},jr=function(sl){return 0===sl?0:1===sl?1:2===sl?2:3<=sl%100&&10>=sl%100?3:11<=sl%100?4:5},Ur={s:['\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629','\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629',['\u062B\u0627\u0646\u064A\u062A\u0627\u0646','\u062B\u0627\u0646\u064A\u062A\u064A\u0646'],'%d \u062B\u0648\u0627\u0646','%d \u062B\u0627\u0646\u064A\u0629','%d \u062B\u0627\u0646\u064A\u0629'],m:['\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629','\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629',['\u062F\u0642\u064A\u0642\u062A\u0627\u0646','\u062F\u0642\u064A\u0642\u062A\u064A\u0646'],'%d \u062F\u0642\u0627\u0626\u0642','%d \u062F\u0642\u064A\u0642\u0629','%d \u062F\u0642\u064A\u0642\u0629'],h:['\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629','\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629',['\u0633\u0627\u0639\u062A\u0627\u0646','\u0633\u0627\u0639\u062A\u064A\u0646'],'%d \u0633\u0627\u0639\u0627\u062A','%d \u0633\u0627\u0639\u0629','%d \u0633\u0627\u0639\u0629'],d:['\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645','\u064A\u0648\u0645 \u0648\u0627\u062D\u062F',['\u064A\u0648\u0645\u0627\u0646','\u064A\u0648\u0645\u064A\u0646'],'%d \u0623\u064A\u0627\u0645','%d \u064A\u0648\u0645\u064B\u0627','%d \u064A\u0648\u0645'],M:['\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631','\u0634\u0647\u0631 \u0648\u0627\u062D\u062F',['\u0634\u0647\u0631\u0627\u0646','\u0634\u0647\u0631\u064A\u0646'],'%d \u0623\u0634\u0647\u0631','%d \u0634\u0647\u0631\u0627','%d \u0634\u0647\u0631'],y:['\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645','\u0639\u0627\u0645 \u0648\u0627\u062D\u062F',['\u0639\u0627\u0645\u0627\u0646','\u0639\u0627\u0645\u064A\u0646'],'%d \u0623\u0639\u0648\u0627\u0645','%d \u0639\u0627\u0645\u064B\u0627','%d \u0639\u0627\u0645']},Fr=function(sl){return function(dl,il){var ll=jr(dl),ul=Ur[sl][jr(dl)];return 2===ll&&(ul=ul[il?0:1]),ul.replace(/%d/i,dl)}},Br=['\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A \u064A\u0646\u0627\u064A\u0631','\u0634\u0628\u0627\u0637 \u0641\u0628\u0631\u0627\u064A\u0631','\u0622\u0630\u0627\u0631 \u0645\u0627\u0631\u0633','\u0646\u064A\u0633\u0627\u0646 \u0623\u0628\u0631\u064A\u0644','\u0623\u064A\u0627\u0631 \u0645\u0627\u064A\u0648','\u062D\u0632\u064A\u0631\u0627\u0646 \u064A\u0648\u0646\u064A\u0648','\u062A\u0645\u0648\u0632 \u064A\u0648\u0644\u064A\u0648','\u0622\u0628 \u0623\u063A\u0633\u0637\u0633','\u0623\u064A\u0644\u0648\u0644 \u0633\u0628\u062A\u0645\u0628\u0631','\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644 \u0623\u0643\u062A\u0648\u0628\u0631','\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A \u0646\u0648\u0641\u0645\u0628\u0631','\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644 \u062F\u064A\u0633\u0645\u0628\u0631'];A.defineLocale('ar',{months:Br,monthsShort:Br,weekdays:'\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062B\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A'.split('_'),weekdaysShort:'\u0623\u062D\u062F_\u0625\u062B\u0646\u064A\u0646_\u062B\u0644\u0627\u062B\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062E\u0645\u064A\u0633_\u062C\u0645\u0639\u0629_\u0633\u0628\u062A'.split('_'),weekdaysMin:'\u062D_\u0646_\u062B_\u0631_\u062E_\u062C_\u0633'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'D/\u200FM/\u200FYYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0645'===sl},meridiem:function(sl){return 12>sl?'\u0635':'\u0645'},calendar:{sameDay:'[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextDay:'[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',nextWeek:'dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastDay:'[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',lastWeek:'dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT',sameElse:'L'},relativeTime:{future:'\u0628\u0639\u062F %s',past:'\u0645\u0646\u0630 %s',s:Fr('s'),m:Fr('m'),mm:Fr('m'),h:Fr('h'),hh:Fr('h'),d:Fr('d'),dd:Fr('d'),M:Fr('M'),MM:Fr('M'),y:Fr('y'),yy:Fr('y')},preparse:function(sl){return sl.replace(/\u200f/g,'').replace(/[]/g,function(dl){return Hr[dl]}).replace(//g,',')},postformat:function(sl){return sl.replace(/\d/g,function(dl){return Nr[dl]}).replace(/,/g,'\u060C')},week:{dow:6,doy:12}});var qr={1:'-inci',2:'-nci',3:'-\xFCnc\xFC',4:'-\xFCnc\xFC',5:'-inci',6:'-nc\u0131',7:'-nci',8:'-inci',9:'-uncu',10:'-uncu',20:'-nci',30:'-uncu',50:'-nci',60:'-\u0131nc\u0131',70:'-inci',80:'-inci',90:'-\u0131nc\u0131',100:'-\xFCnc\xFC'};A.defineLocale('az',{months:'yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr'.split('_'),monthsShort:'yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek'.split('_'),weekdays:'Bazar_Bazar ert\u0259si_\xC7\u0259r\u015F\u0259nb\u0259 ax\u015Fam\u0131_\xC7\u0259r\u015F\u0259nb\u0259_C\xFCm\u0259 ax\u015Fam\u0131_C\xFCm\u0259_\u015E\u0259nb\u0259'.split('_'),weekdaysShort:'Baz_BzE_\xC7Ax_\xC7\u0259r_CAx_C\xFCm_\u015E\u0259n'.split('_'),weekdaysMin:'Bz_BE_\xC7A_\xC7\u0259_CA_C\xFC_\u015E\u0259'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[bug\xFCn saat] LT',nextDay:'[sabah saat] LT',nextWeek:'[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT',lastDay:'[d\xFCn\u0259n] LT',lastWeek:'[ke\xE7\u0259n h\u0259ft\u0259] dddd [saat] LT',sameElse:'L'},relativeTime:{future:'%s sonra',past:'%s \u0259vv\u0259l',s:'birne\xE7\u0259 saniyy\u0259',m:'bir d\u0259qiq\u0259',mm:'%d d\u0259qiq\u0259',h:'bir saat',hh:'%d saat',d:'bir g\xFCn',dd:'%d g\xFCn',M:'bir ay',MM:'%d ay',y:'bir il',yy:'%d il'},meridiemParse:/gec|shr|gndz|axam/,isPM:function(sl){return /^(gndz|axam)$/.test(sl)},meridiem:function(sl){return 4>sl?'gec\u0259':12>sl?'s\u0259h\u0259r':17>sl?'g\xFCnd\xFCz':'ax\u015Fam'},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(sl){if(0===sl)return sl+'-\u0131nc\u0131';var dl=sl%10,rl=100<=sl?100:null;return sl+(qr[dl]||qr[sl%100-dl]||qr[rl])},week:{dow:1,doy:7}}),A.defineLocale('be',{months:{format:'\u0441\u0442\u0443\u0434\u0437\u0435\u043D\u044F_\u043B\u044E\u0442\u0430\u0433\u0430_\u0441\u0430\u043A\u0430\u0432\u0456\u043A\u0430_\u043A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430_\u0442\u0440\u0430\u045E\u043D\u044F_\u0447\u044D\u0440\u0432\u0435\u043D\u044F_\u043B\u0456\u043F\u0435\u043D\u044F_\u0436\u043D\u0456\u045E\u043D\u044F_\u0432\u0435\u0440\u0430\u0441\u043D\u044F_\u043A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430_\u043B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430_\u0441\u043D\u0435\u0436\u043D\u044F'.split('_'),standalone:'\u0441\u0442\u0443\u0434\u0437\u0435\u043D\u044C_\u043B\u044E\u0442\u044B_\u0441\u0430\u043A\u0430\u0432\u0456\u043A_\u043A\u0440\u0430\u0441\u0430\u0432\u0456\u043A_\u0442\u0440\u0430\u0432\u0435\u043D\u044C_\u0447\u044D\u0440\u0432\u0435\u043D\u044C_\u043B\u0456\u043F\u0435\u043D\u044C_\u0436\u043D\u0456\u0432\u0435\u043D\u044C_\u0432\u0435\u0440\u0430\u0441\u0435\u043D\u044C_\u043A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A_\u043B\u0456\u0441\u0442\u0430\u043F\u0430\u0434_\u0441\u043D\u0435\u0436\u0430\u043D\u044C'.split('_')},monthsShort:'\u0441\u0442\u0443\u0434_\u043B\u044E\u0442_\u0441\u0430\u043A_\u043A\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044D\u0440\u0432_\u043B\u0456\u043F_\u0436\u043D\u0456\u0432_\u0432\u0435\u0440_\u043A\u0430\u0441\u0442_\u043B\u0456\u0441\u0442_\u0441\u043D\u0435\u0436'.split('_'),weekdays:{format:'\u043D\u044F\u0434\u0437\u0435\u043B\u044E_\u043F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A_\u0430\u045E\u0442\u043E\u0440\u0430\u043A_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043F\u044F\u0442\u043D\u0456\u0446\u0443_\u0441\u0443\u0431\u043E\u0442\u0443'.split('_'),standalone:'\u043D\u044F\u0434\u0437\u0435\u043B\u044F_\u043F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A_\u0430\u045E\u0442\u043E\u0440\u0430\u043A_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043F\u044F\u0442\u043D\u0456\u0446\u0430_\u0441\u0443\u0431\u043E\u0442\u0430'.split('_'),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:'\u043D\u0434_\u043F\u043D_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043F\u0442_\u0441\u0431'.split('_'),weekdaysMin:'\u043D\u0434_\u043F\u043D_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043F\u0442_\u0441\u0431'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY \u0433.',LLL:'D MMMM YYYY \u0433., HH:mm',LLLL:'dddd, D MMMM YYYY \u0433., HH:mm'},calendar:{sameDay:'[\u0421\u0451\u043D\u043D\u044F \u045E] LT',nextDay:'[\u0417\u0430\u045E\u0442\u0440\u0430 \u045E] LT',lastDay:'[\u0423\u0447\u043E\u0440\u0430 \u045E] LT',nextWeek:function(){return'[\u0423] dddd [\u045E] LT'},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return'[\u0423 \u043C\u0456\u043D\u0443\u043B\u0443\u044E] dddd [\u045E] LT';case 1:case 2:case 4:return'[\u0423 \u043C\u0456\u043D\u0443\u043B\u044B] dddd [\u045E] LT';}},sameElse:'L'},relativeTime:{future:'\u043F\u0440\u0430\u0437 %s',past:'%s \u0442\u0430\u043C\u0443',s:'\u043D\u0435\u043A\u0430\u043B\u044C\u043A\u0456 \u0441\u0435\u043A\u0443\u043D\u0434',m:Ts,mm:Ts,h:Ts,hh:Ts,d:'\u0434\u0437\u0435\u043D\u044C',dd:Ts,M:'\u043C\u0435\u0441\u044F\u0446',MM:Ts,y:'\u0433\u043E\u0434',yy:Ts},meridiemParse:/|||/,isPM:function(sl){return /^(|)$/.test(sl)},meridiem:function(sl){return 4>sl?'\u043D\u043E\u0447\u044B':12>sl?'\u0440\u0430\u043D\u0456\u0446\u044B':17>sl?'\u0434\u043D\u044F':'\u0432\u0435\u0447\u0430\u0440\u0430'},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(sl,dl){return'M'===dl||'d'===dl||'DDD'===dl||'w'===dl||'W'===dl?(2==sl%10||3==sl%10)&&12!=sl%100&&13!=sl%100?sl+'-\u0456':sl+'-\u044B':'D'===dl?sl+'-\u0433\u0430':sl},week:{dow:1,doy:7}}),A.defineLocale('bg',{months:'\u044F\u043D\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0438\u043B_\u043C\u0430\u0439_\u044E\u043D\u0438_\u044E\u043B\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043F\u0442\u0435\u043C\u0432\u0440\u0438_\u043E\u043A\u0442\u043E\u043C\u0432\u0440\u0438_\u043D\u043E\u0435\u043C\u0432\u0440\u0438_\u0434\u0435\u043A\u0435\u043C\u0432\u0440\u0438'.split('_'),monthsShort:'\u044F\u043D\u0440_\u0444\u0435\u0432_\u043C\u0430\u0440_\u0430\u043F\u0440_\u043C\u0430\u0439_\u044E\u043D\u0438_\u044E\u043B\u0438_\u0430\u0432\u0433_\u0441\u0435\u043F_\u043E\u043A\u0442_\u043D\u043E\u0435_\u0434\u0435\u043A'.split('_'),weekdays:'\u043D\u0435\u0434\u0435\u043B\u044F_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u044F\u0434\u0430_\u0447\u0435\u0442\u0432\u044A\u0440\u0442\u044A\u043A_\u043F\u0435\u0442\u044A\u043A_\u0441\u044A\u0431\u043E\u0442\u0430'.split('_'),weekdaysShort:'\u043D\u0435\u0434_\u043F\u043E\u043D_\u0432\u0442\u043E_\u0441\u0440\u044F_\u0447\u0435\u0442_\u043F\u0435\u0442_\u0441\u044A\u0431'.split('_'),weekdaysMin:'\u043D\u0434_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'D.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY H:mm',LLLL:'dddd, D MMMM YYYY H:mm'},calendar:{sameDay:'[\u0414\u043D\u0435\u0441 \u0432] LT',nextDay:'[\u0423\u0442\u0440\u0435 \u0432] LT',nextWeek:'dddd [\u0432] LT',lastDay:'[\u0412\u0447\u0435\u0440\u0430 \u0432] LT',lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return'[\u0412 \u0438\u0437\u043C\u0438\u043D\u0430\u043B\u0430\u0442\u0430] dddd [\u0432] LT';case 1:case 2:case 4:case 5:return'[\u0412 \u0438\u0437\u043C\u0438\u043D\u0430\u043B\u0438\u044F] dddd [\u0432] LT';}},sameElse:'L'},relativeTime:{future:'\u0441\u043B\u0435\u0434 %s',past:'\u043F\u0440\u0435\u0434\u0438 %s',s:'\u043D\u044F\u043A\u043E\u043B\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434\u0438',m:'\u043C\u0438\u043D\u0443\u0442\u0430',mm:'%d \u043C\u0438\u043D\u0443\u0442\u0438',h:'\u0447\u0430\u0441',hh:'%d \u0447\u0430\u0441\u0430',d:'\u0434\u0435\u043D',dd:'%d \u0434\u043D\u0438',M:'\u043C\u0435\u0441\u0435\u0446',MM:'%d \u043C\u0435\u0441\u0435\u0446\u0430',y:'\u0433\u043E\u0434\u0438\u043D\u0430',yy:'%d \u0433\u043E\u0434\u0438\u043D\u0438'},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(sl){var dl=sl%10,il=sl%100;return 0===sl?sl+'-\u0435\u0432':0==il?sl+'-\u0435\u043D':10<il&&20>il?sl+'-\u0442\u0438':1==dl?sl+'-\u0432\u0438':2==dl?sl+'-\u0440\u0438':7==dl||8==dl?sl+'-\u043C\u0438':sl+'-\u0442\u0438'},week:{dow:1,doy:7}});var zr={0:'\u09E6',1:'\u09E7',2:'\u09E8',3:'\u09E9',4:'\u09EA',5:'\u09EB',6:'\u09EC',7:'\u09ED',8:'\u09EE',9:'\u09EF'},Wr={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('bn',{months:'\u099C\u09BE\u09A8\u09C1\u09DF\u09BE\u09B0\u09C0_\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1\u09DF\u09BE\u09B0\u09BF_\u09AE\u09BE\u09B0\u09CD\u099A_\u098F\u09AA\u09CD\u09B0\u09BF\u09B2_\u09AE\u09C7_\u099C\u09C1\u09A8_\u099C\u09C1\u09B2\u09BE\u0987_\u0986\u0997\u09B8\u09CD\u099F_\u09B8\u09C7\u09AA\u09CD\u099F\u09C7\u09AE\u09CD\u09AC\u09B0_\u0985\u0995\u09CD\u099F\u09CB\u09AC\u09B0_\u09A8\u09AD\u09C7\u09AE\u09CD\u09AC\u09B0_\u09A1\u09BF\u09B8\u09C7\u09AE\u09CD\u09AC\u09B0'.split('_'),monthsShort:'\u099C\u09BE\u09A8\u09C1_\u09AB\u09C7\u09AC_\u09AE\u09BE\u09B0\u09CD\u099A_\u098F\u09AA\u09CD\u09B0_\u09AE\u09C7_\u099C\u09C1\u09A8_\u099C\u09C1\u09B2_\u0986\u0997_\u09B8\u09C7\u09AA\u09CD\u099F_\u0985\u0995\u09CD\u099F\u09CB_\u09A8\u09AD\u09C7_\u09A1\u09BF\u09B8\u09C7'.split('_'),weekdays:'\u09B0\u09AC\u09BF\u09AC\u09BE\u09B0_\u09B8\u09CB\u09AE\u09AC\u09BE\u09B0_\u09AE\u0999\u09CD\u0997\u09B2\u09AC\u09BE\u09B0_\u09AC\u09C1\u09A7\u09AC\u09BE\u09B0_\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF\u09AC\u09BE\u09B0_\u09B6\u09C1\u0995\u09CD\u09B0\u09AC\u09BE\u09B0_\u09B6\u09A8\u09BF\u09AC\u09BE\u09B0'.split('_'),weekdaysShort:'\u09B0\u09AC\u09BF_\u09B8\u09CB\u09AE_\u09AE\u0999\u09CD\u0997\u09B2_\u09AC\u09C1\u09A7_\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF_\u09B6\u09C1\u0995\u09CD\u09B0_\u09B6\u09A8\u09BF'.split('_'),weekdaysMin:'\u09B0\u09AC\u09BF_\u09B8\u09CB\u09AE_\u09AE\u0999\u09CD\u0997_\u09AC\u09C1\u09A7_\u09AC\u09C3\u09B9\u0983_\u09B6\u09C1\u0995\u09CD\u09B0_\u09B6\u09A8\u09BF'.split('_'),longDateFormat:{LT:'A h:mm \u09B8\u09AE\u09DF',LTS:'A h:mm:ss \u09B8\u09AE\u09DF',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF',LLLL:'dddd, D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF'},calendar:{sameDay:'[\u0986\u099C] LT',nextDay:'[\u0986\u0997\u09BE\u09AE\u09C0\u0995\u09BE\u09B2] LT',nextWeek:'dddd, LT',lastDay:'[\u0997\u09A4\u0995\u09BE\u09B2] LT',lastWeek:'[\u0997\u09A4] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u09AA\u09B0\u09C7',past:'%s \u0986\u0997\u09C7',s:'\u0995\u09DF\u09C7\u0995 \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1',m:'\u098F\u0995 \u09AE\u09BF\u09A8\u09BF\u099F',mm:'%d \u09AE\u09BF\u09A8\u09BF\u099F',h:'\u098F\u0995 \u0998\u09A8\u09CD\u099F\u09BE',hh:'%d \u0998\u09A8\u09CD\u099F\u09BE',d:'\u098F\u0995 \u09A6\u09BF\u09A8',dd:'%d \u09A6\u09BF\u09A8',M:'\u098F\u0995 \u09AE\u09BE\u09B8',MM:'%d \u09AE\u09BE\u09B8',y:'\u098F\u0995 \u09AC\u099B\u09B0',yy:'%d \u09AC\u099B\u09B0'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Wr[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return zr[dl]})},meridiemParse:/||||/,meridiemHour:function(sl,dl){return 12===sl&&(sl=0),'\u09B0\u09BE\u09A4'===dl&&4<=sl||'\u09A6\u09C1\u09AA\u09C1\u09B0'===dl&&5>sl||'\u09AC\u09BF\u0995\u09BE\u09B2'===dl?sl+12:sl},meridiem:function(sl){return 4>sl?'\u09B0\u09BE\u09A4':10>sl?'\u09B8\u0995\u09BE\u09B2':17>sl?'\u09A6\u09C1\u09AA\u09C1\u09B0':20>sl?'\u09AC\u09BF\u0995\u09BE\u09B2':'\u09B0\u09BE\u09A4'},week:{dow:0,doy:6}});var Jr={0:'\u0F20',1:'\u0F21',2:'\u0F22',3:'\u0F23',4:'\u0F24',5:'\u0F25',6:'\u0F26',7:'\u0F27',8:'\u0F28',9:'\u0F29'},Vr={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('bo',{months:'\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F44\u0F0B\u0F54\u0F7C_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F66\u0F74\u0F58\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F5E\u0F72\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F63\u0F94\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0FB2\u0F74\u0F42\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F62\u0F92\u0FB1\u0F51\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F42\u0F74\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F45\u0F72\u0F42\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54'.split('_'),monthsShort:'\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F44\u0F0B\u0F54\u0F7C_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F66\u0F74\u0F58\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F5E\u0F72\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F63\u0F94\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0FB2\u0F74\u0F42\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F62\u0F92\u0FB1\u0F51\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F42\u0F74\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F45\u0F72\u0F42\u0F0B\u0F54_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54'.split('_'),weekdays:'\u0F42\u0F5F\u0F60\u0F0B\u0F49\u0F72\u0F0B\u0F58\u0F0B_\u0F42\u0F5F\u0F60\u0F0B\u0F5F\u0FB3\u0F0B\u0F56\u0F0B_\u0F42\u0F5F\u0F60\u0F0B\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B_\u0F42\u0F5F\u0F60\u0F0B\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B_\u0F42\u0F5F\u0F60\u0F0B\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74_\u0F42\u0F5F\u0F60\u0F0B\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B_\u0F42\u0F5F\u0F60\u0F0B\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B'.split('_'),weekdaysShort:'\u0F49\u0F72\u0F0B\u0F58\u0F0B_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B_\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B_\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B_\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74_\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B_\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B'.split('_'),weekdaysMin:'\u0F49\u0F72\u0F0B\u0F58\u0F0B_\u0F5F\u0FB3\u0F0B\u0F56\u0F0B_\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B_\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B_\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74_\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B_\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B'.split('_'),longDateFormat:{LT:'A h:mm',LTS:'A h:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm',LLLL:'dddd, D MMMM YYYY, A h:mm'},calendar:{sameDay:'[\u0F51\u0F72\u0F0B\u0F62\u0F72\u0F44] LT',nextDay:'[\u0F66\u0F44\u0F0B\u0F49\u0F72\u0F53] LT',nextWeek:'[\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F55\u0FB2\u0F42\u0F0B\u0F62\u0F97\u0F7A\u0F66\u0F0B\u0F58], LT',lastDay:'[\u0F41\u0F0B\u0F66\u0F44] LT',lastWeek:'[\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F55\u0FB2\u0F42\u0F0B\u0F58\u0F50\u0F60\u0F0B\u0F58] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u0F63\u0F0B',past:'%s \u0F66\u0F94\u0F53\u0F0B\u0F63',s:'\u0F63\u0F58\u0F0B\u0F66\u0F44',m:'\u0F66\u0F90\u0F62\u0F0B\u0F58\u0F0B\u0F42\u0F45\u0F72\u0F42',mm:'%d \u0F66\u0F90\u0F62\u0F0B\u0F58',h:'\u0F46\u0F74\u0F0B\u0F5A\u0F7C\u0F51\u0F0B\u0F42\u0F45\u0F72\u0F42',hh:'%d \u0F46\u0F74\u0F0B\u0F5A\u0F7C\u0F51',d:'\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F45\u0F72\u0F42',dd:'%d \u0F49\u0F72\u0F53\u0F0B',M:'\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F45\u0F72\u0F42',MM:'%d \u0F5F\u0FB3\u0F0B\u0F56',y:'\u0F63\u0F7C\u0F0B\u0F42\u0F45\u0F72\u0F42',yy:'%d \u0F63\u0F7C'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Vr[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return Jr[dl]})},meridiemParse:/||||/,meridiemHour:function(sl,dl){return 12===sl&&(sl=0),'\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C'===dl&&4<=sl||'\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F74\u0F44'===dl&&5>sl||'\u0F51\u0F42\u0F7C\u0F44\u0F0B\u0F51\u0F42'===dl?sl+12:sl},meridiem:function(sl){return 4>sl?'\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C':10>sl?'\u0F5E\u0F7C\u0F42\u0F66\u0F0B\u0F40\u0F66':17>sl?'\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F74\u0F44':20>sl?'\u0F51\u0F42\u0F7C\u0F44\u0F0B\u0F51\u0F42':'\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C'},week:{dow:0,doy:6}}),A.defineLocale('br',{months:'Genver_C\'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu'.split('_'),monthsShort:'Gen_C\'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker'.split('_'),weekdays:'Sul_Lun_Meurzh_Merc\'her_Yaou_Gwener_Sadorn'.split('_'),weekdaysShort:'Sul_Lun_Meu_Mer_Yao_Gwe_Sad'.split('_'),weekdaysMin:'Su_Lu_Me_Mer_Ya_Gw_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'h[e]mm A',LTS:'h[e]mm:ss A',L:'DD/MM/YYYY',LL:'D [a viz] MMMM YYYY',LLL:'D [a viz] MMMM YYYY h[e]mm A',LLLL:'dddd, D [a viz] MMMM YYYY h[e]mm A'},calendar:{sameDay:'[Hiziv da] LT',nextDay:'[Warc\'hoazh da] LT',nextWeek:'dddd [da] LT',lastDay:'[Dec\'h da] LT',lastWeek:'dddd [paset da] LT',sameElse:'L'},relativeTime:{future:'a-benn %s',past:'%s \'zo',s:'un nebeud segondenno\xF9',m:'ur vunutenn',mm:Ls,h:'un eur',hh:'%d eur',d:'un devezh',dd:Ls,M:'ur miz',MM:Ls,y:'ur bloaz',yy:function(sl){switch(vs(sl)){case 1:case 3:case 4:case 5:case 9:return sl+' bloaz';default:return sl+' vloaz';}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(sl){var dl=1===sl?'a\xF1':'vet';return sl+dl},week:{dow:1,doy:4}}),A.defineLocale('bs',{months:'januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar'.split('_'),monthsShort:'jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.'.split('_'),monthsParseExact:!0,weekdays:'nedjelja_ponedjeljak_utorak_srijeda_\u010Detvrtak_petak_subota'.split('_'),weekdaysShort:'ned._pon._uto._sri._\u010Det._pet._sub.'.split('_'),weekdaysMin:'ne_po_ut_sr_\u010De_pe_su'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[danas u] LT',nextDay:'[sutra u] LT',nextWeek:function(){switch(this.day()){case 0:return'[u] [nedjelju] [u] LT';case 3:return'[u] [srijedu] [u] LT';case 6:return'[u] [subotu] [u] LT';case 1:case 2:case 4:case 5:return'[u] dddd [u] LT';}},lastDay:'[ju\u010Der u] LT',lastWeek:function(){switch(this.day()){case 0:case 3:return'[pro\u0161lu] dddd [u] LT';case 6:return'[pro\u0161le] [subote] [u] LT';case 1:case 2:case 4:case 5:return'[pro\u0161li] dddd [u] LT';}},sameElse:'L'},relativeTime:{future:'za %s',past:'prije %s',s:'par sekundi',m:Es,mm:Es,h:Es,hh:Es,d:'dan',dd:Es,M:'mjesec',MM:Es,y:'godinu',yy:Es},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}}),A.defineLocale('ca',{months:{standalone:'gener_febrer_mar\xE7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre'.split('_'),format:'de gener_de febrer_de mar\xE7_d\'abril_de maig_de juny_de juliol_d\'agost_de setembre_d\'octubre_de novembre_de desembre'.split('_'),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:'gen._febr._mar\xE7_abr._maig_juny_jul._ag._set._oct._nov._des.'.split('_'),monthsParseExact:!0,weekdays:'diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte'.split('_'),weekdaysShort:'dg._dl._dt._dc._dj._dv._ds.'.split('_'),weekdaysMin:'Dg_Dl_Dt_Dc_Dj_Dv_Ds'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD/MM/YYYY',LL:'[el] D MMMM [de] YYYY',ll:'D MMM YYYY',LLL:'[el] D MMMM [de] YYYY [a les] H:mm',lll:'D MMM YYYY, H:mm',LLLL:'[el] dddd D MMMM [de] YYYY [a les] H:mm',llll:'ddd D MMM YYYY, H:mm'},calendar:{sameDay:function(){return'[avui a '+(1===this.hours()?'la':'les')+'] LT'},nextDay:function(){return'[dem\xE0 a '+(1===this.hours()?'la':'les')+'] LT'},nextWeek:function(){return'dddd [a '+(1===this.hours()?'la':'les')+'] LT'},lastDay:function(){return'[ahir a '+(1===this.hours()?'la':'les')+'] LT'},lastWeek:function(){return'[el] dddd [passat a '+(1===this.hours()?'la':'les')+'] LT'},sameElse:'L'},relativeTime:{future:'d\'aqu\xED %s',past:'fa %s',s:'uns segons',m:'un minut',mm:'%d minuts',h:'una hora',hh:'%d hores',d:'un dia',dd:'%d dies',M:'un mes',MM:'%d mesos',y:'un any',yy:'%d anys'},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(sl,dl){var il=1===sl?'r':2===sl?'n':3===sl?'r':4===sl?'t':'\xE8';return('w'===dl||'W'===dl)&&(il='a'),sl+il},week:{dow:1,doy:4}});var Gr='leden_\xFAnor_b\u0159ezen_duben_kv\u011Bten_\u010Derven_\u010Dervenec_srpen_z\xE1\u0159\xED_\u0159\xEDjen_listopad_prosinec'.split('_'),$r='led_\xFAno_b\u0159e_dub_kv\u011B_\u010Dvn_\u010Dvc_srp_z\xE1\u0159_\u0159\xEDj_lis_pro'.split('_');A.defineLocale('cs',{months:Gr,monthsShort:$r,monthsParse:function(sl,dl){var rl=[],il;for(il=0;12>il;il++)rl[il]=new RegExp('^'+sl[il]+'$|^'+dl[il]+'$','i');return rl}(Gr,$r),shortMonthsParse:function(sl){var il=[],dl;for(dl=0;12>dl;dl++)il[dl]=new RegExp('^'+sl[dl]+'$','i');return il}($r),longMonthsParse:function(sl){var il=[],dl;for(dl=0;12>dl;dl++)il[dl]=new RegExp('^'+sl[dl]+'$','i');return il}(Gr),weekdays:'ned\u011Ble_pond\u011Bl\xED_\xFAter\xFD_st\u0159eda_\u010Dtvrtek_p\xE1tek_sobota'.split('_'),weekdaysShort:'ne_po_\xFAt_st_\u010Dt_p\xE1_so'.split('_'),weekdaysMin:'ne_po_\xFAt_st_\u010Dt_p\xE1_so'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd D. MMMM YYYY H:mm',l:'D. M. YYYY'},calendar:{sameDay:'[dnes v] LT',nextDay:'[z\xEDtra v] LT',nextWeek:function(){switch(this.day()){case 0:return'[v ned\u011Bli v] LT';case 1:case 2:return'[v] dddd [v] LT';case 3:return'[ve st\u0159edu v] LT';case 4:return'[ve \u010Dtvrtek v] LT';case 5:return'[v p\xE1tek v] LT';case 6:return'[v sobotu v] LT';}},lastDay:'[v\u010Dera v] LT',lastWeek:function(){switch(this.day()){case 0:return'[minulou ned\u011Bli v] LT';case 1:case 2:return'[minul\xE9] dddd [v] LT';case 3:return'[minulou st\u0159edu v] LT';case 4:case 5:return'[minul\xFD] dddd [v] LT';case 6:return'[minulou sobotu v] LT';}},sameElse:'L'},relativeTime:{future:'za %s',past:'p\u0159ed %s',s:Ys,m:Ys,mm:Ys,h:Ys,hh:Ys,d:Ys,dd:Ys,M:Ys,MM:Ys,y:Ys,yy:Ys},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('cv',{months:'\u043A\u04D1\u0440\u043B\u0430\u0447_\u043D\u0430\u0440\u04D1\u0441_\u043F\u0443\u0448_\u0430\u043A\u0430_\u043C\u0430\u0439_\u04AB\u04D7\u0440\u0442\u043C\u0435_\u0443\u0442\u04D1_\u04AB\u0443\u0440\u043B\u0430_\u0430\u0432\u04D1\u043D_\u044E\u043F\u0430_\u0447\u04F3\u043A_\u0440\u0430\u0448\u0442\u0430\u0432'.split('_'),monthsShort:'\u043A\u04D1\u0440_\u043D\u0430\u0440_\u043F\u0443\u0448_\u0430\u043A\u0430_\u043C\u0430\u0439_\u04AB\u04D7\u0440_\u0443\u0442\u04D1_\u04AB\u0443\u0440_\u0430\u0432\u043D_\u044E\u043F\u0430_\u0447\u04F3\u043A_\u0440\u0430\u0448'.split('_'),weekdays:'\u0432\u044B\u0440\u0441\u0430\u0440\u043D\u0438\u043A\u0443\u043D_\u0442\u0443\u043D\u0442\u0438\u043A\u0443\u043D_\u044B\u0442\u043B\u0430\u0440\u0438\u043A\u0443\u043D_\u044E\u043D\u043A\u0443\u043D_\u043A\u04D7\u04AB\u043D\u0435\u0440\u043D\u0438\u043A\u0443\u043D_\u044D\u0440\u043D\u0435\u043A\u0443\u043D_\u0448\u04D1\u043C\u0430\u0442\u043A\u0443\u043D'.split('_'),weekdaysShort:'\u0432\u044B\u0440_\u0442\u0443\u043D_\u044B\u0442\u043B_\u044E\u043D_\u043A\u04D7\u04AB_\u044D\u0440\u043D_\u0448\u04D1\u043C'.split('_'),weekdaysMin:'\u0432\u0440_\u0442\u043D_\u044B\u0442_\u044E\u043D_\u043A\u04AB_\u044D\u0440_\u0448\u043C'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD-MM-YYYY',LL:'YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7]',LLL:'YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7], HH:mm',LLLL:'dddd, YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7], HH:mm'},calendar:{sameDay:'[\u041F\u0430\u044F\u043D] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]',nextDay:'[\u042B\u0440\u0430\u043D] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]',lastDay:'[\u04D6\u043D\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]',nextWeek:'[\u04AA\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]',lastWeek:'[\u0418\u0440\u0442\u043D\u04D7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]',sameElse:'L'},relativeTime:{future:function(sl){var dl=/$/i.exec(sl)?'\u0440\u0435\u043D':/$/i.exec(sl)?'\u0442\u0430\u043D':'\u0440\u0430\u043D';return sl+dl},past:'%s \u043A\u0430\u044F\u043B\u043B\u0430',s:'\u043F\u04D7\u0440-\u0438\u043A \u04AB\u0435\u043A\u043A\u0443\u043D\u0442',m:'\u043F\u04D7\u0440 \u043C\u0438\u043D\u0443\u0442',mm:'%d \u043C\u0438\u043D\u0443\u0442',h:'\u043F\u04D7\u0440 \u0441\u0435\u0445\u0435\u0442',hh:'%d \u0441\u0435\u0445\u0435\u0442',d:'\u043F\u04D7\u0440 \u043A\u0443\u043D',dd:'%d \u043A\u0443\u043D',M:'\u043F\u04D7\u0440 \u0443\u0439\u04D1\u0445',MM:'%d \u0443\u0439\u04D1\u0445',y:'\u043F\u04D7\u0440 \u04AB\u0443\u043B',yy:'%d \u04AB\u0443\u043B'},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:'%d-\u043C\u04D7\u0448',week:{dow:1,doy:7}}),A.defineLocale('cy',{months:'Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr'.split('_'),monthsShort:'Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag'.split('_'),weekdays:'Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn'.split('_'),weekdaysShort:'Sul_Llun_Maw_Mer_Iau_Gwe_Sad'.split('_'),weekdaysMin:'Su_Ll_Ma_Me_Ia_Gw_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Heddiw am] LT',nextDay:'[Yfory am] LT',nextWeek:'dddd [am] LT',lastDay:'[Ddoe am] LT',lastWeek:'dddd [diwethaf am] LT',sameElse:'L'},relativeTime:{future:'mewn %s',past:'%s yn \xF4l',s:'ychydig eiliadau',m:'munud',mm:'%d munud',h:'awr',hh:'%d awr',d:'diwrnod',dd:'%d diwrnod',M:'mis',MM:'%d mis',y:'blwyddyn',yy:'%d flynedd'},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(sl){var dl=sl,il='';return 20<dl?40===dl||50===dl||60===dl||80===dl||100===dl?il='fed':il='ain':0<dl&&(il=['','af','il','ydd','ydd','ed','ed','ed','fed','fed','fed','eg','fed','eg','eg','fed','eg','eg','fed','eg','fed'][dl]),sl+il},week:{dow:1,doy:4}}),A.defineLocale('da',{months:'januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december'.split('_'),monthsShort:'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),weekdays:'s\xF8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xF8rdag'.split('_'),weekdaysShort:'s\xF8n_man_tir_ons_tor_fre_l\xF8r'.split('_'),weekdaysMin:'s\xF8_ma_ti_on_to_fr_l\xF8'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY HH:mm',LLLL:'dddd [d.] D. MMMM YYYY [kl.] HH:mm'},calendar:{sameDay:'[i dag kl.] LT',nextDay:'[i morgen kl.] LT',nextWeek:'p\xE5 dddd [kl.] LT',lastDay:'[i g\xE5r kl.] LT',lastWeek:'[i] dddd[s kl.] LT',sameElse:'L'},relativeTime:{future:'om %s',past:'%s siden',s:'f\xE5 sekunder',m:'et minut',mm:'%d minutter',h:'en time',hh:'%d timer',d:'en dag',dd:'%d dage',M:'en m\xE5ned',MM:'%d m\xE5neder',y:'et \xE5r',yy:'%d \xE5r'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('de-at',{months:'J\xE4nner_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),monthsShort:'J\xE4n._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),monthsParseExact:!0,weekdays:'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),weekdaysShort:'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),weekdaysMin:'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY HH:mm',LLLL:'dddd, D. MMMM YYYY HH:mm'},calendar:{sameDay:'[heute um] LT [Uhr]',sameElse:'L',nextDay:'[morgen um] LT [Uhr]',nextWeek:'dddd [um] LT [Uhr]',lastDay:'[gestern um] LT [Uhr]',lastWeek:'[letzten] dddd [um] LT [Uhr]'},relativeTime:{future:'in %s',past:'vor %s',s:'ein paar Sekunden',m:ks,mm:'%d Minuten',h:ks,hh:'%d Stunden',d:ks,dd:ks,M:ks,MM:ks,y:ks,yy:ks},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('de-ch',{months:'Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),monthsShort:'Jan._Febr._M\xE4rz_April_Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.'.split('_'),monthsParseExact:!0,weekdays:'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),weekdaysShort:'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),weekdaysMin:'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY HH.mm',LLLL:'dddd, D. MMMM YYYY HH.mm'},calendar:{sameDay:'[heute um] LT [Uhr]',sameElse:'L',nextDay:'[morgen um] LT [Uhr]',nextWeek:'dddd [um] LT [Uhr]',lastDay:'[gestern um] LT [Uhr]',lastWeek:'[letzten] dddd [um] LT [Uhr]'},relativeTime:{future:'in %s',past:'vor %s',s:'ein paar Sekunden',m:Rs,mm:'%d Minuten',h:Rs,hh:'%d Stunden',d:Rs,dd:Rs,M:Rs,MM:Rs,y:Rs,yy:Rs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('de',{months:'Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),monthsShort:'Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),monthsParseExact:!0,weekdays:'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),weekdaysShort:'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),weekdaysMin:'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY HH:mm',LLLL:'dddd, D. MMMM YYYY HH:mm'},calendar:{sameDay:'[heute um] LT [Uhr]',sameElse:'L',nextDay:'[morgen um] LT [Uhr]',nextWeek:'dddd [um] LT [Uhr]',lastDay:'[gestern um] LT [Uhr]',lastWeek:'[letzten] dddd [um] LT [Uhr]'},relativeTime:{future:'in %s',past:'vor %s',s:'ein paar Sekunden',m:Is,mm:'%d Minuten',h:Is,hh:'%d Stunden',d:Is,dd:Is,M:Is,MM:Is,y:Is,yy:Is},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}});var Kr=['\u0796\u07AC\u0782\u07AA\u0787\u07A6\u0783\u07A9','\u078A\u07AC\u0784\u07B0\u0783\u07AA\u0787\u07A6\u0783\u07A9','\u0789\u07A7\u0783\u07A8\u0797\u07AA','\u0787\u07AD\u0795\u07B0\u0783\u07A9\u078D\u07AA','\u0789\u07AD','\u0796\u07AB\u0782\u07B0','\u0796\u07AA\u078D\u07A6\u0787\u07A8','\u0787\u07AF\u078E\u07A6\u0790\u07B0\u0793\u07AA','\u0790\u07AC\u0795\u07B0\u0793\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA','\u0787\u07AE\u0786\u07B0\u0793\u07AF\u0784\u07A6\u0783\u07AA','\u0782\u07AE\u0788\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA','\u0791\u07A8\u0790\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA'],Xr=['\u0787\u07A7\u078B\u07A8\u0787\u07B0\u078C\u07A6','\u0780\u07AF\u0789\u07A6','\u0787\u07A6\u0782\u07B0\u078E\u07A7\u0783\u07A6','\u0784\u07AA\u078B\u07A6','\u0784\u07AA\u0783\u07A7\u0790\u07B0\u078A\u07A6\u078C\u07A8','\u0780\u07AA\u0786\u07AA\u0783\u07AA','\u0780\u07AE\u0782\u07A8\u0780\u07A8\u0783\u07AA'];A.defineLocale('dv',{months:Kr,monthsShort:Kr,weekdays:Xr,weekdaysShort:Xr,weekdaysMin:'\u0787\u07A7\u078B\u07A8_\u0780\u07AF\u0789\u07A6_\u0787\u07A6\u0782\u07B0_\u0784\u07AA\u078B\u07A6_\u0784\u07AA\u0783\u07A7_\u0780\u07AA\u0786\u07AA_\u0780\u07AE\u0782\u07A8'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'D/M/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0789\u078A'===sl},meridiem:function(sl){return 12>sl?'\u0789\u0786':'\u0789\u078A'},calendar:{sameDay:'[\u0789\u07A8\u0787\u07A6\u078B\u07AA] LT',nextDay:'[\u0789\u07A7\u078B\u07A6\u0789\u07A7] LT',nextWeek:'dddd LT',lastDay:'[\u0787\u07A8\u0787\u07B0\u0794\u07AC] LT',lastWeek:'[\u078A\u07A7\u0787\u07A8\u078C\u07AA\u0788\u07A8] dddd LT',sameElse:'L'},relativeTime:{future:'\u078C\u07AC\u0783\u07AD\u078E\u07A6\u0787\u07A8 %s',past:'\u0786\u07AA\u0783\u07A8\u0782\u07B0 %s',s:'\u0790\u07A8\u0786\u07AA\u0782\u07B0\u078C\u07AA\u0786\u07AE\u0785\u07AC\u0787\u07B0',m:'\u0789\u07A8\u0782\u07A8\u0793\u07AC\u0787\u07B0',mm:'\u0789\u07A8\u0782\u07A8\u0793\u07AA %d',h:'\u078E\u07A6\u0791\u07A8\u0787\u07A8\u0783\u07AC\u0787\u07B0',hh:'\u078E\u07A6\u0791\u07A8\u0787\u07A8\u0783\u07AA %d',d:'\u078B\u07AA\u0788\u07A6\u0780\u07AC\u0787\u07B0',dd:'\u078B\u07AA\u0788\u07A6\u0790\u07B0 %d',M:'\u0789\u07A6\u0780\u07AC\u0787\u07B0',MM:'\u0789\u07A6\u0790\u07B0 %d',y:'\u0787\u07A6\u0780\u07A6\u0783\u07AC\u0787\u07B0',yy:'\u0787\u07A6\u0780\u07A6\u0783\u07AA %d'},preparse:function(sl){return sl.replace(//g,',')},postformat:function(sl){return sl.replace(/,/g,'\u060C')},week:{dow:7,doy:12}}),A.defineLocale('el',{monthsNominativeEl:'\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2_\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2_\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2_\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2_\u039C\u03AC\u03B9\u03BF\u03C2_\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2_\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2_\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2_\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2_\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2_\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2_\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2'.split('_'),monthsGenitiveEl:'\u0399\u03B1\u03BD\u03BF\u03C5\u03B1\u03C1\u03AF\u03BF\u03C5_\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03B1\u03C1\u03AF\u03BF\u03C5_\u039C\u03B1\u03C1\u03C4\u03AF\u03BF\u03C5_\u0391\u03C0\u03C1\u03B9\u03BB\u03AF\u03BF\u03C5_\u039C\u03B1\u0390\u03BF\u03C5_\u0399\u03BF\u03C5\u03BD\u03AF\u03BF\u03C5_\u0399\u03BF\u03C5\u03BB\u03AF\u03BF\u03C5_\u0391\u03C5\u03B3\u03BF\u03CD\u03C3\u03C4\u03BF\u03C5_\u03A3\u03B5\u03C0\u03C4\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5_\u039F\u03BA\u03C4\u03C9\u03B2\u03C1\u03AF\u03BF\u03C5_\u039D\u03BF\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5_\u0394\u03B5\u03BA\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5'.split('_'),months:function(sl,dl){return sl?/D/.test(dl.substring(0,dl.indexOf('MMMM')))?this._monthsGenitiveEl[sl.month()]:this._monthsNominativeEl[sl.month()]:this._monthsNominativeEl},monthsShort:'\u0399\u03B1\u03BD_\u03A6\u03B5\u03B2_\u039C\u03B1\u03C1_\u0391\u03C0\u03C1_\u039C\u03B1\u03CA_\u0399\u03BF\u03C5\u03BD_\u0399\u03BF\u03C5\u03BB_\u0391\u03C5\u03B3_\u03A3\u03B5\u03C0_\u039F\u03BA\u03C4_\u039D\u03BF\u03B5_\u0394\u03B5\u03BA'.split('_'),weekdays:'\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE_\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1_\u03A4\u03C1\u03AF\u03C4\u03B7_\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7_\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7_\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE_\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF'.split('_'),weekdaysShort:'\u039A\u03C5\u03C1_\u0394\u03B5\u03C5_\u03A4\u03C1\u03B9_\u03A4\u03B5\u03C4_\u03A0\u03B5\u03BC_\u03A0\u03B1\u03C1_\u03A3\u03B1\u03B2'.split('_'),weekdaysMin:'\u039A\u03C5_\u0394\u03B5_\u03A4\u03C1_\u03A4\u03B5_\u03A0\u03B5_\u03A0\u03B1_\u03A3\u03B1'.split('_'),meridiem:function(sl,dl,il){return 11<sl?il?'\u03BC\u03BC':'\u039C\u039C':il?'\u03C0\u03BC':'\u03A0\u039C'},isPM:function(sl){return'\u03BC'===(sl+'').toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY h:mm A',LLLL:'dddd, D MMMM YYYY h:mm A'},calendarEl:{sameDay:'[\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1 {}] LT',nextDay:'[\u0391\u03CD\u03C1\u03B9\u03BF {}] LT',nextWeek:'dddd [{}] LT',lastDay:'[\u03A7\u03B8\u03B5\u03C2 {}] LT',lastWeek:function(){switch(this.day()){case 6:return'[\u03C4\u03BF \u03C0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03BF] dddd [{}] LT';default:return'[\u03C4\u03B7\u03BD \u03C0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03B7] dddd [{}] LT';}},sameElse:'L'},calendar:function(sl,dl){var il=this._calendarEl[sl],rl=dl&&dl.hours();return me(il)&&(il=il.apply(dl)),il.replace('{}',1==rl%12?'\u03C3\u03C4\u03B7':'\u03C3\u03C4\u03B9\u03C2')},relativeTime:{future:'\u03C3\u03B5 %s',past:'%s \u03C0\u03C1\u03B9\u03BD',s:'\u03BB\u03AF\u03B3\u03B1 \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1',m:'\u03AD\u03BD\u03B1 \u03BB\u03B5\u03C0\u03C4\u03CC',mm:'%d \u03BB\u03B5\u03C0\u03C4\u03AC',h:'\u03BC\u03AF\u03B1 \u03CE\u03C1\u03B1',hh:'%d \u03CE\u03C1\u03B5\u03C2',d:'\u03BC\u03AF\u03B1 \u03BC\u03AD\u03C1\u03B1',dd:'%d \u03BC\u03AD\u03C1\u03B5\u03C2',M:'\u03AD\u03BD\u03B1\u03C2 \u03BC\u03AE\u03BD\u03B1\u03C2',MM:'%d \u03BC\u03AE\u03BD\u03B5\u03C2',y:'\u03AD\u03BD\u03B1\u03C2 \u03C7\u03C1\u03CC\u03BD\u03BF\u03C2',yy:'%d \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\u03B7',week:{dow:1,doy:4}}),A.defineLocale('en-au',{months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY h:mm A',LLLL:'dddd, D MMMM YYYY h:mm A'},calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('en-ca',{months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'YYYY-MM-DD',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'},calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il}}),A.defineLocale('en-gb',{months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('en-ie',{months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD-MM-YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('en-nz',{months:'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),weekdays:'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),weekdaysShort:'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),weekdaysMin:'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY h:mm A',LLLL:'dddd, D MMMM YYYY h:mm A'},calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('eo',{months:'januaro_februaro_marto_aprilo_majo_junio_julio_a\u016Dgusto_septembro_oktobro_novembro_decembro'.split('_'),monthsShort:'jan_feb_mar_apr_maj_jun_jul_a\u016Dg_sep_okt_nov_dec'.split('_'),weekdays:'diman\u0109o_lundo_mardo_merkredo_\u0135a\u016Ddo_vendredo_sabato'.split('_'),weekdaysShort:'dim_lun_mard_merk_\u0135a\u016D_ven_sab'.split('_'),weekdaysMin:'di_lu_ma_me_\u0135a_ve_sa'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY-MM-DD',LL:'D[-a de] MMMM, YYYY',LLL:'D[-a de] MMMM, YYYY HH:mm',LLLL:'dddd, [la] D[-a de] MMMM, YYYY HH:mm'},meridiemParse:/[ap]\.t\.m/i,isPM:function(sl){return'p'===sl.charAt(0).toLowerCase()},meridiem:function(sl,dl,il){return 11<sl?il?'p.t.m.':'P.T.M.':il?'a.t.m.':'A.T.M.'},calendar:{sameDay:'[Hodia\u016D je] LT',nextDay:'[Morga\u016D je] LT',nextWeek:'dddd [je] LT',lastDay:'[Hiera\u016D je] LT',lastWeek:'[pasinta] dddd [je] LT',sameElse:'L'},relativeTime:{future:'post %s',past:'anta\u016D %s',s:'sekundoj',m:'minuto',mm:'%d minutoj',h:'horo',hh:'%d horoj',d:'tago',dd:'%d tagoj',M:'monato',MM:'%d monatoj',y:'jaro',yy:'%d jaroj'},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:'%da',week:{dow:1,doy:7}});var Qr='ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),Zr='ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');A.defineLocale('es-do',{months:'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),monthsShort:function(sl,dl){return sl?/-MMM-/.test(dl)?Zr[sl.month()]:Qr[sl.month()]:Qr},monthsParseExact:!0,weekdays:'domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado'.split('_'),weekdaysShort:'dom._lun._mar._mi\xE9._jue._vie._s\xE1b.'.split('_'),weekdaysMin:'do_lu_ma_mi_ju_vi_s\xE1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D [de] MMMM [de] YYYY',LLL:'D [de] MMMM [de] YYYY h:mm A',LLLL:'dddd, D [de] MMMM [de] YYYY h:mm A'},calendar:{sameDay:function(){return'[hoy a la'+(1===this.hours()?'':'s')+'] LT'},nextDay:function(){return'[ma\xF1ana a la'+(1===this.hours()?'':'s')+'] LT'},nextWeek:function(){return'dddd [a la'+(1===this.hours()?'':'s')+'] LT'},lastDay:function(){return'[ayer a la'+(1===this.hours()?'':'s')+'] LT'},lastWeek:function(){return'[el] dddd [pasado a la'+(1===this.hours()?'':'s')+'] LT'},sameElse:'L'},relativeTime:{future:'en %s',past:'hace %s',s:'unos segundos',m:'un minuto',mm:'%d minutos',h:'una hora',hh:'%d horas',d:'un d\xEDa',dd:'%d d\xEDas',M:'un mes',MM:'%d meses',y:'un a\xF1o',yy:'%d a\xF1os'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA',week:{dow:1,doy:4}});var eo='ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),no='ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');A.defineLocale('es',{months:'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),monthsShort:function(sl,dl){return sl?/-MMM-/.test(dl)?no[sl.month()]:eo[sl.month()]:eo},monthsParseExact:!0,weekdays:'domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado'.split('_'),weekdaysShort:'dom._lun._mar._mi\xE9._jue._vie._s\xE1b.'.split('_'),weekdaysMin:'do_lu_ma_mi_ju_vi_s\xE1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD/MM/YYYY',LL:'D [de] MMMM [de] YYYY',LLL:'D [de] MMMM [de] YYYY H:mm',LLLL:'dddd, D [de] MMMM [de] YYYY H:mm'},calendar:{sameDay:function(){return'[hoy a la'+(1===this.hours()?'':'s')+'] LT'},nextDay:function(){return'[ma\xF1ana a la'+(1===this.hours()?'':'s')+'] LT'},nextWeek:function(){return'dddd [a la'+(1===this.hours()?'':'s')+'] LT'},lastDay:function(){return'[ayer a la'+(1===this.hours()?'':'s')+'] LT'},lastWeek:function(){return'[el] dddd [pasado a la'+(1===this.hours()?'':'s')+'] LT'},sameElse:'L'},relativeTime:{future:'en %s',past:'hace %s',s:'unos segundos',m:'un minuto',mm:'%d minutos',h:'una hora',hh:'%d horas',d:'un d\xEDa',dd:'%d d\xEDas',M:'un mes',MM:'%d meses',y:'un a\xF1o',yy:'%d a\xF1os'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA',week:{dow:1,doy:4}}),A.defineLocale('et',{months:'jaanuar_veebruar_m\xE4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember'.split('_'),monthsShort:'jaan_veebr_m\xE4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets'.split('_'),weekdays:'p\xFChap\xE4ev_esmasp\xE4ev_teisip\xE4ev_kolmap\xE4ev_neljap\xE4ev_reede_laup\xE4ev'.split('_'),weekdaysShort:'P_E_T_K_N_R_L'.split('_'),weekdaysMin:'P_E_T_K_N_R_L'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[T\xE4na,] LT',nextDay:'[Homme,] LT',nextWeek:'[J\xE4rgmine] dddd LT',lastDay:'[Eile,] LT',lastWeek:'[Eelmine] dddd LT',sameElse:'L'},relativeTime:{future:'%s p\xE4rast',past:'%s tagasi',s:As,m:As,mm:As,h:As,hh:As,d:As,dd:'%d p\xE4eva',M:As,MM:As,y:As,yy:As},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('eu',{months:'urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua'.split('_'),monthsShort:'urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.'.split('_'),monthsParseExact:!0,weekdays:'igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata'.split('_'),weekdaysShort:'ig._al._ar._az._og._ol._lr.'.split('_'),weekdaysMin:'ig_al_ar_az_og_ol_lr'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY-MM-DD',LL:'YYYY[ko] MMMM[ren] D[a]',LLL:'YYYY[ko] MMMM[ren] D[a] HH:mm',LLLL:'dddd, YYYY[ko] MMMM[ren] D[a] HH:mm',l:'YYYY-M-D',ll:'YYYY[ko] MMM D[a]',lll:'YYYY[ko] MMM D[a] HH:mm',llll:'ddd, YYYY[ko] MMM D[a] HH:mm'},calendar:{sameDay:'[gaur] LT[etan]',nextDay:'[bihar] LT[etan]',nextWeek:'dddd LT[etan]',lastDay:'[atzo] LT[etan]',lastWeek:'[aurreko] dddd LT[etan]',sameElse:'L'},relativeTime:{future:'%s barru',past:'duela %s',s:'segundo batzuk',m:'minutu bat',mm:'%d minutu',h:'ordu bat',hh:'%d ordu',d:'egun bat',dd:'%d egun',M:'hilabete bat',MM:'%d hilabete',y:'urte bat',yy:'%d urte'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}});var ao={0:'\u06F0',1:'\u06F1',2:'\u06F2',3:'\u06F3',4:'\u06F4',5:'\u06F5',6:'\u06F6',7:'\u06F7',8:'\u06F8',9:'\u06F9'},so={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('fa',{months:'\u0698\u0627\u0646\u0648\u06CC\u0647_\u0641\u0648\u0631\u06CC\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06CC\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06CC\u0647_\u0627\u0648\u062A_\u0633\u067E\u062A\u0627\u0645\u0628\u0631_\u0627\u06A9\u062A\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062F\u0633\u0627\u0645\u0628\u0631'.split('_'),monthsShort:'\u0698\u0627\u0646\u0648\u06CC\u0647_\u0641\u0648\u0631\u06CC\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06CC\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06CC\u0647_\u0627\u0648\u062A_\u0633\u067E\u062A\u0627\u0645\u0628\u0631_\u0627\u06A9\u062A\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062F\u0633\u0627\u0645\u0628\u0631'.split('_'),weekdays:'\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647_\u062F\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200C\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647_\u062C\u0645\u0639\u0647_\u0634\u0646\u0628\u0647'.split('_'),weekdaysShort:'\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647_\u062F\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200C\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647_\u062C\u0645\u0639\u0647_\u0634\u0646\u0628\u0647'.split('_'),weekdaysMin:'\u06CC_\u062F_\u0633_\u0686_\u067E_\u062C_\u0634'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},meridiemParse:/  |  /,isPM:function(sl){return /  /.test(sl)},meridiem:function(sl){return 12>sl?'\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631':'\u0628\u0639\u062F \u0627\u0632 \u0638\u0647\u0631'},calendar:{sameDay:'[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT',nextDay:'[\u0641\u0631\u062F\u0627 \u0633\u0627\u0639\u062A] LT',nextWeek:'dddd [\u0633\u0627\u0639\u062A] LT',lastDay:'[\u062F\u06CC\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT',lastWeek:'dddd [\u067E\u06CC\u0634] [\u0633\u0627\u0639\u062A] LT',sameElse:'L'},relativeTime:{future:'\u062F\u0631 %s',past:'%s \u067E\u06CC\u0634',s:'\u0686\u0646\u062F \u062B\u0627\u0646\u06CC\u0647',m:'\u06CC\u06A9 \u062F\u0642\u06CC\u0642\u0647',mm:'%d \u062F\u0642\u06CC\u0642\u0647',h:'\u06CC\u06A9 \u0633\u0627\u0639\u062A',hh:'%d \u0633\u0627\u0639\u062A',d:'\u06CC\u06A9 \u0631\u0648\u0632',dd:'%d \u0631\u0648\u0632',M:'\u06CC\u06A9 \u0645\u0627\u0647',MM:'%d \u0645\u0627\u0647',y:'\u06CC\u06A9 \u0633\u0627\u0644',yy:'%d \u0633\u0627\u0644'},preparse:function(sl){return sl.replace(/[-]/g,function(dl){return so[dl]}).replace(//g,',')},postformat:function(sl){return sl.replace(/\d/g,function(dl){return ao[dl]}).replace(/,/g,'\u060C')},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\u0645',week:{dow:6,doy:12}});var io='nolla yksi kaksi kolme nelj\xE4 viisi kuusi seitsem\xE4n kahdeksan yhdeks\xE4n'.split(' '),ro=['nolla','yhden','kahden','kolmen','nelj\xE4n','viiden','kuuden',io[7],io[8],io[9]];A.defineLocale('fi',{months:'tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xE4kuu_hein\xE4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu'.split('_'),monthsShort:'tammi_helmi_maalis_huhti_touko_kes\xE4_hein\xE4_elo_syys_loka_marras_joulu'.split('_'),weekdays:'sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai'.split('_'),weekdaysShort:'su_ma_ti_ke_to_pe_la'.split('_'),weekdaysMin:'su_ma_ti_ke_to_pe_la'.split('_'),longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD.MM.YYYY',LL:'Do MMMM[ta] YYYY',LLL:'Do MMMM[ta] YYYY, [klo] HH.mm',LLLL:'dddd, Do MMMM[ta] YYYY, [klo] HH.mm',l:'D.M.YYYY',ll:'Do MMM YYYY',lll:'Do MMM YYYY, [klo] HH.mm',llll:'ddd, Do MMM YYYY, [klo] HH.mm'},calendar:{sameDay:'[t\xE4n\xE4\xE4n] [klo] LT',nextDay:'[huomenna] [klo] LT',nextWeek:'dddd [klo] LT',lastDay:'[eilen] [klo] LT',lastWeek:'[viime] dddd[na] [klo] LT',sameElse:'L'},relativeTime:{future:'%s p\xE4\xE4st\xE4',past:'%s sitten',s:xs,m:xs,mm:xs,h:xs,hh:xs,d:xs,dd:xs,M:xs,MM:xs,y:xs,yy:xs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('fo',{months:'januar_februar_mars_apr\xEDl_mai_juni_juli_august_september_oktober_november_desember'.split('_'),monthsShort:'jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_'),weekdays:'sunnudagur_m\xE1nadagur_t\xFDsdagur_mikudagur_h\xF3sdagur_fr\xEDggjadagur_leygardagur'.split('_'),weekdaysShort:'sun_m\xE1n_t\xFDs_mik_h\xF3s_fr\xED_ley'.split('_'),weekdaysMin:'su_m\xE1_t\xFD_mi_h\xF3_fr_le'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D. MMMM, YYYY HH:mm'},calendar:{sameDay:'[\xCD dag kl.] LT',nextDay:'[\xCD morgin kl.] LT',nextWeek:'dddd [kl.] LT',lastDay:'[\xCD gj\xE1r kl.] LT',lastWeek:'[s\xED\xF0stu] dddd [kl] LT',sameElse:'L'},relativeTime:{future:'um %s',past:'%s s\xED\xF0ani',s:'f\xE1 sekund',m:'ein minutt',mm:'%d minuttir',h:'ein t\xEDmi',hh:'%d t\xEDmar',d:'ein dagur',dd:'%d dagar',M:'ein m\xE1na\xF0i',MM:'%d m\xE1na\xF0ir',y:'eitt \xE1r',yy:'%d \xE1r'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('fr-ca',{months:'janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre'.split('_'),monthsShort:'janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.'.split('_'),monthsParseExact:!0,weekdays:'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),weekdaysShort:'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),weekdaysMin:'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY-MM-DD',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[Aujourd\u2019hui \xE0] LT',nextDay:'[Demain \xE0] LT',nextWeek:'dddd [\xE0] LT',lastDay:'[Hier \xE0] LT',lastWeek:'dddd [dernier \xE0] LT',sameElse:'L'},relativeTime:{future:'dans %s',past:'il y a %s',s:'quelques secondes',m:'une minute',mm:'%d minutes',h:'une heure',hh:'%d heures',d:'un jour',dd:'%d jours',M:'un mois',MM:'%d mois',y:'un an',yy:'%d ans'},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(sl,dl){switch(dl){default:case'M':case'Q':case'D':case'DDD':case'd':return sl+(1===sl?'er':'e');case'w':case'W':return sl+(1===sl?'re':'e');}}}),A.defineLocale('fr-ch',{months:'janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre'.split('_'),monthsShort:'janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.'.split('_'),monthsParseExact:!0,weekdays:'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),weekdaysShort:'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),weekdaysMin:'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[Aujourd\u2019hui \xE0] LT',nextDay:'[Demain \xE0] LT',nextWeek:'dddd [\xE0] LT',lastDay:'[Hier \xE0] LT',lastWeek:'dddd [dernier \xE0] LT',sameElse:'L'},relativeTime:{future:'dans %s',past:'il y a %s',s:'quelques secondes',m:'une minute',mm:'%d minutes',h:'une heure',hh:'%d heures',d:'un jour',dd:'%d jours',M:'un mois',MM:'%d mois',y:'un an',yy:'%d ans'},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(sl,dl){switch(dl){default:case'M':case'Q':case'D':case'DDD':case'd':return sl+(1===sl?'er':'e');case'w':case'W':return sl+(1===sl?'re':'e');}},week:{dow:1,doy:4}}),A.defineLocale('fr',{months:'janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre'.split('_'),monthsShort:'janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.'.split('_'),monthsParseExact:!0,weekdays:'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),weekdaysShort:'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),weekdaysMin:'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[Aujourd\u2019hui \xE0] LT',nextDay:'[Demain \xE0] LT',nextWeek:'dddd [\xE0] LT',lastDay:'[Hier \xE0] LT',lastWeek:'dddd [dernier \xE0] LT',sameElse:'L'},relativeTime:{future:'dans %s',past:'il y a %s',s:'quelques secondes',m:'une minute',mm:'%d minutes',h:'une heure',hh:'%d heures',d:'un jour',dd:'%d jours',M:'un mois',MM:'%d mois',y:'un an',yy:'%d ans'},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(sl,dl){switch(dl){case'D':return sl+(1===sl?'er':'');default:case'M':case'Q':case'DDD':case'd':return sl+(1===sl?'er':'e');case'w':case'W':return sl+(1===sl?'re':'e');}},week:{dow:1,doy:4}});var oo='jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.'.split('_'),uo='jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_');A.defineLocale('fy',{months:'jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber'.split('_'),monthsShort:function(sl,dl){return sl?/-MMM-/.test(dl)?uo[sl.month()]:oo[sl.month()]:oo},monthsParseExact:!0,weekdays:'snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon'.split('_'),weekdaysShort:'si._mo._ti._wo._to._fr._so.'.split('_'),weekdaysMin:'Si_Mo_Ti_Wo_To_Fr_So'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD-MM-YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[hjoed om] LT',nextDay:'[moarn om] LT',nextWeek:'dddd [om] LT',lastDay:'[juster om] LT',lastWeek:'[\xF4fr\xFBne] dddd [om] LT',sameElse:'L'},relativeTime:{future:'oer %s',past:'%s lyn',s:'in pear sekonden',m:'ien min\xFAt',mm:'%d minuten',h:'ien oere',hh:'%d oeren',d:'ien dei',dd:'%d dagen',M:'ien moanne',MM:'%d moannen',y:'ien jier',yy:'%d jierren'},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(sl){return sl+(1===sl||8===sl||20<=sl?'ste':'de')},week:{dow:1,doy:4}});A.defineLocale('gd',{months:['Am Faoilleach','An Gearran','Am M\xE0rt','An Giblean','An C\xE8itean','An t-\xD2gmhios','An t-Iuchar','An L\xF9nastal','An t-Sultain','An D\xE0mhair','An t-Samhain','An D\xF9bhlachd'],monthsShort:['Faoi','Gear','M\xE0rt','Gibl','C\xE8it','\xD2gmh','Iuch','L\xF9n','Sult','D\xE0mh','Samh','D\xF9bh'],monthsParseExact:!0,weekdays:['Did\xF2mhnaich','Diluain','Dim\xE0irt','Diciadain','Diardaoin','Dihaoine','Disathairne'],weekdaysShort:['Did','Dil','Dim','Dic','Dia','Dih','Dis'],weekdaysMin:['D\xF2','Lu','M\xE0','Ci','Ar','Ha','Sa'],longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[An-diugh aig] LT',nextDay:'[A-m\xE0ireach aig] LT',nextWeek:'dddd [aig] LT',lastDay:'[An-d\xE8 aig] LT',lastWeek:'dddd [seo chaidh] [aig] LT',sameElse:'L'},relativeTime:{future:'ann an %s',past:'bho chionn %s',s:'beagan diogan',m:'mionaid',mm:'%d mionaidean',h:'uair',hh:'%d uairean',d:'latha',dd:'%d latha',M:'m\xECos',MM:'%d m\xECosan',y:'bliadhna',yy:'%d bliadhna'},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(sl){var dl=1===sl?'d':2==sl%10?'na':'mh';return sl+dl},week:{dow:1,doy:4}}),A.defineLocale('gl',{months:'xaneiro_febreiro_marzo_abril_maio_xu\xF1o_xullo_agosto_setembro_outubro_novembro_decembro'.split('_'),monthsShort:'xan._feb._mar._abr._mai._xu\xF1._xul._ago._set._out._nov._dec.'.split('_'),monthsParseExact:!0,weekdays:'domingo_luns_martes_m\xE9rcores_xoves_venres_s\xE1bado'.split('_'),weekdaysShort:'dom._lun._mar._m\xE9r._xov._ven._s\xE1b.'.split('_'),weekdaysMin:'do_lu_ma_m\xE9_xo_ve_s\xE1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD/MM/YYYY',LL:'D [de] MMMM [de] YYYY',LLL:'D [de] MMMM [de] YYYY H:mm',LLLL:'dddd, D [de] MMMM [de] YYYY H:mm'},calendar:{sameDay:function(){return'[hoxe '+(1===this.hours()?'\xE1':'\xE1s')+'] LT'},nextDay:function(){return'[ma\xF1\xE1 '+(1===this.hours()?'\xE1':'\xE1s')+'] LT'},nextWeek:function(){return'dddd ['+(1===this.hours()?'a':'\xE1s')+'] LT'},lastDay:function(){return'[onte '+(1===this.hours()?'a':'\xE1')+'] LT'},lastWeek:function(){return'[o] dddd [pasado '+(1===this.hours()?'a':'\xE1s')+'] LT'},sameElse:'L'},relativeTime:{future:function(sl){return 0===sl.indexOf('un')?'n'+sl:'en '+sl},past:'hai %s',s:'uns segundos',m:'un minuto',mm:'%d minutos',h:'unha hora',hh:'%d horas',d:'un d\xEDa',dd:'%d d\xEDas',M:'un mes',MM:'%d meses',y:'un ano',yy:'%d anos'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA',week:{dow:1,doy:4}}),A.defineLocale('gom-latn',{months:'Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr'.split('_'),monthsShort:'Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.'.split('_'),monthsParseExact:!0,weekdays:'Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son\'var'.split('_'),weekdaysShort:'Ait._Som._Mon._Bud._Bre._Suk._Son.'.split('_'),weekdaysMin:'Ai_Sm_Mo_Bu_Br_Su_Sn'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'A h:mm [vazta]',LTS:'A h:mm:ss [vazta]',L:'DD-MM-YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY A h:mm [vazta]',LLLL:'dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]',llll:'ddd, D MMM YYYY, A h:mm [vazta]'},calendar:{sameDay:'[Aiz] LT',nextDay:'[Faleam] LT',nextWeek:'[Ieta to] dddd[,] LT',lastDay:'[Kal] LT',lastWeek:'[Fatlo] dddd[,] LT',sameElse:'L'},relativeTime:{future:'%s',past:'%s adim',s:Ps,m:Ps,mm:Ps,h:Ps,hh:Ps,d:Ps,dd:Ps,M:Ps,MM:Ps,y:Ps,yy:Ps},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(sl,dl){switch(dl){case'D':return sl+'er';default:case'M':case'Q':case'DDD':case'd':case'w':case'W':return sl;}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'rati'===dl)?4>sl?sl:sl+12:'sokalli'===dl?sl:'donparam'===dl?12<sl?sl:sl+12:'sanje'===dl?sl+12:void 0},meridiem:function(sl){return 4>sl?'rati':12>sl?'sokalli':16>sl?'donparam':20>sl?'sanje':'rati'}}),A.defineLocale('he',{months:'\u05D9\u05E0\u05D5\u05D0\u05E8_\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8_\u05DE\u05E8\u05E5_\u05D0\u05E4\u05E8\u05D9\u05DC_\u05DE\u05D0\u05D9_\u05D9\u05D5\u05E0\u05D9_\u05D9\u05D5\u05DC\u05D9_\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8_\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8_\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8_\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8_\u05D3\u05E6\u05DE\u05D1\u05E8'.split('_'),monthsShort:'\u05D9\u05E0\u05D5\u05F3_\u05E4\u05D1\u05E8\u05F3_\u05DE\u05E8\u05E5_\u05D0\u05E4\u05E8\u05F3_\u05DE\u05D0\u05D9_\u05D9\u05D5\u05E0\u05D9_\u05D9\u05D5\u05DC\u05D9_\u05D0\u05D5\u05D2\u05F3_\u05E1\u05E4\u05D8\u05F3_\u05D0\u05D5\u05E7\u05F3_\u05E0\u05D5\u05D1\u05F3_\u05D3\u05E6\u05DE\u05F3'.split('_'),weekdays:'\u05E8\u05D0\u05E9\u05D5\u05DF_\u05E9\u05E0\u05D9_\u05E9\u05DC\u05D9\u05E9\u05D9_\u05E8\u05D1\u05D9\u05E2\u05D9_\u05D7\u05DE\u05D9\u05E9\u05D9_\u05E9\u05D9\u05E9\u05D9_\u05E9\u05D1\u05EA'.split('_'),weekdaysShort:'\u05D0\u05F3_\u05D1\u05F3_\u05D2\u05F3_\u05D3\u05F3_\u05D4\u05F3_\u05D5\u05F3_\u05E9\u05F3'.split('_'),weekdaysMin:'\u05D0_\u05D1_\u05D2_\u05D3_\u05D4_\u05D5_\u05E9'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D [\u05D1]MMMM YYYY',LLL:'D [\u05D1]MMMM YYYY HH:mm',LLLL:'dddd, D [\u05D1]MMMM YYYY HH:mm',l:'D/M/YYYY',ll:'D MMM YYYY',lll:'D MMM YYYY HH:mm',llll:'ddd, D MMM YYYY HH:mm'},calendar:{sameDay:'[\u05D4\u05D9\u05D5\u05DD \u05D1\u05BE]LT',nextDay:'[\u05DE\u05D7\u05E8 \u05D1\u05BE]LT',nextWeek:'dddd [\u05D1\u05E9\u05E2\u05D4] LT',lastDay:'[\u05D0\u05EA\u05DE\u05D5\u05DC \u05D1\u05BE]LT',lastWeek:'[\u05D1\u05D9\u05D5\u05DD] dddd [\u05D4\u05D0\u05D7\u05E8\u05D5\u05DF \u05D1\u05E9\u05E2\u05D4] LT',sameElse:'L'},relativeTime:{future:'\u05D1\u05E2\u05D5\u05D3 %s',past:'\u05DC\u05E4\u05E0\u05D9 %s',s:'\u05DE\u05E1\u05E4\u05E8 \u05E9\u05E0\u05D9\u05D5\u05EA',m:'\u05D3\u05E7\u05D4',mm:'%d \u05D3\u05E7\u05D5\u05EA',h:'\u05E9\u05E2\u05D4',hh:function(sl){return 2===sl?'\u05E9\u05E2\u05EA\u05D9\u05D9\u05DD':sl+' \u05E9\u05E2\u05D5\u05EA'},d:'\u05D9\u05D5\u05DD',dd:function(sl){return 2===sl?'\u05D9\u05D5\u05DE\u05D9\u05D9\u05DD':sl+' \u05D9\u05DE\u05D9\u05DD'},M:'\u05D7\u05D5\u05D3\u05E9',MM:function(sl){return 2===sl?'\u05D7\u05D5\u05D3\u05E9\u05D9\u05D9\u05DD':sl+' \u05D7\u05D5\u05D3\u05E9\u05D9\u05DD'},y:'\u05E9\u05E0\u05D4',yy:function(sl){return 2===sl?'\u05E9\u05E0\u05EA\u05D9\u05D9\u05DD':0==sl%10&&10!==sl?sl+' \u05E9\u05E0\u05D4':sl+' \u05E9\u05E0\u05D9\u05DD'}},meridiemParse:/"|"| | | ||/i,isPM:function(sl){return /^("| |)$/.test(sl)},meridiem:function(sl,dl,il){return 5>sl?'\u05DC\u05E4\u05E0\u05D5\u05EA \u05D1\u05D5\u05E7\u05E8':10>sl?'\u05D1\u05D1\u05D5\u05E7\u05E8':12>sl?il?'\u05DC\u05E4\u05E0\u05D4"\u05E6':'\u05DC\u05E4\u05E0\u05D9 \u05D4\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD':18>sl?il?'\u05D0\u05D7\u05D4"\u05E6':'\u05D0\u05D7\u05E8\u05D9 \u05D4\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD':'\u05D1\u05E2\u05E8\u05D1'}});var ho={0:'\u0966',1:'\u0967',2:'\u0968',3:'\u0969',4:'\u096A',5:'\u096B',6:'\u096C',7:'\u096D',8:'\u096E',9:'\u096F'},fo={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('hi',{months:'\u091C\u0928\u0935\u0930\u0940_\u092B\u093C\u0930\u0935\u0930\u0940_\u092E\u093E\u0930\u094D\u091A_\u0905\u092A\u094D\u0930\u0948\u0932_\u092E\u0908_\u091C\u0942\u0928_\u091C\u0941\u0932\u093E\u0908_\u0905\u0917\u0938\u094D\u0924_\u0938\u093F\u0924\u092E\u094D\u092C\u0930_\u0905\u0915\u094D\u091F\u0942\u092C\u0930_\u0928\u0935\u092E\u094D\u092C\u0930_\u0926\u093F\u0938\u092E\u094D\u092C\u0930'.split('_'),monthsShort:'\u091C\u0928._\u092B\u093C\u0930._\u092E\u093E\u0930\u094D\u091A_\u0905\u092A\u094D\u0930\u0948._\u092E\u0908_\u091C\u0942\u0928_\u091C\u0941\u0932._\u0905\u0917._\u0938\u093F\u0924._\u0905\u0915\u094D\u091F\u0942._\u0928\u0935._\u0926\u093F\u0938.'.split('_'),monthsParseExact:!0,weekdays:'\u0930\u0935\u093F\u0935\u093E\u0930_\u0938\u094B\u092E\u0935\u093E\u0930_\u092E\u0902\u0917\u0932\u0935\u093E\u0930_\u092C\u0941\u0927\u0935\u093E\u0930_\u0917\u0941\u0930\u0942\u0935\u093E\u0930_\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930_\u0936\u0928\u093F\u0935\u093E\u0930'.split('_'),weekdaysShort:'\u0930\u0935\u093F_\u0938\u094B\u092E_\u092E\u0902\u0917\u0932_\u092C\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094D\u0930_\u0936\u0928\u093F'.split('_'),weekdaysMin:'\u0930_\u0938\u094B_\u092E\u0902_\u092C\u0941_\u0917\u0941_\u0936\u0941_\u0936'.split('_'),longDateFormat:{LT:'A h:mm \u092C\u091C\u0947',LTS:'A h:mm:ss \u092C\u091C\u0947',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm \u092C\u091C\u0947',LLLL:'dddd, D MMMM YYYY, A h:mm \u092C\u091C\u0947'},calendar:{sameDay:'[\u0906\u091C] LT',nextDay:'[\u0915\u0932] LT',nextWeek:'dddd, LT',lastDay:'[\u0915\u0932] LT',lastWeek:'[\u092A\u093F\u091B\u0932\u0947] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u092E\u0947\u0902',past:'%s \u092A\u0939\u0932\u0947',s:'\u0915\u0941\u091B \u0939\u0940 \u0915\u094D\u0937\u0923',m:'\u090F\u0915 \u092E\u093F\u0928\u091F',mm:'%d \u092E\u093F\u0928\u091F',h:'\u090F\u0915 \u0918\u0902\u091F\u093E',hh:'%d \u0918\u0902\u091F\u0947',d:'\u090F\u0915 \u0926\u093F\u0928',dd:'%d \u0926\u093F\u0928',M:'\u090F\u0915 \u092E\u0939\u0940\u0928\u0947',MM:'%d \u092E\u0939\u0940\u0928\u0947',y:'\u090F\u0915 \u0935\u0930\u094D\u0937',yy:'%d \u0935\u0930\u094D\u0937'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return fo[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return ho[dl]})},meridiemParse:/|||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u0930\u093E\u0924'===dl)?4>sl?sl:sl+12:'\u0938\u0941\u092C\u0939'===dl?sl:'\u0926\u094B\u092A\u0939\u0930'===dl?10<=sl?sl:sl+12:'\u0936\u093E\u092E'===dl?sl+12:void 0},meridiem:function(sl){return 4>sl?'\u0930\u093E\u0924':10>sl?'\u0938\u0941\u092C\u0939':17>sl?'\u0926\u094B\u092A\u0939\u0930':20>sl?'\u0936\u093E\u092E':'\u0930\u093E\u0924'},week:{dow:0,doy:6}}),A.defineLocale('hr',{months:{format:'sije\u010Dnja_velja\u010De_o\u017Eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca'.split('_'),standalone:'sije\u010Danj_velja\u010Da_o\u017Eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac'.split('_')},monthsShort:'sij._velj._o\u017Eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.'.split('_'),monthsParseExact:!0,weekdays:'nedjelja_ponedjeljak_utorak_srijeda_\u010Detvrtak_petak_subota'.split('_'),weekdaysShort:'ned._pon._uto._sri._\u010Det._pet._sub.'.split('_'),weekdaysMin:'ne_po_ut_sr_\u010De_pe_su'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[danas u] LT',nextDay:'[sutra u] LT',nextWeek:function(){switch(this.day()){case 0:return'[u] [nedjelju] [u] LT';case 3:return'[u] [srijedu] [u] LT';case 6:return'[u] [subotu] [u] LT';case 1:case 2:case 4:case 5:return'[u] dddd [u] LT';}},lastDay:'[ju\u010Der u] LT',lastWeek:function(){switch(this.day()){case 0:case 3:return'[pro\u0161lu] dddd [u] LT';case 6:return'[pro\u0161le] [subote] [u] LT';case 1:case 2:case 4:case 5:return'[pro\u0161li] dddd [u] LT';}},sameElse:'L'},relativeTime:{future:'za %s',past:'prije %s',s:'par sekundi',m:Ns,mm:Ns,h:Ns,hh:Ns,d:'dan',dd:Ns,M:'mjesec',MM:Ns,y:'godinu',yy:Ns},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}});var yo='vas\xE1rnap h\xE9tf\u0151n kedden szerd\xE1n cs\xFCt\xF6rt\xF6k\xF6n p\xE9nteken szombaton'.split(' ');A.defineLocale('hu',{months:'janu\xE1r_febru\xE1r_m\xE1rcius_\xE1prilis_m\xE1jus_j\xFAnius_j\xFAlius_augusztus_szeptember_okt\xF3ber_november_december'.split('_'),monthsShort:'jan_feb_m\xE1rc_\xE1pr_m\xE1j_j\xFAn_j\xFAl_aug_szept_okt_nov_dec'.split('_'),weekdays:'vas\xE1rnap_h\xE9tf\u0151_kedd_szerda_cs\xFCt\xF6rt\xF6k_p\xE9ntek_szombat'.split('_'),weekdaysShort:'vas_h\xE9t_kedd_sze_cs\xFCt_p\xE9n_szo'.split('_'),weekdaysMin:'v_h_k_sze_cs_p_szo'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'YYYY.MM.DD.',LL:'YYYY. MMMM D.',LLL:'YYYY. MMMM D. H:mm',LLLL:'YYYY. MMMM D., dddd H:mm'},meridiemParse:/de|du/i,isPM:function(sl){return'u'===sl.charAt(1).toLowerCase()},meridiem:function(sl,dl,il){return 12>sl?!0===il?'de':'DE':!0===il?'du':'DU'},calendar:{sameDay:'[ma] LT[-kor]',nextDay:'[holnap] LT[-kor]',nextWeek:function(){return js.call(this,!0)},lastDay:'[tegnap] LT[-kor]',lastWeek:function(){return js.call(this,!1)},sameElse:'L'},relativeTime:{future:'%s m\xFAlva',past:'%s',s:Hs,m:Hs,mm:Hs,h:Hs,hh:Hs,d:Hs,dd:Hs,M:Hs,MM:Hs,y:Hs,yy:Hs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('hy-am',{months:{format:'\u0570\u0578\u0582\u0576\u057E\u0561\u0580\u056B_\u0583\u0565\u057F\u0580\u057E\u0561\u0580\u056B_\u0574\u0561\u0580\u057F\u056B_\u0561\u057A\u0580\u056B\u056C\u056B_\u0574\u0561\u0575\u056B\u057D\u056B_\u0570\u0578\u0582\u0576\u056B\u057D\u056B_\u0570\u0578\u0582\u056C\u056B\u057D\u056B_\u0585\u0563\u0578\u057D\u057F\u0578\u057D\u056B_\u057D\u0565\u057A\u057F\u0565\u0574\u0562\u0565\u0580\u056B_\u0570\u0578\u056F\u057F\u0565\u0574\u0562\u0565\u0580\u056B_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056B_\u0564\u0565\u056F\u057F\u0565\u0574\u0562\u0565\u0580\u056B'.split('_'),standalone:'\u0570\u0578\u0582\u0576\u057E\u0561\u0580_\u0583\u0565\u057F\u0580\u057E\u0561\u0580_\u0574\u0561\u0580\u057F_\u0561\u057A\u0580\u056B\u056C_\u0574\u0561\u0575\u056B\u057D_\u0570\u0578\u0582\u0576\u056B\u057D_\u0570\u0578\u0582\u056C\u056B\u057D_\u0585\u0563\u0578\u057D\u057F\u0578\u057D_\u057D\u0565\u057A\u057F\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056F\u057F\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056F\u057F\u0565\u0574\u0562\u0565\u0580'.split('_')},monthsShort:'\u0570\u0576\u057E_\u0583\u057F\u0580_\u0574\u0580\u057F_\u0561\u057A\u0580_\u0574\u0575\u057D_\u0570\u0576\u057D_\u0570\u056C\u057D_\u0585\u0563\u057D_\u057D\u057A\u057F_\u0570\u056F\u057F_\u0576\u0574\u0562_\u0564\u056F\u057F'.split('_'),weekdays:'\u056F\u056B\u0580\u0561\u056F\u056B_\u0565\u0580\u056F\u0578\u0582\u0577\u0561\u0562\u0569\u056B_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056B_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056B_\u0570\u056B\u0576\u0563\u0577\u0561\u0562\u0569\u056B_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569'.split('_'),weekdaysShort:'\u056F\u0580\u056F_\u0565\u0580\u056F_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569'.split('_'),weekdaysMin:'\u056F\u0580\u056F_\u0565\u0580\u056F_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY \u0569.',LLL:'D MMMM YYYY \u0569., HH:mm',LLLL:'dddd, D MMMM YYYY \u0569., HH:mm'},calendar:{sameDay:'[\u0561\u0575\u057D\u0585\u0580] LT',nextDay:'[\u057E\u0561\u0572\u0568] LT',lastDay:'[\u0565\u0580\u0565\u056F] LT',nextWeek:function(){return'dddd [\u0585\u0580\u0568 \u056A\u0561\u0574\u0568] LT'},lastWeek:function(){return'[\u0561\u0576\u0581\u0561\u056E] dddd [\u0585\u0580\u0568 \u056A\u0561\u0574\u0568] LT'},sameElse:'L'},relativeTime:{future:'%s \u0570\u0565\u057F\u0578',past:'%s \u0561\u057C\u0561\u057B',s:'\u0574\u056B \u0584\u0561\u0576\u056B \u057E\u0561\u0575\u0580\u056F\u0575\u0561\u0576',m:'\u0580\u0578\u057A\u0565',mm:'%d \u0580\u0578\u057A\u0565',h:'\u056A\u0561\u0574',hh:'%d \u056A\u0561\u0574',d:'\u0585\u0580',dd:'%d \u0585\u0580',M:'\u0561\u0574\u056B\u057D',MM:'%d \u0561\u0574\u056B\u057D',y:'\u057F\u0561\u0580\u056B',yy:'%d \u057F\u0561\u0580\u056B'},meridiemParse:/|||/,isPM:function(sl){return /^(|)$/.test(sl)},meridiem:function(sl){return 4>sl?'\u0563\u056B\u0577\u0565\u0580\u057E\u0561':12>sl?'\u0561\u057C\u0561\u057E\u0578\u057F\u057E\u0561':17>sl?'\u0581\u0565\u0580\u0565\u056F\u057E\u0561':'\u0565\u0580\u0565\u056F\u0578\u0575\u0561\u0576'},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(sl,dl){return'DDD'===dl||'w'===dl||'W'===dl||'DDDo'===dl?1===sl?sl+'-\u056B\u0576':sl+'-\u0580\u0564':sl},week:{dow:1,doy:7}}),A.defineLocale('id',{months:'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des'.split('_'),weekdays:'Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu'.split('_'),weekdaysShort:'Min_Sen_Sel_Rab_Kam_Jum_Sab'.split('_'),weekdaysMin:'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_'),longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY [pukul] HH.mm',LLLL:'dddd, D MMMM YYYY [pukul] HH.mm'},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'pagi'===dl)?sl:'siang'===dl?11<=sl?sl:sl+12:'sore'===dl||'malam'===dl?sl+12:void 0},meridiem:function(sl){return 11>sl?'pagi':15>sl?'siang':19>sl?'sore':'malam'},calendar:{sameDay:'[Hari ini pukul] LT',nextDay:'[Besok pukul] LT',nextWeek:'dddd [pukul] LT',lastDay:'[Kemarin pukul] LT',lastWeek:'dddd [lalu pukul] LT',sameElse:'L'},relativeTime:{future:'dalam %s',past:'%s yang lalu',s:'beberapa detik',m:'semenit',mm:'%d menit',h:'sejam',hh:'%d jam',d:'sehari',dd:'%d hari',M:'sebulan',MM:'%d bulan',y:'setahun',yy:'%d tahun'},week:{dow:1,doy:7}}),A.defineLocale('is',{months:'jan\xFAar_febr\xFAar_mars_apr\xEDl_ma\xED_j\xFAn\xED_j\xFAl\xED_\xE1g\xFAst_september_okt\xF3ber_n\xF3vember_desember'.split('_'),monthsShort:'jan_feb_mar_apr_ma\xED_j\xFAn_j\xFAl_\xE1g\xFA_sep_okt_n\xF3v_des'.split('_'),weekdays:'sunnudagur_m\xE1nudagur_\xFEri\xF0judagur_mi\xF0vikudagur_fimmtudagur_f\xF6studagur_laugardagur'.split('_'),weekdaysShort:'sun_m\xE1n_\xFEri_mi\xF0_fim_f\xF6s_lau'.split('_'),weekdaysMin:'Su_M\xE1_\xDEr_Mi_Fi_F\xF6_La'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY [kl.] H:mm',LLLL:'dddd, D. MMMM YYYY [kl.] H:mm'},calendar:{sameDay:'[\xED dag kl.] LT',nextDay:'[\xE1 morgun kl.] LT',nextWeek:'dddd [kl.] LT',lastDay:'[\xED g\xE6r kl.] LT',lastWeek:'[s\xED\xF0asta] dddd [kl.] LT',sameElse:'L'},relativeTime:{future:'eftir %s',past:'fyrir %s s\xED\xF0an',s:Fs,m:Fs,mm:Fs,h:'klukkustund',hh:Fs,d:Fs,dd:Fs,M:Fs,MM:Fs,y:Fs,yy:Fs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('it',{months:'gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre'.split('_'),monthsShort:'gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic'.split('_'),weekdays:'domenica_luned\xEC_marted\xEC_mercoled\xEC_gioved\xEC_venerd\xEC_sabato'.split('_'),weekdaysShort:'dom_lun_mar_mer_gio_ven_sab'.split('_'),weekdaysMin:'do_lu_ma_me_gi_ve_sa'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Oggi alle] LT',nextDay:'[Domani alle] LT',nextWeek:'dddd [alle] LT',lastDay:'[Ieri alle] LT',lastWeek:function(){switch(this.day()){case 0:return'[la scorsa] dddd [alle] LT';default:return'[lo scorso] dddd [alle] LT';}},sameElse:'L'},relativeTime:{future:function(sl){return(/^[0-9].+$/.test(sl)?'tra':'in')+' '+sl},past:'%s fa',s:'alcuni secondi',m:'un minuto',mm:'%d minuti',h:'un\'ora',hh:'%d ore',d:'un giorno',dd:'%d giorni',M:'un mese',MM:'%d mesi',y:'un anno',yy:'%d anni'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA',week:{dow:1,doy:4}}),A.defineLocale('ja',{months:'1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708'.split('_'),monthsShort:'1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708'.split('_'),weekdays:'\u65E5\u66DC\u65E5_\u6708\u66DC\u65E5_\u706B\u66DC\u65E5_\u6C34\u66DC\u65E5_\u6728\u66DC\u65E5_\u91D1\u66DC\u65E5_\u571F\u66DC\u65E5'.split('_'),weekdaysShort:'\u65E5_\u6708_\u706B_\u6C34_\u6728_\u91D1_\u571F'.split('_'),weekdaysMin:'\u65E5_\u6708_\u706B_\u6C34_\u6728_\u91D1_\u571F'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY/MM/DD',LL:'YYYY\u5E74M\u6708D\u65E5',LLL:'YYYY\u5E74M\u6708D\u65E5 HH:mm',LLLL:'YYYY\u5E74M\u6708D\u65E5 HH:mm dddd',l:'YYYY/MM/DD',ll:'YYYY\u5E74M\u6708D\u65E5',lll:'YYYY\u5E74M\u6708D\u65E5 HH:mm',llll:'YYYY\u5E74M\u6708D\u65E5 HH:mm dddd'},meridiemParse:/|/i,isPM:function(sl){return'\u5348\u5F8C'===sl},meridiem:function(sl){return 12>sl?'\u5348\u524D':'\u5348\u5F8C'},calendar:{sameDay:'[\u4ECA\u65E5] LT',nextDay:'[\u660E\u65E5] LT',nextWeek:'[\u6765\u9031]dddd LT',lastDay:'[\u6628\u65E5] LT',lastWeek:'[\u524D\u9031]dddd LT',sameElse:'L'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(sl,dl){return'd'===dl||'D'===dl||'DDD'===dl?sl+'\u65E5':sl},relativeTime:{future:'%s\u5F8C',past:'%s\u524D',s:'\u6570\u79D2',m:'1\u5206',mm:'%d\u5206',h:'1\u6642\u9593',hh:'%d\u6642\u9593',d:'1\u65E5',dd:'%d\u65E5',M:'1\u30F6\u6708',MM:'%d\u30F6\u6708',y:'1\u5E74',yy:'%d\u5E74'}}),A.defineLocale('jv',{months:'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember'.split('_'),monthsShort:'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des'.split('_'),weekdays:'Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu'.split('_'),weekdaysShort:'Min_Sen_Sel_Reb_Kem_Jem_Sep'.split('_'),weekdaysMin:'Mg_Sn_Sl_Rb_Km_Jm_Sp'.split('_'),longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY [pukul] HH.mm',LLLL:'dddd, D MMMM YYYY [pukul] HH.mm'},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'enjing'===dl)?sl:'siyang'===dl?11<=sl?sl:sl+12:'sonten'===dl||'ndalu'===dl?sl+12:void 0},meridiem:function(sl){return 11>sl?'enjing':15>sl?'siyang':19>sl?'sonten':'ndalu'},calendar:{sameDay:'[Dinten puniko pukul] LT',nextDay:'[Mbenjang pukul] LT',nextWeek:'dddd [pukul] LT',lastDay:'[Kala wingi pukul] LT',lastWeek:'dddd [kepengker pukul] LT',sameElse:'L'},relativeTime:{future:'wonten ing %s',past:'%s ingkang kepengker',s:'sawetawis detik',m:'setunggal menit',mm:'%d menit',h:'setunggal jam',hh:'%d jam',d:'sedinten',dd:'%d dinten',M:'sewulan',MM:'%d wulan',y:'setaun',yy:'%d taun'},week:{dow:1,doy:7}}),A.defineLocale('ka',{months:{standalone:'\u10D8\u10D0\u10DC\u10D5\u10D0\u10E0\u10D8_\u10D7\u10D4\u10D1\u10D4\u10E0\u10D5\u10D0\u10DA\u10D8_\u10DB\u10D0\u10E0\u10E2\u10D8_\u10D0\u10DE\u10E0\u10D8\u10DA\u10D8_\u10DB\u10D0\u10D8\u10E1\u10D8_\u10D8\u10D5\u10DC\u10D8\u10E1\u10D8_\u10D8\u10D5\u10DA\u10D8\u10E1\u10D8_\u10D0\u10D2\u10D5\u10D8\u10E1\u10E2\u10DD_\u10E1\u10D4\u10E5\u10E2\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8_\u10DD\u10E5\u10E2\u10DD\u10DB\u10D1\u10D4\u10E0\u10D8_\u10DC\u10DD\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8_\u10D3\u10D4\u10D9\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8'.split('_'),format:'\u10D8\u10D0\u10DC\u10D5\u10D0\u10E0\u10E1_\u10D7\u10D4\u10D1\u10D4\u10E0\u10D5\u10D0\u10DA\u10E1_\u10DB\u10D0\u10E0\u10E2\u10E1_\u10D0\u10DE\u10E0\u10D8\u10DA\u10D8\u10E1_\u10DB\u10D0\u10D8\u10E1\u10E1_\u10D8\u10D5\u10DC\u10D8\u10E1\u10E1_\u10D8\u10D5\u10DA\u10D8\u10E1\u10E1_\u10D0\u10D2\u10D5\u10D8\u10E1\u10E2\u10E1_\u10E1\u10D4\u10E5\u10E2\u10D4\u10DB\u10D1\u10D4\u10E0\u10E1_\u10DD\u10E5\u10E2\u10DD\u10DB\u10D1\u10D4\u10E0\u10E1_\u10DC\u10DD\u10D4\u10DB\u10D1\u10D4\u10E0\u10E1_\u10D3\u10D4\u10D9\u10D4\u10DB\u10D1\u10D4\u10E0\u10E1'.split('_')},monthsShort:'\u10D8\u10D0\u10DC_\u10D7\u10D4\u10D1_\u10DB\u10D0\u10E0_\u10D0\u10DE\u10E0_\u10DB\u10D0\u10D8_\u10D8\u10D5\u10DC_\u10D8\u10D5\u10DA_\u10D0\u10D2\u10D5_\u10E1\u10D4\u10E5_\u10DD\u10E5\u10E2_\u10DC\u10DD\u10D4_\u10D3\u10D4\u10D9'.split('_'),weekdays:{standalone:'\u10D9\u10D5\u10D8\u10E0\u10D0_\u10DD\u10E0\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8_\u10E1\u10D0\u10DB\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8_\u10DD\u10D7\u10EE\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8_\u10EE\u10E3\u10D7\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8_\u10DE\u10D0\u10E0\u10D0\u10E1\u10D9\u10D4\u10D5\u10D8_\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8'.split('_'),format:'\u10D9\u10D5\u10D8\u10E0\u10D0\u10E1_\u10DD\u10E0\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1_\u10E1\u10D0\u10DB\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1_\u10DD\u10D7\u10EE\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1_\u10EE\u10E3\u10D7\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1_\u10DE\u10D0\u10E0\u10D0\u10E1\u10D9\u10D4\u10D5\u10E1_\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1'.split('_'),isFormat:/(|)/},weekdaysShort:'\u10D9\u10D5\u10D8_\u10DD\u10E0\u10E8_\u10E1\u10D0\u10DB_\u10DD\u10D7\u10EE_\u10EE\u10E3\u10D7_\u10DE\u10D0\u10E0_\u10E8\u10D0\u10D1'.split('_'),weekdaysMin:'\u10D9\u10D5_\u10DD\u10E0_\u10E1\u10D0_\u10DD\u10D7_\u10EE\u10E3_\u10DE\u10D0_\u10E8\u10D0'.split('_'),longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY h:mm A',LLLL:'dddd, D MMMM YYYY h:mm A'},calendar:{sameDay:'[\u10D3\u10E6\u10D4\u10E1] LT[-\u10D6\u10D4]',nextDay:'[\u10EE\u10D5\u10D0\u10DA] LT[-\u10D6\u10D4]',lastDay:'[\u10D2\u10E3\u10E8\u10D8\u10DC] LT[-\u10D6\u10D4]',nextWeek:'[\u10E8\u10D4\u10DB\u10D3\u10D4\u10D2] dddd LT[-\u10D6\u10D4]',lastWeek:'[\u10EC\u10D8\u10DC\u10D0] dddd LT-\u10D6\u10D4',sameElse:'L'},relativeTime:{future:function(sl){return /(|||)/.test(sl)?sl.replace(/$/,'\u10E8\u10D8'):sl+'\u10E8\u10D8'},past:function(sl){return /(||||)/.test(sl)?sl.replace(/(|)$/,'\u10D8\u10E1 \u10E3\u10D9\u10D0\u10DC')://.test(sl)?sl.replace(/$/,'\u10EC\u10DA\u10D8\u10E1 \u10E3\u10D9\u10D0\u10DC'):void 0},s:'\u10E0\u10D0\u10DB\u10D3\u10D4\u10DC\u10D8\u10DB\u10D4 \u10EC\u10D0\u10DB\u10D8',m:'\u10EC\u10E3\u10D7\u10D8',mm:'%d \u10EC\u10E3\u10D7\u10D8',h:'\u10E1\u10D0\u10D0\u10D7\u10D8',hh:'%d \u10E1\u10D0\u10D0\u10D7\u10D8',d:'\u10D3\u10E6\u10D4',dd:'%d \u10D3\u10E6\u10D4',M:'\u10D7\u10D5\u10D4',MM:'%d \u10D7\u10D5\u10D4',y:'\u10EC\u10D4\u10DA\u10D8',yy:'%d \u10EC\u10D4\u10DA\u10D8'},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(sl){return 0===sl?sl:1===sl?sl+'-\u10DA\u10D8':20>sl||100>=sl&&0==sl%20||0==sl%100?'\u10DB\u10D4-'+sl:sl+'-\u10D4'},week:{dow:1,doy:7}});var Mo={0:'-\u0448\u0456',1:'-\u0448\u0456',2:'-\u0448\u0456',3:'-\u0448\u0456',4:'-\u0448\u0456',5:'-\u0448\u0456',6:'-\u0448\u044B',7:'-\u0448\u0456',8:'-\u0448\u0456',9:'-\u0448\u044B',10:'-\u0448\u044B',20:'-\u0448\u044B',30:'-\u0448\u044B',40:'-\u0448\u044B',50:'-\u0448\u0456',60:'-\u0448\u044B',70:'-\u0448\u0456',80:'-\u0448\u0456',90:'-\u0448\u044B',100:'-\u0448\u0456'};A.defineLocale('kk',{months:'\u049B\u0430\u04A3\u0442\u0430\u0440_\u0430\u049B\u043F\u0430\u043D_\u043D\u0430\u0443\u0440\u044B\u0437_\u0441\u04D9\u0443\u0456\u0440_\u043C\u0430\u043C\u044B\u0440_\u043C\u0430\u0443\u0441\u044B\u043C_\u0448\u0456\u043B\u0434\u0435_\u0442\u0430\u043C\u044B\u0437_\u049B\u044B\u0440\u043A\u04AF\u0439\u0435\u043A_\u049B\u0430\u0437\u0430\u043D_\u049B\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043B\u0442\u043E\u049B\u0441\u0430\u043D'.split('_'),monthsShort:'\u049B\u0430\u04A3_\u0430\u049B\u043F_\u043D\u0430\u0443_\u0441\u04D9\u0443_\u043C\u0430\u043C_\u043C\u0430\u0443_\u0448\u0456\u043B_\u0442\u0430\u043C_\u049B\u044B\u0440_\u049B\u0430\u0437_\u049B\u0430\u0440_\u0436\u0435\u043B'.split('_'),weekdays:'\u0436\u0435\u043A\u0441\u0435\u043D\u0431\u0456_\u0434\u04AF\u0439\u0441\u0435\u043D\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043D\u0431\u0456_\u0441\u04D9\u0440\u0441\u0435\u043D\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043D\u0431\u0456_\u0436\u04B1\u043C\u0430_\u0441\u0435\u043D\u0431\u0456'.split('_'),weekdaysShort:'\u0436\u0435\u043A_\u0434\u04AF\u0439_\u0441\u0435\u0439_\u0441\u04D9\u0440_\u0431\u0435\u0439_\u0436\u04B1\u043C_\u0441\u0435\u043D'.split('_'),weekdaysMin:'\u0436\u043A_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043C_\u0441\u043D'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u0411\u04AF\u0433\u0456\u043D \u0441\u0430\u0493\u0430\u0442] LT',nextDay:'[\u0415\u0440\u0442\u0435\u04A3 \u0441\u0430\u0493\u0430\u0442] LT',nextWeek:'dddd [\u0441\u0430\u0493\u0430\u0442] LT',lastDay:'[\u041A\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT',lastWeek:'[\u04E8\u0442\u043A\u0435\u043D \u0430\u043F\u0442\u0430\u043D\u044B\u04A3] dddd [\u0441\u0430\u0493\u0430\u0442] LT',sameElse:'L'},relativeTime:{future:'%s \u0456\u0448\u0456\u043D\u0434\u0435',past:'%s \u0431\u04B1\u0440\u044B\u043D',s:'\u0431\u0456\u0440\u043D\u0435\u0448\u0435 \u0441\u0435\u043A\u0443\u043D\u0434',m:'\u0431\u0456\u0440 \u043C\u0438\u043D\u0443\u0442',mm:'%d \u043C\u0438\u043D\u0443\u0442',h:'\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442',hh:'%d \u0441\u0430\u0493\u0430\u0442',d:'\u0431\u0456\u0440 \u043A\u04AF\u043D',dd:'%d \u043A\u04AF\u043D',M:'\u0431\u0456\u0440 \u0430\u0439',MM:'%d \u0430\u0439',y:'\u0431\u0456\u0440 \u0436\u044B\u043B',yy:'%d \u0436\u044B\u043B'},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(sl){var il=100<=sl?100:null;return sl+(Mo[sl]||Mo[sl%10]||Mo[il])},week:{dow:1,doy:7}}),A.defineLocale('km',{months:'\u1798\u1780\u179A\u17B6_\u1780\u17BB\u1798\u17D2\u1797\u17C8_\u1798\u17B8\u1793\u17B6_\u1798\u17C1\u179F\u17B6_\u17A7\u179F\u1797\u17B6_\u1798\u17B7\u1790\u17BB\u1793\u17B6_\u1780\u1780\u17D2\u1780\u178A\u17B6_\u179F\u17B8\u17A0\u17B6_\u1780\u1789\u17D2\u1789\u17B6_\u178F\u17BB\u179B\u17B6_\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6_\u1792\u17D2\u1793\u17BC'.split('_'),monthsShort:'\u1798\u1780\u179A\u17B6_\u1780\u17BB\u1798\u17D2\u1797\u17C8_\u1798\u17B8\u1793\u17B6_\u1798\u17C1\u179F\u17B6_\u17A7\u179F\u1797\u17B6_\u1798\u17B7\u1790\u17BB\u1793\u17B6_\u1780\u1780\u17D2\u1780\u178A\u17B6_\u179F\u17B8\u17A0\u17B6_\u1780\u1789\u17D2\u1789\u17B6_\u178F\u17BB\u179B\u17B6_\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6_\u1792\u17D2\u1793\u17BC'.split('_'),weekdays:'\u17A2\u17B6\u1791\u17B7\u178F\u17D2\u1799_\u1785\u17D0\u1793\u17D2\u1791_\u17A2\u1784\u17D2\u1782\u17B6\u179A_\u1796\u17BB\u1792_\u1796\u17D2\u179A\u17A0\u179F\u17D2\u1794\u178F\u17B7\u17CD_\u179F\u17BB\u1780\u17D2\u179A_\u179F\u17C5\u179A\u17CD'.split('_'),weekdaysShort:'\u17A2\u17B6\u1791\u17B7\u178F\u17D2\u1799_\u1785\u17D0\u1793\u17D2\u1791_\u17A2\u1784\u17D2\u1782\u17B6\u179A_\u1796\u17BB\u1792_\u1796\u17D2\u179A\u17A0\u179F\u17D2\u1794\u178F\u17B7\u17CD_\u179F\u17BB\u1780\u17D2\u179A_\u179F\u17C5\u179A\u17CD'.split('_'),weekdaysMin:'\u17A2\u17B6\u1791\u17B7\u178F\u17D2\u1799_\u1785\u17D0\u1793\u17D2\u1791_\u17A2\u1784\u17D2\u1782\u17B6\u179A_\u1796\u17BB\u1792_\u1796\u17D2\u179A\u17A0\u179F\u17D2\u1794\u178F\u17B7\u17CD_\u179F\u17BB\u1780\u17D2\u179A_\u179F\u17C5\u179A\u17CD'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u1790\u17D2\u1784\u17C3\u1793\u17C1\u17C7 \u1798\u17C9\u17C4\u1784] LT',nextDay:'[\u179F\u17D2\u17A2\u17C2\u1780 \u1798\u17C9\u17C4\u1784] LT',nextWeek:'dddd [\u1798\u17C9\u17C4\u1784] LT',lastDay:'[\u1798\u17D2\u179F\u17B7\u179B\u1798\u17B7\u1789 \u1798\u17C9\u17C4\u1784] LT',lastWeek:'dddd [\u179F\u1794\u17D2\u178F\u17B6\u17A0\u17CD\u1798\u17BB\u1793] [\u1798\u17C9\u17C4\u1784] LT',sameElse:'L'},relativeTime:{future:'%s\u1791\u17C0\u178F',past:'%s\u1798\u17BB\u1793',s:'\u1794\u17C9\u17BB\u1793\u17D2\u1798\u17B6\u1793\u179C\u17B7\u1793\u17B6\u1791\u17B8',m:'\u1798\u17BD\u1799\u1793\u17B6\u1791\u17B8',mm:'%d \u1793\u17B6\u1791\u17B8',h:'\u1798\u17BD\u1799\u1798\u17C9\u17C4\u1784',hh:'%d \u1798\u17C9\u17C4\u1784',d:'\u1798\u17BD\u1799\u1790\u17D2\u1784\u17C3',dd:'%d \u1790\u17D2\u1784\u17C3',M:'\u1798\u17BD\u1799\u1781\u17C2',MM:'%d \u1781\u17C2',y:'\u1798\u17BD\u1799\u1786\u17D2\u1793\u17B6\u17C6',yy:'%d \u1786\u17D2\u1793\u17B6\u17C6'},week:{dow:1,doy:4}});var To={0:'\u0CE6',1:'\u0CE7',2:'\u0CE8',3:'\u0CE9',4:'\u0CEA',5:'\u0CEB',6:'\u0CEC',7:'\u0CED',8:'\u0CEE',9:'\u0CEF'},Lo={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('kn',{months:'\u0C9C\u0CA8\u0CB5\u0CB0\u0CBF_\u0CAB\u0CC6\u0CAC\u0CCD\u0CB0\u0CB5\u0CB0\u0CBF_\u0CAE\u0CBE\u0CB0\u0CCD\u0C9A\u0CCD_\u0C8F\u0CAA\u0CCD\u0CB0\u0CBF\u0CB2\u0CCD_\u0CAE\u0CC6\u0CD5_\u0C9C\u0CC2\u0CA8\u0CCD_\u0C9C\u0CC1\u0CB2\u0CC6\u0CD6_\u0C86\u0C97\u0CB8\u0CCD\u0C9F\u0CCD_\u0CB8\u0CC6\u0CAA\u0CCD\u0C9F\u0CC6\u0C82\u0CAC\u0CB0\u0CCD_\u0C85\u0C95\u0CCD\u0C9F\u0CC6\u0CC2\u0CD5\u0CAC\u0CB0\u0CCD_\u0CA8\u0CB5\u0CC6\u0C82\u0CAC\u0CB0\u0CCD_\u0CA1\u0CBF\u0CB8\u0CC6\u0C82\u0CAC\u0CB0\u0CCD'.split('_'),monthsShort:'\u0C9C\u0CA8_\u0CAB\u0CC6\u0CAC\u0CCD\u0CB0_\u0CAE\u0CBE\u0CB0\u0CCD\u0C9A\u0CCD_\u0C8F\u0CAA\u0CCD\u0CB0\u0CBF\u0CB2\u0CCD_\u0CAE\u0CC6\u0CD5_\u0C9C\u0CC2\u0CA8\u0CCD_\u0C9C\u0CC1\u0CB2\u0CC6\u0CD6_\u0C86\u0C97\u0CB8\u0CCD\u0C9F\u0CCD_\u0CB8\u0CC6\u0CAA\u0CCD\u0C9F\u0CC6\u0C82\u0CAC_\u0C85\u0C95\u0CCD\u0C9F\u0CC6\u0CC2\u0CD5\u0CAC_\u0CA8\u0CB5\u0CC6\u0C82\u0CAC_\u0CA1\u0CBF\u0CB8\u0CC6\u0C82\u0CAC'.split('_'),monthsParseExact:!0,weekdays:'\u0CAD\u0CBE\u0CA8\u0CC1\u0CB5\u0CBE\u0CB0_\u0CB8\u0CC6\u0CC2\u0CD5\u0CAE\u0CB5\u0CBE\u0CB0_\u0CAE\u0C82\u0C97\u0CB3\u0CB5\u0CBE\u0CB0_\u0CAC\u0CC1\u0CA7\u0CB5\u0CBE\u0CB0_\u0C97\u0CC1\u0CB0\u0CC1\u0CB5\u0CBE\u0CB0_\u0CB6\u0CC1\u0C95\u0CCD\u0CB0\u0CB5\u0CBE\u0CB0_\u0CB6\u0CA8\u0CBF\u0CB5\u0CBE\u0CB0'.split('_'),weekdaysShort:'\u0CAD\u0CBE\u0CA8\u0CC1_\u0CB8\u0CC6\u0CC2\u0CD5\u0CAE_\u0CAE\u0C82\u0C97\u0CB3_\u0CAC\u0CC1\u0CA7_\u0C97\u0CC1\u0CB0\u0CC1_\u0CB6\u0CC1\u0C95\u0CCD\u0CB0_\u0CB6\u0CA8\u0CBF'.split('_'),weekdaysMin:'\u0CAD\u0CBE_\u0CB8\u0CC6\u0CC2\u0CD5_\u0CAE\u0C82_\u0CAC\u0CC1_\u0C97\u0CC1_\u0CB6\u0CC1_\u0CB6'.split('_'),longDateFormat:{LT:'A h:mm',LTS:'A h:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm',LLLL:'dddd, D MMMM YYYY, A h:mm'},calendar:{sameDay:'[\u0C87\u0C82\u0CA6\u0CC1] LT',nextDay:'[\u0CA8\u0CBE\u0CB3\u0CC6] LT',nextWeek:'dddd, LT',lastDay:'[\u0CA8\u0CBF\u0CA8\u0CCD\u0CA8\u0CC6] LT',lastWeek:'[\u0C95\u0CC6\u0CC2\u0CA8\u0CC6\u0CAF] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u0CA8\u0C82\u0CA4\u0CB0',past:'%s \u0CB9\u0CBF\u0C82\u0CA6\u0CC6',s:'\u0C95\u0CC6\u0CB2\u0CB5\u0CC1 \u0C95\u0CCD\u0CB7\u0CA3\u0C97\u0CB3\u0CC1',m:'\u0C92\u0C82\u0CA6\u0CC1 \u0CA8\u0CBF\u0CAE\u0CBF\u0CB7',mm:'%d \u0CA8\u0CBF\u0CAE\u0CBF\u0CB7',h:'\u0C92\u0C82\u0CA6\u0CC1 \u0C97\u0C82\u0C9F\u0CC6',hh:'%d \u0C97\u0C82\u0C9F\u0CC6',d:'\u0C92\u0C82\u0CA6\u0CC1 \u0CA6\u0CBF\u0CA8',dd:'%d \u0CA6\u0CBF\u0CA8',M:'\u0C92\u0C82\u0CA6\u0CC1 \u0CA4\u0CBF\u0C82\u0C97\u0CB3\u0CC1',MM:'%d \u0CA4\u0CBF\u0C82\u0C97\u0CB3\u0CC1',y:'\u0C92\u0C82\u0CA6\u0CC1 \u0CB5\u0CB0\u0CCD\u0CB7',yy:'%d \u0CB5\u0CB0\u0CCD\u0CB7'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Lo[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return To[dl]})},meridiemParse:/|||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF'===dl)?4>sl?sl:sl+12:'\u0CAC\u0CC6\u0CB3\u0CBF\u0C97\u0CCD\u0C97\u0CC6'===dl?sl:'\u0CAE\u0CA7\u0CCD\u0CAF\u0CBE\u0CB9\u0CCD\u0CA8'===dl?10<=sl?sl:sl+12:'\u0CB8\u0C82\u0C9C\u0CC6'===dl?sl+12:void 0},meridiem:function(sl){return 4>sl?'\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF':10>sl?'\u0CAC\u0CC6\u0CB3\u0CBF\u0C97\u0CCD\u0C97\u0CC6':17>sl?'\u0CAE\u0CA7\u0CCD\u0CAF\u0CBE\u0CB9\u0CCD\u0CA8':20>sl?'\u0CB8\u0C82\u0C9C\u0CC6':'\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF'},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(sl){return sl+'\u0CA8\u0CC6\u0CD5'},week:{dow:0,doy:6}}),A.defineLocale('ko',{months:'1\uC6D4_2\uC6D4_3\uC6D4_4\uC6D4_5\uC6D4_6\uC6D4_7\uC6D4_8\uC6D4_9\uC6D4_10\uC6D4_11\uC6D4_12\uC6D4'.split('_'),monthsShort:'1\uC6D4_2\uC6D4_3\uC6D4_4\uC6D4_5\uC6D4_6\uC6D4_7\uC6D4_8\uC6D4_9\uC6D4_10\uC6D4_11\uC6D4_12\uC6D4'.split('_'),weekdays:'\uC77C\uC694\uC77C_\uC6D4\uC694\uC77C_\uD654\uC694\uC77C_\uC218\uC694\uC77C_\uBAA9\uC694\uC77C_\uAE08\uC694\uC77C_\uD1A0\uC694\uC77C'.split('_'),weekdaysShort:'\uC77C_\uC6D4_\uD654_\uC218_\uBAA9_\uAE08_\uD1A0'.split('_'),weekdaysMin:'\uC77C_\uC6D4_\uD654_\uC218_\uBAA9_\uAE08_\uD1A0'.split('_'),longDateFormat:{LT:'A h:mm',LTS:'A h:mm:ss',L:'YYYY.MM.DD',LL:'YYYY\uB144 MMMM D\uC77C',LLL:'YYYY\uB144 MMMM D\uC77C A h:mm',LLLL:'YYYY\uB144 MMMM D\uC77C dddd A h:mm',l:'YYYY.MM.DD',ll:'YYYY\uB144 MMMM D\uC77C',lll:'YYYY\uB144 MMMM D\uC77C A h:mm',llll:'YYYY\uB144 MMMM D\uC77C dddd A h:mm'},calendar:{sameDay:'\uC624\uB298 LT',nextDay:'\uB0B4\uC77C LT',nextWeek:'dddd LT',lastDay:'\uC5B4\uC81C LT',lastWeek:'\uC9C0\uB09C\uC8FC dddd LT',sameElse:'L'},relativeTime:{future:'%s \uD6C4',past:'%s \uC804',s:'\uBA87 \uCD08',ss:'%d\uCD08',m:'1\uBD84',mm:'%d\uBD84',h:'\uD55C \uC2DC\uAC04',hh:'%d\uC2DC\uAC04',d:'\uD558\uB8E8',dd:'%d\uC77C',M:'\uD55C \uB2EC',MM:'%d\uB2EC',y:'\uC77C \uB144',yy:'%d\uB144'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\uC77C',meridiemParse:/|/,isPM:function(sl){return'\uC624\uD6C4'===sl},meridiem:function(sl){return 12>sl?'\uC624\uC804':'\uC624\uD6C4'}});var So={0:'-\u0447\u04AF',1:'-\u0447\u0438',2:'-\u0447\u0438',3:'-\u0447\u04AF',4:'-\u0447\u04AF',5:'-\u0447\u0438',6:'-\u0447\u044B',7:'-\u0447\u0438',8:'-\u0447\u0438',9:'-\u0447\u0443',10:'-\u0447\u0443',20:'-\u0447\u044B',30:'-\u0447\u0443',40:'-\u0447\u044B',50:'-\u0447\u04AF',60:'-\u0447\u044B',70:'-\u0447\u0438',80:'-\u0447\u0438',90:'-\u0447\u0443',100:'-\u0447\u04AF'};A.defineLocale('ky',{months:'\u044F\u043D\u0432\u0430\u0440\u044C_\u0444\u0435\u0432\u0440\u0430\u043B\u044C_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0435\u043B\u044C_\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C_\u043E\u043A\u0442\u044F\u0431\u0440\u044C_\u043D\u043E\u044F\u0431\u0440\u044C_\u0434\u0435\u043A\u0430\u0431\u0440\u044C'.split('_'),monthsShort:'\u044F\u043D\u0432_\u0444\u0435\u0432_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440_\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433_\u0441\u0435\u043D_\u043E\u043A\u0442_\u043D\u043E\u044F_\u0434\u0435\u043A'.split('_'),weekdays:'\u0416\u0435\u043A\u0448\u0435\u043C\u0431\u0438_\u0414\u04AF\u0439\u0448\u04E9\u043C\u0431\u04AF_\u0428\u0435\u0439\u0448\u0435\u043C\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043C\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043C\u0431\u0438_\u0416\u0443\u043C\u0430_\u0418\u0448\u0435\u043C\u0431\u0438'.split('_'),weekdaysShort:'\u0416\u0435\u043A_\u0414\u04AF\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043C_\u0418\u0448\u0435'.split('_'),weekdaysMin:'\u0416\u043A_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043C_\u0418\u0448'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u0411\u04AF\u0433\u04AF\u043D \u0441\u0430\u0430\u0442] LT',nextDay:'[\u042D\u0440\u0442\u0435\u04A3 \u0441\u0430\u0430\u0442] LT',nextWeek:'dddd [\u0441\u0430\u0430\u0442] LT',lastDay:'[\u041A\u0435\u0447\u0435 \u0441\u0430\u0430\u0442] LT',lastWeek:'[\u04E8\u0442\u043A\u0435\u043D \u0430\u043F\u0442\u0430\u043D\u044B\u043D] dddd [\u043A\u04AF\u043D\u04AF] [\u0441\u0430\u0430\u0442] LT',sameElse:'L'},relativeTime:{future:'%s \u0438\u0447\u0438\u043D\u0434\u0435',past:'%s \u043C\u0443\u0440\u0443\u043D',s:'\u0431\u0438\u0440\u043D\u0435\u0447\u0435 \u0441\u0435\u043A\u0443\u043D\u0434',m:'\u0431\u0438\u0440 \u043C\u04AF\u043D\u04E9\u0442',mm:'%d \u043C\u04AF\u043D\u04E9\u0442',h:'\u0431\u0438\u0440 \u0441\u0430\u0430\u0442',hh:'%d \u0441\u0430\u0430\u0442',d:'\u0431\u0438\u0440 \u043A\u04AF\u043D',dd:'%d \u043A\u04AF\u043D',M:'\u0431\u0438\u0440 \u0430\u0439',MM:'%d \u0430\u0439',y:'\u0431\u0438\u0440 \u0436\u044B\u043B',yy:'%d \u0436\u044B\u043B'},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(sl){var il=100<=sl?100:null;return sl+(So[sl]||So[sl%10]||So[il])},week:{dow:1,doy:7}}),A.defineLocale('lb',{months:'Januar_Februar_M\xE4erz_Abr\xEBll_Mee_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),monthsShort:'Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),monthsParseExact:!0,weekdays:'Sonndeg_M\xE9indeg_D\xEBnschdeg_M\xEBttwoch_Donneschdeg_Freideg_Samschdeg'.split('_'),weekdaysShort:'So._M\xE9._D\xEB._M\xEB._Do._Fr._Sa.'.split('_'),weekdaysMin:'So_M\xE9_D\xEB_M\xEB_Do_Fr_Sa'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm [Auer]',LTS:'H:mm:ss [Auer]',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm [Auer]',LLLL:'dddd, D. MMMM YYYY H:mm [Auer]'},calendar:{sameDay:'[Haut um] LT',sameElse:'L',nextDay:'[Muer um] LT',nextWeek:'dddd [um] LT',lastDay:'[G\xEBschter um] LT',lastWeek:function(){switch(this.day()){case 2:case 4:return'[Leschten] dddd [um] LT';default:return'[Leschte] dddd [um] LT';}}},relativeTime:{future:function(sl){var dl=sl.substr(0,sl.indexOf(' '));return Ws(dl)?'a '+sl:'an '+sl},past:function(sl){var dl=sl.substr(0,sl.indexOf(' '));return Ws(dl)?'viru '+sl:'virun '+sl},s:'e puer Sekonnen',m:Bs,mm:'%d Minutten',h:Bs,hh:'%d Stonnen',d:Bs,dd:'%d Deeg',M:Bs,MM:'%d M\xE9int',y:Bs,yy:'%d Joer'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('lo',{months:'\u0EA1\u0EB1\u0E87\u0E81\u0EAD\u0E99_\u0E81\u0EB8\u0EA1\u0E9E\u0EB2_\u0EA1\u0EB5\u0E99\u0EB2_\u0EC0\u0EA1\u0EAA\u0EB2_\u0E9E\u0EB6\u0E94\u0EAA\u0EB0\u0E9E\u0EB2_\u0EA1\u0EB4\u0E96\u0EB8\u0E99\u0EB2_\u0E81\u0ECD\u0EA5\u0EB0\u0E81\u0EBB\u0E94_\u0EAA\u0EB4\u0E87\u0EAB\u0EB2_\u0E81\u0EB1\u0E99\u0E8D\u0EB2_\u0E95\u0EB8\u0EA5\u0EB2_\u0E9E\u0EB0\u0E88\u0EB4\u0E81_\u0E97\u0EB1\u0E99\u0EA7\u0EB2'.split('_'),monthsShort:'\u0EA1\u0EB1\u0E87\u0E81\u0EAD\u0E99_\u0E81\u0EB8\u0EA1\u0E9E\u0EB2_\u0EA1\u0EB5\u0E99\u0EB2_\u0EC0\u0EA1\u0EAA\u0EB2_\u0E9E\u0EB6\u0E94\u0EAA\u0EB0\u0E9E\u0EB2_\u0EA1\u0EB4\u0E96\u0EB8\u0E99\u0EB2_\u0E81\u0ECD\u0EA5\u0EB0\u0E81\u0EBB\u0E94_\u0EAA\u0EB4\u0E87\u0EAB\u0EB2_\u0E81\u0EB1\u0E99\u0E8D\u0EB2_\u0E95\u0EB8\u0EA5\u0EB2_\u0E9E\u0EB0\u0E88\u0EB4\u0E81_\u0E97\u0EB1\u0E99\u0EA7\u0EB2'.split('_'),weekdays:'\u0EAD\u0EB2\u0E97\u0EB4\u0E94_\u0E88\u0EB1\u0E99_\u0EAD\u0EB1\u0E87\u0E84\u0EB2\u0E99_\u0E9E\u0EB8\u0E94_\u0E9E\u0EB0\u0EAB\u0EB1\u0E94_\u0EAA\u0EB8\u0E81_\u0EC0\u0EAA\u0EBB\u0EB2'.split('_'),weekdaysShort:'\u0E97\u0EB4\u0E94_\u0E88\u0EB1\u0E99_\u0EAD\u0EB1\u0E87\u0E84\u0EB2\u0E99_\u0E9E\u0EB8\u0E94_\u0E9E\u0EB0\u0EAB\u0EB1\u0E94_\u0EAA\u0EB8\u0E81_\u0EC0\u0EAA\u0EBB\u0EB2'.split('_'),weekdaysMin:'\u0E97_\u0E88_\u0EAD\u0E84_\u0E9E_\u0E9E\u0EAB_\u0EAA\u0E81_\u0EAA'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'\u0EA7\u0EB1\u0E99dddd D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0E95\u0EAD\u0E99\u0EC1\u0EA5\u0E87'===sl},meridiem:function(sl){return 12>sl?'\u0E95\u0EAD\u0E99\u0EC0\u0E8A\u0EBB\u0EC9\u0EB2':'\u0E95\u0EAD\u0E99\u0EC1\u0EA5\u0E87'},calendar:{sameDay:'[\u0EA1\u0EB7\u0EC9\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT',nextDay:'[\u0EA1\u0EB7\u0EC9\u0EAD\u0EB7\u0EC8\u0E99\u0EC0\u0EA7\u0EA5\u0EB2] LT',nextWeek:'[\u0EA7\u0EB1\u0E99]dddd[\u0EDC\u0EC9\u0EB2\u0EC0\u0EA7\u0EA5\u0EB2] LT',lastDay:'[\u0EA1\u0EB7\u0EC9\u0EA7\u0EB2\u0E99\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT',lastWeek:'[\u0EA7\u0EB1\u0E99]dddd[\u0EC1\u0EA5\u0EC9\u0EA7\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT',sameElse:'L'},relativeTime:{future:'\u0EAD\u0EB5\u0E81 %s',past:'%s\u0E9C\u0EC8\u0EB2\u0E99\u0EA1\u0EB2',s:'\u0E9A\u0ECD\u0EC8\u0EC0\u0E97\u0EBB\u0EC8\u0EB2\u0EC3\u0E94\u0EA7\u0EB4\u0E99\u0EB2\u0E97\u0EB5',m:'1 \u0E99\u0EB2\u0E97\u0EB5',mm:'%d \u0E99\u0EB2\u0E97\u0EB5',h:'1 \u0E8A\u0EBB\u0EC8\u0EA7\u0EC2\u0EA1\u0E87',hh:'%d \u0E8A\u0EBB\u0EC8\u0EA7\u0EC2\u0EA1\u0E87',d:'1 \u0EA1\u0EB7\u0EC9',dd:'%d \u0EA1\u0EB7\u0EC9',M:'1 \u0EC0\u0E94\u0EB7\u0EAD\u0E99',MM:'%d \u0EC0\u0E94\u0EB7\u0EAD\u0E99',y:'1 \u0E9B\u0EB5',yy:'%d \u0E9B\u0EB5'},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(sl){return'\u0E97\u0EB5\u0EC8'+sl}});var vo={m:'minut\u0117_minut\u0117s_minut\u0119',mm:'minut\u0117s_minu\u010Di\u0173_minutes',h:'valanda_valandos_valand\u0105',hh:'valandos_valand\u0173_valandas',d:'diena_dienos_dien\u0105',dd:'dienos_dien\u0173_dienas',M:'m\u0117nuo_m\u0117nesio_m\u0117nes\u012F',MM:'m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius',y:'metai_met\u0173_metus',yy:'metai_met\u0173_metus'};A.defineLocale('lt',{months:{format:'sausio_vasario_kovo_baland\u017Eio_gegu\u017E\u0117s_bir\u017Eelio_liepos_rugpj\u016B\u010Dio_rugs\u0117jo_spalio_lapkri\u010Dio_gruod\u017Eio'.split('_'),standalone:'sausis_vasaris_kovas_balandis_gegu\u017E\u0117_bir\u017Eelis_liepa_rugpj\u016Btis_rugs\u0117jis_spalis_lapkritis_gruodis'.split('_'),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:'sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd'.split('_'),weekdays:{format:'sekmadien\u012F_pirmadien\u012F_antradien\u012F_tre\u010Diadien\u012F_ketvirtadien\u012F_penktadien\u012F_\u0161e\u0161tadien\u012F'.split('_'),standalone:'sekmadienis_pirmadienis_antradienis_tre\u010Diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis'.split('_'),isFormat:/dddd HH:mm/},weekdaysShort:'Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161'.split('_'),weekdaysMin:'S_P_A_T_K_Pn_\u0160'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY-MM-DD',LL:'YYYY [m.] MMMM D [d.]',LLL:'YYYY [m.] MMMM D [d.], HH:mm [val.]',LLLL:'YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]',l:'YYYY-MM-DD',ll:'YYYY [m.] MMMM D [d.]',lll:'YYYY [m.] MMMM D [d.], HH:mm [val.]',llll:'YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]'},calendar:{sameDay:'[\u0160iandien] LT',nextDay:'[Rytoj] LT',nextWeek:'dddd LT',lastDay:'[Vakar] LT',lastWeek:'[Pra\u0117jus\u012F] dddd LT',sameElse:'L'},relativeTime:{future:'po %s',past:'prie\u0161 %s',s:function(sl,dl,il,rl){return dl?'kelios sekund\u0117s':rl?'keli\u0173 sekund\u017Ei\u0173':'kelias sekundes'},m:Vs,mm:Ks,h:Vs,hh:Ks,d:Vs,dd:Ks,M:Vs,MM:Ks,y:Vs,yy:Ks},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(sl){return sl+'-oji'},week:{dow:1,doy:4}});var bo={m:'min\u016Btes_min\u016Bt\u0113m_min\u016Bte_min\u016Btes'.split('_'),mm:'min\u016Btes_min\u016Bt\u0113m_min\u016Bte_min\u016Btes'.split('_'),h:'stundas_stund\u0101m_stunda_stundas'.split('_'),hh:'stundas_stund\u0101m_stunda_stundas'.split('_'),d:'dienas_dien\u0101m_diena_dienas'.split('_'),dd:'dienas_dien\u0101m_diena_dienas'.split('_'),M:'m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i'.split('_'),MM:'m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i'.split('_'),y:'gada_gadiem_gads_gadi'.split('_'),yy:'gada_gadiem_gads_gadi'.split('_')};A.defineLocale('lv',{months:'janv\u0101ris_febru\u0101ris_marts_apr\u012Blis_maijs_j\u016Bnijs_j\u016Blijs_augusts_septembris_oktobris_novembris_decembris'.split('_'),monthsShort:'jan_feb_mar_apr_mai_j\u016Bn_j\u016Bl_aug_sep_okt_nov_dec'.split('_'),weekdays:'sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena'.split('_'),weekdaysShort:'Sv_P_O_T_C_Pk_S'.split('_'),weekdaysMin:'Sv_P_O_T_C_Pk_S'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY.',LL:'YYYY. [gada] D. MMMM',LLL:'YYYY. [gada] D. MMMM, HH:mm',LLLL:'YYYY. [gada] D. MMMM, dddd, HH:mm'},calendar:{sameDay:'[\u0160odien pulksten] LT',nextDay:'[R\u012Bt pulksten] LT',nextWeek:'dddd [pulksten] LT',lastDay:'[Vakar pulksten] LT',lastWeek:'[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT',sameElse:'L'},relativeTime:{future:'p\u0113c %s',past:'pirms %s',s:function(sl,dl){return dl?'da\u017Eas sekundes':'da\u017E\u0101m sekund\u0113m'},m:Zs,mm:Qs,h:Zs,hh:Qs,d:Zs,dd:Qs,M:Zs,MM:Qs,y:Zs,yy:Qs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}});var Co={words:{m:['jedan minut','jednog minuta'],mm:['minut','minuta','minuta'],h:['jedan sat','jednog sata'],hh:['sat','sata','sati'],dd:['dan','dana','dana'],MM:['mjesec','mjeseca','mjeseci'],yy:['godina','godine','godina']},correctGrammaticalCase:function(sl,dl){return 1===sl?dl[0]:2<=sl&&4>=sl?dl[1]:dl[2]},translate:function(sl,dl,il){var rl=Co.words[il];return 1===il.length?dl?rl[0]:rl[1]:sl+' '+Co.correctGrammaticalCase(sl,rl)}};A.defineLocale('me',{months:'januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar'.split('_'),monthsShort:'jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.'.split('_'),monthsParseExact:!0,weekdays:'nedjelja_ponedjeljak_utorak_srijeda_\u010Detvrtak_petak_subota'.split('_'),weekdaysShort:'ned._pon._uto._sri._\u010Det._pet._sub.'.split('_'),weekdaysMin:'ne_po_ut_sr_\u010De_pe_su'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[danas u] LT',nextDay:'[sjutra u] LT',nextWeek:function(){switch(this.day()){case 0:return'[u] [nedjelju] [u] LT';case 3:return'[u] [srijedu] [u] LT';case 6:return'[u] [subotu] [u] LT';case 1:case 2:case 4:case 5:return'[u] dddd [u] LT';}},lastDay:'[ju\u010De u] LT',lastWeek:function(){return['[pro\u0161le] [nedjelje] [u] LT','[pro\u0161log] [ponedjeljka] [u] LT','[pro\u0161log] [utorka] [u] LT','[pro\u0161le] [srijede] [u] LT','[pro\u0161log] [\u010Detvrtka] [u] LT','[pro\u0161log] [petka] [u] LT','[pro\u0161le] [subote] [u] LT'][this.day()]},sameElse:'L'},relativeTime:{future:'za %s',past:'prije %s',s:'nekoliko sekundi',m:Co.translate,mm:Co.translate,h:Co.translate,hh:Co.translate,d:'dan',dd:Co.translate,M:'mjesec',MM:Co.translate,y:'godinu',yy:Co.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}}),A.defineLocale('mi',{months:'Kohi-t\u0101te_Hui-tanguru_Pout\u016B-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014Dngoingoi_Here-turi-k\u014Dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea'.split('_'),monthsShort:'Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014Dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki'.split('_'),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:'R\u0101tapu_Mane_T\u016Brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei'.split('_'),weekdaysShort:'Ta_Ma_T\u016B_We_T\u0101i_Pa_H\u0101'.split('_'),weekdaysMin:'Ta_Ma_T\u016B_We_T\u0101i_Pa_H\u0101'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY [i] HH:mm',LLLL:'dddd, D MMMM YYYY [i] HH:mm'},calendar:{sameDay:'[i teie mahana, i] LT',nextDay:'[apopo i] LT',nextWeek:'dddd [i] LT',lastDay:'[inanahi i] LT',lastWeek:'dddd [whakamutunga i] LT',sameElse:'L'},relativeTime:{future:'i roto i %s',past:'%s i mua',s:'te h\u0113kona ruarua',m:'he meneti',mm:'%d meneti',h:'te haora',hh:'%d haora',d:'he ra',dd:'%d ra',M:'he marama',MM:'%d marama',y:'he tau',yy:'%d tau'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA',week:{dow:1,doy:4}}),A.defineLocale('mk',{months:'\u0458\u0430\u043D\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0438\u043B_\u043C\u0430\u0458_\u0458\u0443\u043D\u0438_\u0458\u0443\u043B\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043F\u0442\u0435\u043C\u0432\u0440\u0438_\u043E\u043A\u0442\u043E\u043C\u0432\u0440\u0438_\u043D\u043E\u0435\u043C\u0432\u0440\u0438_\u0434\u0435\u043A\u0435\u043C\u0432\u0440\u0438'.split('_'),monthsShort:'\u0458\u0430\u043D_\u0444\u0435\u0432_\u043C\u0430\u0440_\u0430\u043F\u0440_\u043C\u0430\u0458_\u0458\u0443\u043D_\u0458\u0443\u043B_\u0430\u0432\u0433_\u0441\u0435\u043F_\u043E\u043A\u0442_\u043D\u043E\u0435_\u0434\u0435\u043A'.split('_'),weekdays:'\u043D\u0435\u0434\u0435\u043B\u0430_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043E\u043A_\u043F\u0435\u0442\u043E\u043A_\u0441\u0430\u0431\u043E\u0442\u0430'.split('_'),weekdaysShort:'\u043D\u0435\u0434_\u043F\u043E\u043D_\u0432\u0442\u043E_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043F\u0435\u0442_\u0441\u0430\u0431'.split('_'),weekdaysMin:'\u043De_\u043Fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043F\u0435_\u0441a'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'D.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY H:mm',LLLL:'dddd, D MMMM YYYY H:mm'},calendar:{sameDay:'[\u0414\u0435\u043D\u0435\u0441 \u0432\u043E] LT',nextDay:'[\u0423\u0442\u0440\u0435 \u0432\u043E] LT',nextWeek:'[\u0412\u043E] dddd [\u0432\u043E] LT',lastDay:'[\u0412\u0447\u0435\u0440\u0430 \u0432\u043E] LT',lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return'[\u0418\u0437\u043C\u0438\u043D\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043E] LT';case 1:case 2:case 4:case 5:return'[\u0418\u0437\u043C\u0438\u043D\u0430\u0442\u0438\u043E\u0442] dddd [\u0432\u043E] LT';}},sameElse:'L'},relativeTime:{future:'\u043F\u043E\u0441\u043B\u0435 %s',past:'\u043F\u0440\u0435\u0434 %s',s:'\u043D\u0435\u043A\u043E\u043B\u043A\u0443 \u0441\u0435\u043A\u0443\u043D\u0434\u0438',m:'\u043C\u0438\u043D\u0443\u0442\u0430',mm:'%d \u043C\u0438\u043D\u0443\u0442\u0438',h:'\u0447\u0430\u0441',hh:'%d \u0447\u0430\u0441\u0430',d:'\u0434\u0435\u043D',dd:'%d \u0434\u0435\u043D\u0430',M:'\u043C\u0435\u0441\u0435\u0446',MM:'%d \u043C\u0435\u0441\u0435\u0446\u0438',y:'\u0433\u043E\u0434\u0438\u043D\u0430',yy:'%d \u0433\u043E\u0434\u0438\u043D\u0438'},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(sl){var dl=sl%10,il=sl%100;return 0===sl?sl+'-\u0435\u0432':0==il?sl+'-\u0435\u043D':10<il&&20>il?sl+'-\u0442\u0438':1==dl?sl+'-\u0432\u0438':2==dl?sl+'-\u0440\u0438':7==dl||8==dl?sl+'-\u043C\u0438':sl+'-\u0442\u0438'},week:{dow:1,doy:7}}),A.defineLocale('ml',{months:'\u0D1C\u0D28\u0D41\u0D35\u0D30\u0D3F_\u0D2B\u0D46\u0D2C\u0D4D\u0D30\u0D41\u0D35\u0D30\u0D3F_\u0D2E\u0D3E\u0D7C\u0D1A\u0D4D\u0D1A\u0D4D_\u0D0F\u0D2A\u0D4D\u0D30\u0D3F\u0D7D_\u0D2E\u0D47\u0D2F\u0D4D_\u0D1C\u0D42\u0D7A_\u0D1C\u0D42\u0D32\u0D48_\u0D13\u0D17\u0D38\u0D4D\u0D31\u0D4D\u0D31\u0D4D_\u0D38\u0D46\u0D2A\u0D4D\u0D31\u0D4D\u0D31\u0D02\u0D2C\u0D7C_\u0D12\u0D15\u0D4D\u0D1F\u0D4B\u0D2C\u0D7C_\u0D28\u0D35\u0D02\u0D2C\u0D7C_\u0D21\u0D3F\u0D38\u0D02\u0D2C\u0D7C'.split('_'),monthsShort:'\u0D1C\u0D28\u0D41._\u0D2B\u0D46\u0D2C\u0D4D\u0D30\u0D41._\u0D2E\u0D3E\u0D7C._\u0D0F\u0D2A\u0D4D\u0D30\u0D3F._\u0D2E\u0D47\u0D2F\u0D4D_\u0D1C\u0D42\u0D7A_\u0D1C\u0D42\u0D32\u0D48._\u0D13\u0D17._\u0D38\u0D46\u0D2A\u0D4D\u0D31\u0D4D\u0D31._\u0D12\u0D15\u0D4D\u0D1F\u0D4B._\u0D28\u0D35\u0D02._\u0D21\u0D3F\u0D38\u0D02.'.split('_'),monthsParseExact:!0,weekdays:'\u0D1E\u0D3E\u0D2F\u0D31\u0D3E\u0D34\u0D4D\u0D1A_\u0D24\u0D3F\u0D19\u0D4D\u0D15\u0D33\u0D3E\u0D34\u0D4D\u0D1A_\u0D1A\u0D4A\u0D35\u0D4D\u0D35\u0D3E\u0D34\u0D4D\u0D1A_\u0D2C\u0D41\u0D27\u0D28\u0D3E\u0D34\u0D4D\u0D1A_\u0D35\u0D4D\u0D2F\u0D3E\u0D34\u0D3E\u0D34\u0D4D\u0D1A_\u0D35\u0D46\u0D33\u0D4D\u0D33\u0D3F\u0D2F\u0D3E\u0D34\u0D4D\u0D1A_\u0D36\u0D28\u0D3F\u0D2F\u0D3E\u0D34\u0D4D\u0D1A'.split('_'),weekdaysShort:'\u0D1E\u0D3E\u0D2F\u0D7C_\u0D24\u0D3F\u0D19\u0D4D\u0D15\u0D7E_\u0D1A\u0D4A\u0D35\u0D4D\u0D35_\u0D2C\u0D41\u0D27\u0D7B_\u0D35\u0D4D\u0D2F\u0D3E\u0D34\u0D02_\u0D35\u0D46\u0D33\u0D4D\u0D33\u0D3F_\u0D36\u0D28\u0D3F'.split('_'),weekdaysMin:'\u0D1E\u0D3E_\u0D24\u0D3F_\u0D1A\u0D4A_\u0D2C\u0D41_\u0D35\u0D4D\u0D2F\u0D3E_\u0D35\u0D46_\u0D36'.split('_'),longDateFormat:{LT:'A h:mm -\u0D28\u0D41',LTS:'A h:mm:ss -\u0D28\u0D41',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm -\u0D28\u0D41',LLLL:'dddd, D MMMM YYYY, A h:mm -\u0D28\u0D41'},calendar:{sameDay:'[\u0D07\u0D28\u0D4D\u0D28\u0D4D] LT',nextDay:'[\u0D28\u0D3E\u0D33\u0D46] LT',nextWeek:'dddd, LT',lastDay:'[\u0D07\u0D28\u0D4D\u0D28\u0D32\u0D46] LT',lastWeek:'[\u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D',past:'%s \u0D2E\u0D41\u0D7B\u0D2A\u0D4D',s:'\u0D05\u0D7D\u0D2A \u0D28\u0D3F\u0D2E\u0D3F\u0D37\u0D19\u0D4D\u0D19\u0D7E',m:'\u0D12\u0D30\u0D41 \u0D2E\u0D3F\u0D28\u0D3F\u0D31\u0D4D\u0D31\u0D4D',mm:'%d \u0D2E\u0D3F\u0D28\u0D3F\u0D31\u0D4D\u0D31\u0D4D',h:'\u0D12\u0D30\u0D41 \u0D2E\u0D23\u0D3F\u0D15\u0D4D\u0D15\u0D42\u0D7C',hh:'%d \u0D2E\u0D23\u0D3F\u0D15\u0D4D\u0D15\u0D42\u0D7C',d:'\u0D12\u0D30\u0D41 \u0D26\u0D3F\u0D35\u0D38\u0D02',dd:'%d \u0D26\u0D3F\u0D35\u0D38\u0D02',M:'\u0D12\u0D30\u0D41 \u0D2E\u0D3E\u0D38\u0D02',MM:'%d \u0D2E\u0D3E\u0D38\u0D02',y:'\u0D12\u0D30\u0D41 \u0D35\u0D7C\u0D37\u0D02',yy:'%d \u0D35\u0D7C\u0D37\u0D02'},meridiemParse:/|| ||/i,meridiemHour:function(sl,dl){return 12===sl&&(sl=0),'\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F'===dl&&4<=sl||'\u0D09\u0D1A\u0D4D\u0D1A \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D'===dl||'\u0D35\u0D48\u0D15\u0D41\u0D28\u0D4D\u0D28\u0D47\u0D30\u0D02'===dl?sl+12:sl},meridiem:function(sl){return 4>sl?'\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F':12>sl?'\u0D30\u0D3E\u0D35\u0D3F\u0D32\u0D46':17>sl?'\u0D09\u0D1A\u0D4D\u0D1A \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D':20>sl?'\u0D35\u0D48\u0D15\u0D41\u0D28\u0D4D\u0D28\u0D47\u0D30\u0D02':'\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F'}});var Eo={0:'\u0966',1:'\u0967',2:'\u0968',3:'\u0969',4:'\u096A',5:'\u096B',6:'\u096C',7:'\u096D',8:'\u096E',9:'\u096F'},Do={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('mr',{months:'\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940_\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940_\u092E\u093E\u0930\u094D\u091A_\u090F\u092A\u094D\u0930\u093F\u0932_\u092E\u0947_\u091C\u0942\u0928_\u091C\u0941\u0932\u0948_\u0911\u0917\u0938\u094D\u091F_\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930_\u0911\u0915\u094D\u091F\u094B\u092C\u0930_\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930_\u0921\u093F\u0938\u0947\u0902\u092C\u0930'.split('_'),monthsShort:'\u091C\u093E\u0928\u0947._\u092B\u0947\u092C\u094D\u0930\u0941._\u092E\u093E\u0930\u094D\u091A._\u090F\u092A\u094D\u0930\u093F._\u092E\u0947._\u091C\u0942\u0928._\u091C\u0941\u0932\u0948._\u0911\u0917._\u0938\u092A\u094D\u091F\u0947\u0902._\u0911\u0915\u094D\u091F\u094B._\u0928\u094B\u0935\u094D\u0939\u0947\u0902._\u0921\u093F\u0938\u0947\u0902.'.split('_'),monthsParseExact:!0,weekdays:'\u0930\u0935\u093F\u0935\u093E\u0930_\u0938\u094B\u092E\u0935\u093E\u0930_\u092E\u0902\u0917\u0933\u0935\u093E\u0930_\u092C\u0941\u0927\u0935\u093E\u0930_\u0917\u0941\u0930\u0942\u0935\u093E\u0930_\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930_\u0936\u0928\u093F\u0935\u093E\u0930'.split('_'),weekdaysShort:'\u0930\u0935\u093F_\u0938\u094B\u092E_\u092E\u0902\u0917\u0933_\u092C\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094D\u0930_\u0936\u0928\u093F'.split('_'),weekdaysMin:'\u0930_\u0938\u094B_\u092E\u0902_\u092C\u0941_\u0917\u0941_\u0936\u0941_\u0936'.split('_'),longDateFormat:{LT:'A h:mm \u0935\u093E\u091C\u0924\u093E',LTS:'A h:mm:ss \u0935\u093E\u091C\u0924\u093E',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm \u0935\u093E\u091C\u0924\u093E',LLLL:'dddd, D MMMM YYYY, A h:mm \u0935\u093E\u091C\u0924\u093E'},calendar:{sameDay:'[\u0906\u091C] LT',nextDay:'[\u0909\u0926\u094D\u092F\u093E] LT',nextWeek:'dddd, LT',lastDay:'[\u0915\u093E\u0932] LT',lastWeek:'[\u092E\u093E\u0917\u0940\u0932] dddd, LT',sameElse:'L'},relativeTime:{future:'%s\u092E\u0927\u094D\u092F\u0947',past:'%s\u092A\u0942\u0930\u094D\u0935\u0940',s:td,m:td,mm:td,h:td,hh:td,d:td,dd:td,M:td,MM:td,y:td,yy:td},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Do[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return Eo[dl]})},meridiemParse:/|||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u0930\u093E\u0924\u094D\u0930\u0940'===dl)?4>sl?sl:sl+12:'\u0938\u0915\u093E\u0933\u0940'===dl?sl:'\u0926\u0941\u092A\u093E\u0930\u0940'===dl?10<=sl?sl:sl+12:'\u0938\u093E\u092F\u0902\u0915\u093E\u0933\u0940'===dl?sl+12:void 0},meridiem:function(sl){return 4>sl?'\u0930\u093E\u0924\u094D\u0930\u0940':10>sl?'\u0938\u0915\u093E\u0933\u0940':17>sl?'\u0926\u0941\u092A\u093E\u0930\u0940':20>sl?'\u0938\u093E\u092F\u0902\u0915\u093E\u0933\u0940':'\u0930\u093E\u0924\u094D\u0930\u0940'},week:{dow:0,doy:6}}),A.defineLocale('ms-my',{months:'Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember'.split('_'),monthsShort:'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis'.split('_'),weekdays:'Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu'.split('_'),weekdaysShort:'Ahd_Isn_Sel_Rab_Kha_Jum_Sab'.split('_'),weekdaysMin:'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_'),longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY [pukul] HH.mm',LLLL:'dddd, D MMMM YYYY [pukul] HH.mm'},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'pagi'===dl)?sl:'tengahari'===dl?11<=sl?sl:sl+12:'petang'===dl||'malam'===dl?sl+12:void 0},meridiem:function(sl){return 11>sl?'pagi':15>sl?'tengahari':19>sl?'petang':'malam'},calendar:{sameDay:'[Hari ini pukul] LT',nextDay:'[Esok pukul] LT',nextWeek:'dddd [pukul] LT',lastDay:'[Kelmarin pukul] LT',lastWeek:'dddd [lepas pukul] LT',sameElse:'L'},relativeTime:{future:'dalam %s',past:'%s yang lepas',s:'beberapa saat',m:'seminit',mm:'%d minit',h:'sejam',hh:'%d jam',d:'sehari',dd:'%d hari',M:'sebulan',MM:'%d bulan',y:'setahun',yy:'%d tahun'},week:{dow:1,doy:7}}),A.defineLocale('ms',{months:'Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember'.split('_'),monthsShort:'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis'.split('_'),weekdays:'Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu'.split('_'),weekdaysShort:'Ahd_Isn_Sel_Rab_Kha_Jum_Sab'.split('_'),weekdaysMin:'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_'),longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY [pukul] HH.mm',LLLL:'dddd, D MMMM YYYY [pukul] HH.mm'},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'pagi'===dl)?sl:'tengahari'===dl?11<=sl?sl:sl+12:'petang'===dl||'malam'===dl?sl+12:void 0},meridiem:function(sl){return 11>sl?'pagi':15>sl?'tengahari':19>sl?'petang':'malam'},calendar:{sameDay:'[Hari ini pukul] LT',nextDay:'[Esok pukul] LT',nextWeek:'dddd [pukul] LT',lastDay:'[Kelmarin pukul] LT',lastWeek:'dddd [lepas pukul] LT',sameElse:'L'},relativeTime:{future:'dalam %s',past:'%s yang lepas',s:'beberapa saat',m:'seminit',mm:'%d minit',h:'sejam',hh:'%d jam',d:'sehari',dd:'%d hari',M:'sebulan',MM:'%d bulan',y:'setahun',yy:'%d tahun'},week:{dow:1,doy:7}});var wo={0:'\u1040',1:'\u1041',2:'\u1042',3:'\u1043',4:'\u1044',5:'\u1045',6:'\u1046',7:'\u1047',8:'\u1048',9:'\u1049'},Yo={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('my',{months:'\u1007\u1014\u103A\u1014\u101D\u102B\u101B\u102E_\u1016\u1031\u1016\u1031\u102C\u103A\u101D\u102B\u101B\u102E_\u1019\u1010\u103A_\u1027\u1015\u103C\u102E_\u1019\u1031_\u1007\u103D\u1014\u103A_\u1007\u1030\u101C\u102D\u102F\u1004\u103A_\u101E\u103C\u1002\u102F\u1010\u103A_\u1005\u1000\u103A\u1010\u1004\u103A\u1018\u102C_\u1021\u1031\u102C\u1000\u103A\u1010\u102D\u102F\u1018\u102C_\u1014\u102D\u102F\u101D\u1004\u103A\u1018\u102C_\u1012\u102E\u1007\u1004\u103A\u1018\u102C'.split('_'),monthsShort:'\u1007\u1014\u103A_\u1016\u1031_\u1019\u1010\u103A_\u1015\u103C\u102E_\u1019\u1031_\u1007\u103D\u1014\u103A_\u101C\u102D\u102F\u1004\u103A_\u101E\u103C_\u1005\u1000\u103A_\u1021\u1031\u102C\u1000\u103A_\u1014\u102D\u102F_\u1012\u102E'.split('_'),weekdays:'\u1010\u1014\u1004\u103A\u1039\u1002\u1014\u103D\u1031_\u1010\u1014\u1004\u103A\u1039\u101C\u102C_\u1021\u1004\u103A\u1039\u1002\u102B_\u1017\u102F\u1012\u1039\u1013\u101F\u1030\u1038_\u1000\u103C\u102C\u101E\u1015\u1010\u1031\u1038_\u101E\u1031\u102C\u1000\u103C\u102C_\u1005\u1014\u1031'.split('_'),weekdaysShort:'\u1014\u103D\u1031_\u101C\u102C_\u1002\u102B_\u101F\u1030\u1038_\u1000\u103C\u102C_\u101E\u1031\u102C_\u1014\u1031'.split('_'),weekdaysMin:'\u1014\u103D\u1031_\u101C\u102C_\u1002\u102B_\u101F\u1030\u1038_\u1000\u103C\u102C_\u101E\u1031\u102C_\u1014\u1031'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u101A\u1014\u1031.] LT [\u1019\u103E\u102C]',nextDay:'[\u1019\u1014\u1000\u103A\u1016\u103C\u1014\u103A] LT [\u1019\u103E\u102C]',nextWeek:'dddd LT [\u1019\u103E\u102C]',lastDay:'[\u1019\u1014\u1031.\u1000] LT [\u1019\u103E\u102C]',lastWeek:'[\u1015\u103C\u102E\u1038\u1001\u1032\u1037\u101E\u1031\u102C] dddd LT [\u1019\u103E\u102C]',sameElse:'L'},relativeTime:{future:'\u101C\u102C\u1019\u100A\u103A\u1037 %s \u1019\u103E\u102C',past:'\u101C\u103D\u1014\u103A\u1001\u1032\u1037\u101E\u1031\u102C %s \u1000',s:'\u1005\u1000\u1039\u1000\u1014\u103A.\u1021\u1014\u100A\u103A\u1038\u1004\u101A\u103A',m:'\u1010\u1005\u103A\u1019\u102D\u1014\u1005\u103A',mm:'%d \u1019\u102D\u1014\u1005\u103A',h:'\u1010\u1005\u103A\u1014\u102C\u101B\u102E',hh:'%d \u1014\u102C\u101B\u102E',d:'\u1010\u1005\u103A\u101B\u1000\u103A',dd:'%d \u101B\u1000\u103A',M:'\u1010\u1005\u103A\u101C',MM:'%d \u101C',y:'\u1010\u1005\u103A\u1014\u103E\u1005\u103A',yy:'%d \u1014\u103E\u1005\u103A'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Yo[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return wo[dl]})},week:{dow:1,doy:4}}),A.defineLocale('nb',{months:'januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember'.split('_'),monthsShort:'jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.'.split('_'),monthsParseExact:!0,weekdays:'s\xF8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xF8rdag'.split('_'),weekdaysShort:'s\xF8._ma._ti._on._to._fr._l\xF8.'.split('_'),weekdaysMin:'s\xF8_ma_ti_on_to_fr_l\xF8'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY [kl.] HH:mm',LLLL:'dddd D. MMMM YYYY [kl.] HH:mm'},calendar:{sameDay:'[i dag kl.] LT',nextDay:'[i morgen kl.] LT',nextWeek:'dddd [kl.] LT',lastDay:'[i g\xE5r kl.] LT',lastWeek:'[forrige] dddd [kl.] LT',sameElse:'L'},relativeTime:{future:'om %s',past:'%s siden',s:'noen sekunder',m:'ett minutt',mm:'%d minutter',h:'en time',hh:'%d timer',d:'en dag',dd:'%d dager',M:'en m\xE5ned',MM:'%d m\xE5neder',y:'ett \xE5r',yy:'%d \xE5r'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}});var ko={0:'\u0966',1:'\u0967',2:'\u0968',3:'\u0969',4:'\u096A',5:'\u096B',6:'\u096C',7:'\u096D',8:'\u096E',9:'\u096F'},Ro={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('ne',{months:'\u091C\u0928\u0935\u0930\u0940_\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u0930\u0940_\u092E\u093E\u0930\u094D\u091A_\u0905\u092A\u094D\u0930\u093F\u0932_\u092E\u0908_\u091C\u0941\u0928_\u091C\u0941\u0932\u093E\u0908_\u0905\u0917\u0937\u094D\u091F_\u0938\u0947\u092A\u094D\u091F\u0947\u092E\u094D\u092C\u0930_\u0905\u0915\u094D\u091F\u094B\u092C\u0930_\u0928\u094B\u092D\u0947\u092E\u094D\u092C\u0930_\u0921\u093F\u0938\u0947\u092E\u094D\u092C\u0930'.split('_'),monthsShort:'\u091C\u0928._\u092B\u0947\u092C\u094D\u0930\u0941._\u092E\u093E\u0930\u094D\u091A_\u0905\u092A\u094D\u0930\u093F._\u092E\u0908_\u091C\u0941\u0928_\u091C\u0941\u0932\u093E\u0908._\u0905\u0917._\u0938\u0947\u092A\u094D\u091F._\u0905\u0915\u094D\u091F\u094B._\u0928\u094B\u092D\u0947._\u0921\u093F\u0938\u0947.'.split('_'),monthsParseExact:!0,weekdays:'\u0906\u0907\u0924\u092C\u093E\u0930_\u0938\u094B\u092E\u092C\u093E\u0930_\u092E\u0919\u094D\u0917\u0932\u092C\u093E\u0930_\u092C\u0941\u0927\u092C\u093E\u0930_\u092C\u093F\u0939\u093F\u092C\u093E\u0930_\u0936\u0941\u0915\u094D\u0930\u092C\u093E\u0930_\u0936\u0928\u093F\u092C\u093E\u0930'.split('_'),weekdaysShort:'\u0906\u0907\u0924._\u0938\u094B\u092E._\u092E\u0919\u094D\u0917\u0932._\u092C\u0941\u0927._\u092C\u093F\u0939\u093F._\u0936\u0941\u0915\u094D\u0930._\u0936\u0928\u093F.'.split('_'),weekdaysMin:'\u0906._\u0938\u094B._\u092E\u0902._\u092C\u0941._\u092C\u093F._\u0936\u0941._\u0936.'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'A\u0915\u094B h:mm \u092C\u091C\u0947',LTS:'A\u0915\u094B h:mm:ss \u092C\u091C\u0947',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A\u0915\u094B h:mm \u092C\u091C\u0947',LLLL:'dddd, D MMMM YYYY, A\u0915\u094B h:mm \u092C\u091C\u0947'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Ro[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return ko[dl]})},meridiemParse:/|||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u0930\u093E\u0924\u093F'===dl)?4>sl?sl:sl+12:'\u092C\u093F\u0939\u093E\u0928'===dl?sl:'\u0926\u093F\u0909\u0901\u0938\u094B'===dl?10<=sl?sl:sl+12:'\u0938\u093E\u0901\u091D'===dl?sl+12:void 0},meridiem:function(sl){return 3>sl?'\u0930\u093E\u0924\u093F':12>sl?'\u092C\u093F\u0939\u093E\u0928':16>sl?'\u0926\u093F\u0909\u0901\u0938\u094B':20>sl?'\u0938\u093E\u0901\u091D':'\u0930\u093E\u0924\u093F'},calendar:{sameDay:'[\u0906\u091C] LT',nextDay:'[\u092D\u094B\u0932\u093F] LT',nextWeek:'[\u0906\u0909\u0901\u0926\u094B] dddd[,] LT',lastDay:'[\u0939\u093F\u091C\u094B] LT',lastWeek:'[\u0917\u090F\u0915\u094B] dddd[,] LT',sameElse:'L'},relativeTime:{future:'%s\u092E\u093E',past:'%s \u0905\u0917\u093E\u0921\u093F',s:'\u0915\u0947\u0939\u0940 \u0915\u094D\u0937\u0923',m:'\u090F\u0915 \u092E\u093F\u0928\u0947\u091F',mm:'%d \u092E\u093F\u0928\u0947\u091F',h:'\u090F\u0915 \u0918\u0923\u094D\u091F\u093E',hh:'%d \u0918\u0923\u094D\u091F\u093E',d:'\u090F\u0915 \u0926\u093F\u0928',dd:'%d \u0926\u093F\u0928',M:'\u090F\u0915 \u092E\u0939\u093F\u0928\u093E',MM:'%d \u092E\u0939\u093F\u0928\u093E',y:'\u090F\u0915 \u092C\u0930\u094D\u0937',yy:'%d \u092C\u0930\u094D\u0937'},week:{dow:0,doy:6}});var Io='jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_'),Ao='jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_'),xo=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Oo=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;A.defineLocale('nl-be',{months:'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),monthsShort:function(sl,dl){return sl?/-MMM-/.test(dl)?Ao[sl.month()]:Io[sl.month()]:Io},monthsRegex:Oo,monthsShortRegex:Oo,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:xo,longMonthsParse:xo,shortMonthsParse:xo,weekdays:'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),weekdaysShort:'zo._ma._di._wo._do._vr._za.'.split('_'),weekdaysMin:'Zo_Ma_Di_Wo_Do_Vr_Za'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[vandaag om] LT',nextDay:'[morgen om] LT',nextWeek:'dddd [om] LT',lastDay:'[gisteren om] LT',lastWeek:'[afgelopen] dddd [om] LT',sameElse:'L'},relativeTime:{future:'over %s',past:'%s geleden',s:'een paar seconden',m:'\xE9\xE9n minuut',mm:'%d minuten',h:'\xE9\xE9n uur',hh:'%d uur',d:'\xE9\xE9n dag',dd:'%d dagen',M:'\xE9\xE9n maand',MM:'%d maanden',y:'\xE9\xE9n jaar',yy:'%d jaar'},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(sl){return sl+(1===sl||8===sl||20<=sl?'ste':'de')},week:{dow:1,doy:4}});var Po='jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_'),No='jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_'),Ho=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],jo=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;A.defineLocale('nl',{months:'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),monthsShort:function(sl,dl){return sl?/-MMM-/.test(dl)?No[sl.month()]:Po[sl.month()]:Po},monthsRegex:jo,monthsShortRegex:jo,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ho,longMonthsParse:Ho,shortMonthsParse:Ho,weekdays:'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),weekdaysShort:'zo._ma._di._wo._do._vr._za.'.split('_'),weekdaysMin:'Zo_Ma_Di_Wo_Do_Vr_Za'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD-MM-YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[vandaag om] LT',nextDay:'[morgen om] LT',nextWeek:'dddd [om] LT',lastDay:'[gisteren om] LT',lastWeek:'[afgelopen] dddd [om] LT',sameElse:'L'},relativeTime:{future:'over %s',past:'%s geleden',s:'een paar seconden',m:'\xE9\xE9n minuut',mm:'%d minuten',h:'\xE9\xE9n uur',hh:'%d uur',d:'\xE9\xE9n dag',dd:'%d dagen',M:'\xE9\xE9n maand',MM:'%d maanden',y:'\xE9\xE9n jaar',yy:'%d jaar'},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(sl){return sl+(1===sl||8===sl||20<=sl?'ste':'de')},week:{dow:1,doy:4}}),A.defineLocale('nn',{months:'januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember'.split('_'),monthsShort:'jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_'),weekdays:'sundag_m\xE5ndag_tysdag_onsdag_torsdag_fredag_laurdag'.split('_'),weekdaysShort:'sun_m\xE5n_tys_ons_tor_fre_lau'.split('_'),weekdaysMin:'su_m\xE5_ty_on_to_fr_l\xF8'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY [kl.] H:mm',LLLL:'dddd D. MMMM YYYY [kl.] HH:mm'},calendar:{sameDay:'[I dag klokka] LT',nextDay:'[I morgon klokka] LT',nextWeek:'dddd [klokka] LT',lastDay:'[I g\xE5r klokka] LT',lastWeek:'[F\xF8reg\xE5ande] dddd [klokka] LT',sameElse:'L'},relativeTime:{future:'om %s',past:'%s sidan',s:'nokre sekund',m:'eit minutt',mm:'%d minutt',h:'ein time',hh:'%d timar',d:'ein dag',dd:'%d dagar',M:'ein m\xE5nad',MM:'%d m\xE5nader',y:'eit \xE5r',yy:'%d \xE5r'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}});var Uo={0:'\u0A66',1:'\u0A67',2:'\u0A68',3:'\u0A69',4:'\u0A6A',5:'\u0A6B',6:'\u0A6C',7:'\u0A6D',8:'\u0A6E',9:'\u0A6F'},Fo={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('pa-in',{months:'\u0A1C\u0A28\u0A35\u0A30\u0A40_\u0A2B\u0A3C\u0A30\u0A35\u0A30\u0A40_\u0A2E\u0A3E\u0A30\u0A1A_\u0A05\u0A2A\u0A4D\u0A30\u0A48\u0A32_\u0A2E\u0A08_\u0A1C\u0A42\u0A28_\u0A1C\u0A41\u0A32\u0A3E\u0A08_\u0A05\u0A17\u0A38\u0A24_\u0A38\u0A24\u0A70\u0A2C\u0A30_\u0A05\u0A15\u0A24\u0A42\u0A2C\u0A30_\u0A28\u0A35\u0A70\u0A2C\u0A30_\u0A26\u0A38\u0A70\u0A2C\u0A30'.split('_'),monthsShort:'\u0A1C\u0A28\u0A35\u0A30\u0A40_\u0A2B\u0A3C\u0A30\u0A35\u0A30\u0A40_\u0A2E\u0A3E\u0A30\u0A1A_\u0A05\u0A2A\u0A4D\u0A30\u0A48\u0A32_\u0A2E\u0A08_\u0A1C\u0A42\u0A28_\u0A1C\u0A41\u0A32\u0A3E\u0A08_\u0A05\u0A17\u0A38\u0A24_\u0A38\u0A24\u0A70\u0A2C\u0A30_\u0A05\u0A15\u0A24\u0A42\u0A2C\u0A30_\u0A28\u0A35\u0A70\u0A2C\u0A30_\u0A26\u0A38\u0A70\u0A2C\u0A30'.split('_'),weekdays:'\u0A10\u0A24\u0A35\u0A3E\u0A30_\u0A38\u0A4B\u0A2E\u0A35\u0A3E\u0A30_\u0A2E\u0A70\u0A17\u0A32\u0A35\u0A3E\u0A30_\u0A2C\u0A41\u0A27\u0A35\u0A3E\u0A30_\u0A35\u0A40\u0A30\u0A35\u0A3E\u0A30_\u0A38\u0A3C\u0A41\u0A71\u0A15\u0A30\u0A35\u0A3E\u0A30_\u0A38\u0A3C\u0A28\u0A40\u0A1A\u0A30\u0A35\u0A3E\u0A30'.split('_'),weekdaysShort:'\u0A10\u0A24_\u0A38\u0A4B\u0A2E_\u0A2E\u0A70\u0A17\u0A32_\u0A2C\u0A41\u0A27_\u0A35\u0A40\u0A30_\u0A38\u0A3C\u0A41\u0A15\u0A30_\u0A38\u0A3C\u0A28\u0A40'.split('_'),weekdaysMin:'\u0A10\u0A24_\u0A38\u0A4B\u0A2E_\u0A2E\u0A70\u0A17\u0A32_\u0A2C\u0A41\u0A27_\u0A35\u0A40\u0A30_\u0A38\u0A3C\u0A41\u0A15\u0A30_\u0A38\u0A3C\u0A28\u0A40'.split('_'),longDateFormat:{LT:'A h:mm \u0A35\u0A1C\u0A47',LTS:'A h:mm:ss \u0A35\u0A1C\u0A47',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm \u0A35\u0A1C\u0A47',LLLL:'dddd, D MMMM YYYY, A h:mm \u0A35\u0A1C\u0A47'},calendar:{sameDay:'[\u0A05\u0A1C] LT',nextDay:'[\u0A15\u0A32] LT',nextWeek:'dddd, LT',lastDay:'[\u0A15\u0A32] LT',lastWeek:'[\u0A2A\u0A3F\u0A1B\u0A32\u0A47] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u0A35\u0A3F\u0A71\u0A1A',past:'%s \u0A2A\u0A3F\u0A1B\u0A32\u0A47',s:'\u0A15\u0A41\u0A1D \u0A38\u0A15\u0A3F\u0A70\u0A1F',m:'\u0A07\u0A15 \u0A2E\u0A3F\u0A70\u0A1F',mm:'%d \u0A2E\u0A3F\u0A70\u0A1F',h:'\u0A07\u0A71\u0A15 \u0A18\u0A70\u0A1F\u0A3E',hh:'%d \u0A18\u0A70\u0A1F\u0A47',d:'\u0A07\u0A71\u0A15 \u0A26\u0A3F\u0A28',dd:'%d \u0A26\u0A3F\u0A28',M:'\u0A07\u0A71\u0A15 \u0A2E\u0A39\u0A40\u0A28\u0A3E',MM:'%d \u0A2E\u0A39\u0A40\u0A28\u0A47',y:'\u0A07\u0A71\u0A15 \u0A38\u0A3E\u0A32',yy:'%d \u0A38\u0A3E\u0A32'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Fo[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return Uo[dl]})},meridiemParse:/|||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u0A30\u0A3E\u0A24'===dl)?4>sl?sl:sl+12:'\u0A38\u0A35\u0A47\u0A30'===dl?sl:'\u0A26\u0A41\u0A2A\u0A39\u0A3F\u0A30'===dl?10<=sl?sl:sl+12:'\u0A38\u0A3C\u0A3E\u0A2E'===dl?sl+12:void 0},meridiem:function(sl){return 4>sl?'\u0A30\u0A3E\u0A24':10>sl?'\u0A38\u0A35\u0A47\u0A30':17>sl?'\u0A26\u0A41\u0A2A\u0A39\u0A3F\u0A30':20>sl?'\u0A38\u0A3C\u0A3E\u0A2E':'\u0A30\u0A3E\u0A24'},week:{dow:0,doy:6}});var Bo='stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017Adziernik_listopad_grudzie\u0144'.split('_'),qo='stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015Bnia_pa\u017Adziernika_listopada_grudnia'.split('_');A.defineLocale('pl',{months:function(sl,dl){return sl?''===dl?'('+qo[sl.month()]+'|'+Bo[sl.month()]+')':/D MMMM/.test(dl)?qo[sl.month()]:Bo[sl.month()]:Bo},monthsShort:'sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017A_lis_gru'.split('_'),weekdays:'niedziela_poniedzia\u0142ek_wtorek_\u015Broda_czwartek_pi\u0105tek_sobota'.split('_'),weekdaysShort:'ndz_pon_wt_\u015Br_czw_pt_sob'.split('_'),weekdaysMin:'Nd_Pn_Wt_\u015Ar_Cz_Pt_So'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Dzi\u015B o] LT',nextDay:'[Jutro o] LT',nextWeek:'[W] dddd [o] LT',lastDay:'[Wczoraj o] LT',lastWeek:function(){switch(this.day()){case 0:return'[W zesz\u0142\u0105 niedziel\u0119 o] LT';case 3:return'[W zesz\u0142\u0105 \u015Brod\u0119 o] LT';case 6:return'[W zesz\u0142\u0105 sobot\u0119 o] LT';default:return'[W zesz\u0142y] dddd [o] LT';}},sameElse:'L'},relativeTime:{future:'za %s',past:'%s temu',s:'kilka sekund',m:ad,mm:ad,h:ad,hh:ad,d:'1 dzie\u0144',dd:'%d dni',M:'miesi\u0105c',MM:ad,y:'rok',yy:ad},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('pt-br',{months:'Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split('_'),monthsShort:'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),weekdays:'Domingo_Segunda-feira_Ter\xE7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xE1bado'.split('_'),weekdaysShort:'Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b'.split('_'),weekdaysMin:'Do_2\xAA_3\xAA_4\xAA_5\xAA_6\xAA_S\xE1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D [de] MMMM [de] YYYY',LLL:'D [de] MMMM [de] YYYY [\xE0s] HH:mm',LLLL:'dddd, D [de] MMMM [de] YYYY [\xE0s] HH:mm'},calendar:{sameDay:'[Hoje \xE0s] LT',nextDay:'[Amanh\xE3 \xE0s] LT',nextWeek:'dddd [\xE0s] LT',lastDay:'[Ontem \xE0s] LT',lastWeek:function(){return 0===this.day()||6===this.day()?'[\xDAltimo] dddd [\xE0s] LT':'[\xDAltima] dddd [\xE0s] LT'},sameElse:'L'},relativeTime:{future:'em %s',past:'%s atr\xE1s',s:'poucos segundos',m:'um minuto',mm:'%d minutos',h:'uma hora',hh:'%d horas',d:'um dia',dd:'%d dias',M:'um m\xEAs',MM:'%d meses',y:'um ano',yy:'%d anos'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA'}),A.defineLocale('pt',{months:'Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split('_'),monthsShort:'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),weekdays:'Domingo_Segunda-Feira_Ter\xE7a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_S\xE1bado'.split('_'),weekdaysShort:'Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b'.split('_'),weekdaysMin:'Do_2\xAA_3\xAA_4\xAA_5\xAA_6\xAA_S\xE1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D [de] MMMM [de] YYYY',LLL:'D [de] MMMM [de] YYYY HH:mm',LLLL:'dddd, D [de] MMMM [de] YYYY HH:mm'},calendar:{sameDay:'[Hoje \xE0s] LT',nextDay:'[Amanh\xE3 \xE0s] LT',nextWeek:'dddd [\xE0s] LT',lastDay:'[Ontem \xE0s] LT',lastWeek:function(){return 0===this.day()||6===this.day()?'[\xDAltimo] dddd [\xE0s] LT':'[\xDAltima] dddd [\xE0s] LT'},sameElse:'L'},relativeTime:{future:'em %s',past:'h\xE1 %s',s:'segundos',m:'um minuto',mm:'%d minutos',h:'uma hora',hh:'%d horas',d:'um dia',dd:'%d dias',M:'um m\xEAs',MM:'%d meses',y:'um ano',yy:'%d anos'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\xBA',week:{dow:1,doy:4}}),A.defineLocale('ro',{months:'ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie'.split('_'),monthsShort:'ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.'.split('_'),monthsParseExact:!0,weekdays:'duminic\u0103_luni_mar\u021Bi_miercuri_joi_vineri_s\xE2mb\u0103t\u0103'.split('_'),weekdaysShort:'Dum_Lun_Mar_Mie_Joi_Vin_S\xE2m'.split('_'),weekdaysMin:'Du_Lu_Ma_Mi_Jo_Vi_S\xE2'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY H:mm',LLLL:'dddd, D MMMM YYYY H:mm'},calendar:{sameDay:'[azi la] LT',nextDay:'[m\xE2ine la] LT',nextWeek:'dddd [la] LT',lastDay:'[ieri la] LT',lastWeek:'[fosta] dddd [la] LT',sameElse:'L'},relativeTime:{future:'peste %s',past:'%s \xEEn urm\u0103',s:'c\xE2teva secunde',m:'un minut',mm:sd,h:'o or\u0103',hh:sd,d:'o zi',dd:sd,M:'o lun\u0103',MM:sd,y:'un an',yy:sd},week:{dow:1,doy:7}});var zo=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];A.defineLocale('ru',{months:{format:'\u044F\u043D\u0432\u0430\u0440\u044F_\u0444\u0435\u0432\u0440\u0430\u043B\u044F_\u043C\u0430\u0440\u0442\u0430_\u0430\u043F\u0440\u0435\u043B\u044F_\u043C\u0430\u044F_\u0438\u044E\u043D\u044F_\u0438\u044E\u043B\u044F_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F_\u043E\u043A\u0442\u044F\u0431\u0440\u044F_\u043D\u043E\u044F\u0431\u0440\u044F_\u0434\u0435\u043A\u0430\u0431\u0440\u044F'.split('_'),standalone:'\u044F\u043D\u0432\u0430\u0440\u044C_\u0444\u0435\u0432\u0440\u0430\u043B\u044C_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0435\u043B\u044C_\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C_\u043E\u043A\u0442\u044F\u0431\u0440\u044C_\u043D\u043E\u044F\u0431\u0440\u044C_\u0434\u0435\u043A\u0430\u0431\u0440\u044C'.split('_')},monthsShort:{format:'\u044F\u043D\u0432._\u0444\u0435\u0432\u0440._\u043C\u0430\u0440._\u0430\u043F\u0440._\u043C\u0430\u044F_\u0438\u044E\u043D\u044F_\u0438\u044E\u043B\u044F_\u0430\u0432\u0433._\u0441\u0435\u043D\u0442._\u043E\u043A\u0442._\u043D\u043E\u044F\u0431._\u0434\u0435\u043A.'.split('_'),standalone:'\u044F\u043D\u0432._\u0444\u0435\u0432\u0440._\u043C\u0430\u0440\u0442_\u0430\u043F\u0440._\u043C\u0430\u0439_\u0438\u044E\u043D\u044C_\u0438\u044E\u043B\u044C_\u0430\u0432\u0433._\u0441\u0435\u043D\u0442._\u043E\u043A\u0442._\u043D\u043E\u044F\u0431._\u0434\u0435\u043A.'.split('_')},weekdays:{standalone:'\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043F\u044F\u0442\u043D\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043E\u0442\u0430'.split('_'),format:'\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435_\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A_\u0432\u0442\u043E\u0440\u043D\u0438\u043A_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043F\u044F\u0442\u043D\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043E\u0442\u0443'.split('_'),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:'\u0432\u0441_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431'.split('_'),weekdaysMin:'\u0432\u0441_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431'.split('_'),monthsParse:zo,longMonthsParse:zo,shortMonthsParse:zo,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY \u0433.',LLL:'D MMMM YYYY \u0433., HH:mm',LLLL:'dddd, D MMMM YYYY \u0433., HH:mm'},calendar:{sameDay:'[\u0421\u0435\u0433\u043E\u0434\u043D\u044F \u0432] LT',nextDay:'[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT',lastDay:'[\u0412\u0447\u0435\u0440\u0430 \u0432] LT',nextWeek:function(sl){if(sl.week()!==this.week())switch(this.day()){case 0:return'[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435] dddd [\u0432] LT';case 1:case 2:case 4:return'[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439] dddd [\u0432] LT';case 3:case 5:case 6:return'[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E] dddd [\u0432] LT';}else return 2===this.day()?'[\u0412\u043E] dddd [\u0432] LT':'[\u0412] dddd [\u0432] LT'},lastWeek:function(sl){if(sl.week()!==this.week())switch(this.day()){case 0:return'[\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0435] dddd [\u0432] LT';case 1:case 2:case 4:return'[\u0412 \u043F\u0440\u043E\u0448\u043B\u044B\u0439] dddd [\u0432] LT';case 3:case 5:case 6:return'[\u0412 \u043F\u0440\u043E\u0448\u043B\u0443\u044E] dddd [\u0432] LT';}else return 2===this.day()?'[\u0412\u043E] dddd [\u0432] LT':'[\u0412] dddd [\u0432] LT'},sameElse:'L'},relativeTime:{future:'\u0447\u0435\u0440\u0435\u0437 %s',past:'%s \u043D\u0430\u0437\u0430\u0434',s:'\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434',m:rd,mm:rd,h:'\u0447\u0430\u0441',hh:rd,d:'\u0434\u0435\u043D\u044C',dd:rd,M:'\u043C\u0435\u0441\u044F\u0446',MM:rd,y:'\u0433\u043E\u0434',yy:rd},meridiemParse:/|||/i,isPM:function(sl){return /^(|)$/.test(sl)},meridiem:function(sl){return 4>sl?'\u043D\u043E\u0447\u0438':12>sl?'\u0443\u0442\u0440\u0430':17>sl?'\u0434\u043D\u044F':'\u0432\u0435\u0447\u0435\u0440\u0430'},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(sl,dl){return'M'===dl||'d'===dl||'DDD'===dl?sl+'-\u0439':'D'===dl?sl+'-\u0433\u043E':'w'===dl||'W'===dl?sl+'-\u044F':sl},week:{dow:1,doy:7}});var Wo=['\u062C\u0646\u0648\u0631\u064A','\u0641\u064A\u0628\u0631\u0648\u0631\u064A','\u0645\u0627\u0631\u0686','\u0627\u067E\u0631\u064A\u0644','\u0645\u0626\u064A','\u062C\u0648\u0646','\u062C\u0648\u0644\u0627\u0621\u0650','\u0622\u06AF\u0633\u067D','\u0633\u064A\u067E\u067D\u0645\u0628\u0631','\u0622\u06AA\u067D\u0648\u0628\u0631','\u0646\u0648\u0645\u0628\u0631','\u068A\u0633\u0645\u0628\u0631'],Jo=['\u0622\u0686\u0631','\u0633\u0648\u0645\u0631','\u0627\u06B1\u0627\u0631\u0648','\u0627\u0631\u0628\u0639','\u062E\u0645\u064A\u0633','\u062C\u0645\u0639','\u0687\u0646\u0687\u0631'];A.defineLocale('sd',{months:Wo,monthsShort:Wo,weekdays:Jo,weekdaysShort:Jo,weekdaysMin:Jo,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd\u060C D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0634\u0627\u0645'===sl},meridiem:function(sl){return 12>sl?'\u0635\u0628\u062D':'\u0634\u0627\u0645'},calendar:{sameDay:'[\u0627\u0684] LT',nextDay:'[\u0633\u0680\u0627\u06BB\u064A] LT',nextWeek:'dddd [\u0627\u06B3\u064A\u0646 \u0647\u0641\u062A\u064A \u062A\u064A] LT',lastDay:'[\u06AA\u0627\u0644\u0647\u0647] LT',lastWeek:'[\u06AF\u0632\u0631\u064A\u0644 \u0647\u0641\u062A\u064A] dddd [\u062A\u064A] LT',sameElse:'L'},relativeTime:{future:'%s \u067E\u0648\u0621',past:'%s \u0627\u06B3',s:'\u0686\u0646\u062F \u0633\u064A\u06AA\u0646\u068A',m:'\u0647\u06AA \u0645\u0646\u067D',mm:'%d \u0645\u0646\u067D',h:'\u0647\u06AA \u06AA\u0644\u0627\u06AA',hh:'%d \u06AA\u0644\u0627\u06AA',d:'\u0647\u06AA \u068F\u064A\u0646\u0647\u0646',dd:'%d \u068F\u064A\u0646\u0647\u0646',M:'\u0647\u06AA \u0645\u0647\u064A\u0646\u0648',MM:'%d \u0645\u0647\u064A\u0646\u0627',y:'\u0647\u06AA \u0633\u0627\u0644',yy:'%d \u0633\u0627\u0644'},preparse:function(sl){return sl.replace(//g,',')},postformat:function(sl){return sl.replace(/,/g,'\u060C')},week:{dow:1,doy:4}}),A.defineLocale('se',{months:'o\u0111\u0111ajagem\xE1nnu_guovvam\xE1nnu_njuk\u010Dam\xE1nnu_cuo\u014Bom\xE1nnu_miessem\xE1nnu_geassem\xE1nnu_suoidnem\xE1nnu_borgem\xE1nnu_\u010Dak\u010Dam\xE1nnu_golggotm\xE1nnu_sk\xE1bmam\xE1nnu_juovlam\xE1nnu'.split('_'),monthsShort:'o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010Dak\u010D_golg_sk\xE1b_juov'.split('_'),weekdays:'sotnabeaivi_vuoss\xE1rga_ma\u014B\u014Beb\xE1rga_gaskavahkku_duorastat_bearjadat_l\xE1vvardat'.split('_'),weekdaysShort:'sotn_vuos_ma\u014B_gask_duor_bear_l\xE1v'.split('_'),weekdaysMin:'s_v_m_g_d_b_L'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'MMMM D. [b.] YYYY',LLL:'MMMM D. [b.] YYYY [ti.] HH:mm',LLLL:'dddd, MMMM D. [b.] YYYY [ti.] HH:mm'},calendar:{sameDay:'[otne ti] LT',nextDay:'[ihttin ti] LT',nextWeek:'dddd [ti] LT',lastDay:'[ikte ti] LT',lastWeek:'[ovddit] dddd [ti] LT',sameElse:'L'},relativeTime:{future:'%s gea\u017Ees',past:'ma\u014Bit %s',s:'moadde sekunddat',m:'okta minuhta',mm:'%d minuhtat',h:'okta diimmu',hh:'%d diimmut',d:'okta beaivi',dd:'%d beaivvit',M:'okta m\xE1nnu',MM:'%d m\xE1nut',y:'okta jahki',yy:'%d jagit'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('si',{months:'\u0DA2\u0DB1\u0DC0\u0DCF\u0DBB\u0DD2_\u0DB4\u0DD9\u0DB6\u0DBB\u0DC0\u0DCF\u0DBB\u0DD2_\u0DB8\u0DCF\u0DBB\u0DCA\u0DAD\u0DD4_\u0D85\u0DB4\u0DCA\u200D\u0DBB\u0DDA\u0DBD\u0DCA_\u0DB8\u0DD0\u0DBA\u0DD2_\u0DA2\u0DD6\u0DB1\u0DD2_\u0DA2\u0DD6\u0DBD\u0DD2_\u0D85\u0D9C\u0DDD\u0DC3\u0DCA\u0DAD\u0DD4_\u0DC3\u0DD0\u0DB4\u0DCA\u0DAD\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA_\u0D94\u0D9A\u0DCA\u0DAD\u0DDD\u0DB6\u0DBB\u0DCA_\u0DB1\u0DDC\u0DC0\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA_\u0DAF\u0DD9\u0DC3\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA'.split('_'),monthsShort:'\u0DA2\u0DB1_\u0DB4\u0DD9\u0DB6_\u0DB8\u0DCF\u0DBB\u0DCA_\u0D85\u0DB4\u0DCA_\u0DB8\u0DD0\u0DBA\u0DD2_\u0DA2\u0DD6\u0DB1\u0DD2_\u0DA2\u0DD6\u0DBD\u0DD2_\u0D85\u0D9C\u0DDD_\u0DC3\u0DD0\u0DB4\u0DCA_\u0D94\u0D9A\u0DCA_\u0DB1\u0DDC\u0DC0\u0DD0_\u0DAF\u0DD9\u0DC3\u0DD0'.split('_'),weekdays:'\u0D89\u0DBB\u0DD2\u0DAF\u0DCF_\u0DC3\u0DB3\u0DD4\u0DAF\u0DCF_\u0D85\u0D9F\u0DC4\u0DBB\u0DD4\u0DC0\u0DCF\u0DAF\u0DCF_\u0DB6\u0DAF\u0DCF\u0DAF\u0DCF_\u0DB6\u0DCA\u200D\u0DBB\u0DC4\u0DC3\u0DCA\u0DB4\u0DAD\u0DD2\u0DB1\u0DCA\u0DAF\u0DCF_\u0DC3\u0DD2\u0D9A\u0DD4\u0DBB\u0DCF\u0DAF\u0DCF_\u0DC3\u0DD9\u0DB1\u0DC3\u0DD4\u0DBB\u0DCF\u0DAF\u0DCF'.split('_'),weekdaysShort:'\u0D89\u0DBB\u0DD2_\u0DC3\u0DB3\u0DD4_\u0D85\u0D9F_\u0DB6\u0DAF\u0DCF_\u0DB6\u0DCA\u200D\u0DBB\u0DC4_\u0DC3\u0DD2\u0D9A\u0DD4_\u0DC3\u0DD9\u0DB1'.split('_'),weekdaysMin:'\u0D89_\u0DC3_\u0D85_\u0DB6_\u0DB6\u0DCA\u200D\u0DBB_\u0DC3\u0DD2_\u0DC3\u0DD9'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'a h:mm',LTS:'a h:mm:ss',L:'YYYY/MM/DD',LL:'YYYY MMMM D',LLL:'YYYY MMMM D, a h:mm',LLLL:'YYYY MMMM D [\u0DC0\u0DD0\u0DB1\u0DD2] dddd, a h:mm:ss'},calendar:{sameDay:'[\u0D85\u0DAF] LT[\u0DA7]',nextDay:'[\u0DC4\u0DD9\u0DA7] LT[\u0DA7]',nextWeek:'dddd LT[\u0DA7]',lastDay:'[\u0D8A\u0DBA\u0DDA] LT[\u0DA7]',lastWeek:'[\u0DB4\u0DC3\u0DD4\u0D9C\u0DD2\u0DBA] dddd LT[\u0DA7]',sameElse:'L'},relativeTime:{future:'%s\u0D9A\u0DD2\u0DB1\u0DCA',past:'%s\u0D9A\u0DA7 \u0DB4\u0DD9\u0DBB',s:'\u0DAD\u0DAD\u0DCA\u0DB4\u0DBB \u0D9A\u0DD2\u0DC4\u0DD2\u0DB4\u0DBA',m:'\u0DB8\u0DD2\u0DB1\u0DD2\u0DAD\u0DCA\u0DAD\u0DD4\u0DC0',mm:'\u0DB8\u0DD2\u0DB1\u0DD2\u0DAD\u0DCA\u0DAD\u0DD4 %d',h:'\u0DB4\u0DD0\u0DBA',hh:'\u0DB4\u0DD0\u0DBA %d',d:'\u0DAF\u0DD2\u0DB1\u0DBA',dd:'\u0DAF\u0DD2\u0DB1 %d',M:'\u0DB8\u0DCF\u0DC3\u0DBA',MM:'\u0DB8\u0DCF\u0DC3 %d',y:'\u0DC0\u0DC3\u0DBB',yy:'\u0DC0\u0DC3\u0DBB %d'},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(sl){return sl+' \u0DC0\u0DD0\u0DB1\u0DD2'},meridiemParse:/ | |.|../,isPM:function(sl){return'\u0DB4.\u0DC0.'===sl||'\u0DB4\u0DC3\u0DCA \u0DC0\u0DBB\u0DD4'===sl},meridiem:function(sl,dl,il){return 11<sl?il?'\u0DB4.\u0DC0.':'\u0DB4\u0DC3\u0DCA \u0DC0\u0DBB\u0DD4':il?'\u0DB4\u0DD9.\u0DC0.':'\u0DB4\u0DD9\u0DBB \u0DC0\u0DBB\u0DD4'}});var Vo='janu\xE1r_febru\xE1r_marec_apr\xEDl_m\xE1j_j\xFAn_j\xFAl_august_september_okt\xF3ber_november_december'.split('_'),Go='jan_feb_mar_apr_m\xE1j_j\xFAn_j\xFAl_aug_sep_okt_nov_dec'.split('_');A.defineLocale('sk',{months:Vo,monthsShort:Go,weekdays:'nede\u013Ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota'.split('_'),weekdaysShort:'ne_po_ut_st_\u0161t_pi_so'.split('_'),weekdaysMin:'ne_po_ut_st_\u0161t_pi_so'.split('_'),longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd D. MMMM YYYY H:mm'},calendar:{sameDay:'[dnes o] LT',nextDay:'[zajtra o] LT',nextWeek:function(){switch(this.day()){case 0:return'[v nede\u013Eu o] LT';case 1:case 2:return'[v] dddd [o] LT';case 3:return'[v stredu o] LT';case 4:return'[vo \u0161tvrtok o] LT';case 5:return'[v piatok o] LT';case 6:return'[v sobotu o] LT';}},lastDay:'[v\u010Dera o] LT',lastWeek:function(){switch(this.day()){case 0:return'[minul\xFA nede\u013Eu o] LT';case 1:case 2:return'[minul\xFD] dddd [o] LT';case 3:return'[minul\xFA stredu o] LT';case 4:case 5:return'[minul\xFD] dddd [o] LT';case 6:return'[minul\xFA sobotu o] LT';}},sameElse:'L'},relativeTime:{future:'za %s',past:'pred %s',s:ld,m:ld,mm:ld,h:ld,hh:ld,d:ld,dd:ld,M:ld,MM:ld,y:ld,yy:ld},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('sl',{months:'januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december'.split('_'),monthsShort:'jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.'.split('_'),monthsParseExact:!0,weekdays:'nedelja_ponedeljek_torek_sreda_\u010Detrtek_petek_sobota'.split('_'),weekdaysShort:'ned._pon._tor._sre._\u010Det._pet._sob.'.split('_'),weekdaysMin:'ne_po_to_sr_\u010De_pe_so'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[danes ob] LT',nextDay:'[jutri ob] LT',nextWeek:function(){switch(this.day()){case 0:return'[v] [nedeljo] [ob] LT';case 3:return'[v] [sredo] [ob] LT';case 6:return'[v] [soboto] [ob] LT';case 1:case 2:case 4:case 5:return'[v] dddd [ob] LT';}},lastDay:'[v\u010Deraj ob] LT',lastWeek:function(){switch(this.day()){case 0:return'[prej\u0161njo] [nedeljo] [ob] LT';case 3:return'[prej\u0161njo] [sredo] [ob] LT';case 6:return'[prej\u0161njo] [soboto] [ob] LT';case 1:case 2:case 4:case 5:return'[prej\u0161nji] dddd [ob] LT';}},sameElse:'L'},relativeTime:{future:'\u010Dez %s',past:'pred %s',s:ud,m:ud,mm:ud,h:ud,hh:ud,d:ud,dd:ud,M:ud,MM:ud,y:ud,yy:ud},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}}),A.defineLocale('sq',{months:'Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xEBntor_Dhjetor'.split('_'),monthsShort:'Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xEBn_Dhj'.split('_'),weekdays:'E Diel_E H\xEBn\xEB_E Mart\xEB_E M\xEBrkur\xEB_E Enjte_E Premte_E Shtun\xEB'.split('_'),weekdaysShort:'Die_H\xEBn_Mar_M\xEBr_Enj_Pre_Sht'.split('_'),weekdaysMin:'D_H_Ma_M\xEB_E_P_Sh'.split('_'),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(sl){return'M'===sl.charAt(0)},meridiem:function(sl){return 12>sl?'PD':'MD'},longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Sot n\xEB] LT',nextDay:'[Nes\xEBr n\xEB] LT',nextWeek:'dddd [n\xEB] LT',lastDay:'[Dje n\xEB] LT',lastWeek:'dddd [e kaluar n\xEB] LT',sameElse:'L'},relativeTime:{future:'n\xEB %s',past:'%s m\xEB par\xEB',s:'disa sekonda',m:'nj\xEB minut\xEB',mm:'%d minuta',h:'nj\xEB or\xEB',hh:'%d or\xEB',d:'nj\xEB dit\xEB',dd:'%d dit\xEB',M:'nj\xEB muaj',MM:'%d muaj',y:'nj\xEB vit',yy:'%d vite'},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}});var $o={words:{m:['\u0458\u0435\u0434\u0430\u043D \u043C\u0438\u043D\u0443\u0442','\u0458\u0435\u0434\u043D\u0435 \u043C\u0438\u043D\u0443\u0442\u0435'],mm:['\u043C\u0438\u043D\u0443\u0442','\u043C\u0438\u043D\u0443\u0442\u0435','\u043C\u0438\u043D\u0443\u0442\u0430'],h:['\u0458\u0435\u0434\u0430\u043D \u0441\u0430\u0442','\u0458\u0435\u0434\u043D\u043E\u0433 \u0441\u0430\u0442\u0430'],hh:['\u0441\u0430\u0442','\u0441\u0430\u0442\u0430','\u0441\u0430\u0442\u0438'],dd:['\u0434\u0430\u043D','\u0434\u0430\u043D\u0430','\u0434\u0430\u043D\u0430'],MM:['\u043C\u0435\u0441\u0435\u0446','\u043C\u0435\u0441\u0435\u0446\u0430','\u043C\u0435\u0441\u0435\u0446\u0438'],yy:['\u0433\u043E\u0434\u0438\u043D\u0430','\u0433\u043E\u0434\u0438\u043D\u0435','\u0433\u043E\u0434\u0438\u043D\u0430']},correctGrammaticalCase:function(sl,dl){return 1===sl?dl[0]:2<=sl&&4>=sl?dl[1]:dl[2]},translate:function(sl,dl,il){var rl=$o.words[il];return 1===il.length?dl?rl[0]:rl[1]:sl+' '+$o.correctGrammaticalCase(sl,rl)}};A.defineLocale('sr-cyrl',{months:'\u0458\u0430\u043D\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0438\u043B_\u043C\u0430\u0458_\u0458\u0443\u043D_\u0458\u0443\u043B_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043F\u0442\u0435\u043C\u0431\u0430\u0440_\u043E\u043A\u0442\u043E\u0431\u0430\u0440_\u043D\u043E\u0432\u0435\u043C\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043C\u0431\u0430\u0440'.split('_'),monthsShort:'\u0458\u0430\u043D._\u0444\u0435\u0431._\u043C\u0430\u0440._\u0430\u043F\u0440._\u043C\u0430\u0458_\u0458\u0443\u043D_\u0458\u0443\u043B_\u0430\u0432\u0433._\u0441\u0435\u043F._\u043E\u043A\u0442._\u043D\u043E\u0432._\u0434\u0435\u0446.'.split('_'),monthsParseExact:!0,weekdays:'\u043D\u0435\u0434\u0435\u0459\u0430_\u043F\u043E\u043D\u0435\u0434\u0435\u0459\u0430\u043A_\u0443\u0442\u043E\u0440\u0430\u043A_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043A_\u043F\u0435\u0442\u0430\u043A_\u0441\u0443\u0431\u043E\u0442\u0430'.split('_'),weekdaysShort:'\u043D\u0435\u0434._\u043F\u043E\u043D._\u0443\u0442\u043E._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043F\u0435\u0442._\u0441\u0443\u0431.'.split('_'),weekdaysMin:'\u043D\u0435_\u043F\u043E_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043F\u0435_\u0441\u0443'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[\u0434\u0430\u043D\u0430\u0441 \u0443] LT',nextDay:'[\u0441\u0443\u0442\u0440\u0430 \u0443] LT',nextWeek:function(){switch(this.day()){case 0:return'[\u0443] [\u043D\u0435\u0434\u0435\u0459\u0443] [\u0443] LT';case 3:return'[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT';case 6:return'[\u0443] [\u0441\u0443\u0431\u043E\u0442\u0443] [\u0443] LT';case 1:case 2:case 4:case 5:return'[\u0443] dddd [\u0443] LT';}},lastDay:'[\u0458\u0443\u0447\u0435 \u0443] LT',lastWeek:function(){return['[\u043F\u0440\u043E\u0448\u043B\u0435] [\u043D\u0435\u0434\u0435\u0459\u0435] [\u0443] LT','[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u043F\u043E\u043D\u0435\u0434\u0435\u0459\u043A\u0430] [\u0443] LT','[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u0443\u0442\u043E\u0440\u043A\u0430] [\u0443] LT','[\u043F\u0440\u043E\u0448\u043B\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT','[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043A\u0430] [\u0443] LT','[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u043F\u0435\u0442\u043A\u0430] [\u0443] LT','[\u043F\u0440\u043E\u0448\u043B\u0435] [\u0441\u0443\u0431\u043E\u0442\u0435] [\u0443] LT'][this.day()]},sameElse:'L'},relativeTime:{future:'\u0437\u0430 %s',past:'\u043F\u0440\u0435 %s',s:'\u043D\u0435\u043A\u043E\u043B\u0438\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434\u0438',m:$o.translate,mm:$o.translate,h:$o.translate,hh:$o.translate,d:'\u0434\u0430\u043D',dd:$o.translate,M:'\u043C\u0435\u0441\u0435\u0446',MM:$o.translate,y:'\u0433\u043E\u0434\u0438\u043D\u0443',yy:$o.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}});var Ko={words:{m:['jedan minut','jedne minute'],mm:['minut','minute','minuta'],h:['jedan sat','jednog sata'],hh:['sat','sata','sati'],dd:['dan','dana','dana'],MM:['mesec','meseca','meseci'],yy:['godina','godine','godina']},correctGrammaticalCase:function(sl,dl){return 1===sl?dl[0]:2<=sl&&4>=sl?dl[1]:dl[2]},translate:function(sl,dl,il){var rl=Ko.words[il];return 1===il.length?dl?rl[0]:rl[1]:sl+' '+Ko.correctGrammaticalCase(sl,rl)}};A.defineLocale('sr',{months:'januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar'.split('_'),monthsShort:'jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.'.split('_'),monthsParseExact:!0,weekdays:'nedelja_ponedeljak_utorak_sreda_\u010Detvrtak_petak_subota'.split('_'),weekdaysShort:'ned._pon._uto._sre._\u010Det._pet._sub.'.split('_'),weekdaysMin:'ne_po_ut_sr_\u010De_pe_su'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD.MM.YYYY',LL:'D. MMMM YYYY',LLL:'D. MMMM YYYY H:mm',LLLL:'dddd, D. MMMM YYYY H:mm'},calendar:{sameDay:'[danas u] LT',nextDay:'[sutra u] LT',nextWeek:function(){switch(this.day()){case 0:return'[u] [nedelju] [u] LT';case 3:return'[u] [sredu] [u] LT';case 6:return'[u] [subotu] [u] LT';case 1:case 2:case 4:case 5:return'[u] dddd [u] LT';}},lastDay:'[ju\u010De u] LT',lastWeek:function(){return['[pro\u0161le] [nedelje] [u] LT','[pro\u0161log] [ponedeljka] [u] LT','[pro\u0161log] [utorka] [u] LT','[pro\u0161le] [srede] [u] LT','[pro\u0161log] [\u010Detvrtka] [u] LT','[pro\u0161log] [petka] [u] LT','[pro\u0161le] [subote] [u] LT'][this.day()]},sameElse:'L'},relativeTime:{future:'za %s',past:'pre %s',s:'nekoliko sekundi',m:Ko.translate,mm:Ko.translate,h:Ko.translate,hh:Ko.translate,d:'dan',dd:Ko.translate,M:'mesec',MM:Ko.translate,y:'godinu',yy:Ko.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:7}}),A.defineLocale('ss',{months:'Bhimbidvwane_Indlovana_Indlov\'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni'.split('_'),monthsShort:'Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo'.split('_'),weekdays:'Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo'.split('_'),weekdaysShort:'Lis_Umb_Lsb_Les_Lsi_Lsh_Umg'.split('_'),weekdaysMin:'Li_Us_Lb_Lt_Ls_Lh_Ug'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY h:mm A',LLLL:'dddd, D MMMM YYYY h:mm A'},calendar:{sameDay:'[Namuhla nga] LT',nextDay:'[Kusasa nga] LT',nextWeek:'dddd [nga] LT',lastDay:'[Itolo nga] LT',lastWeek:'dddd [leliphelile] [nga] LT',sameElse:'L'},relativeTime:{future:'nga %s',past:'wenteka nga %s',s:'emizuzwana lomcane',m:'umzuzu',mm:'%d emizuzu',h:'lihora',hh:'%d emahora',d:'lilanga',dd:'%d emalanga',M:'inyanga',MM:'%d tinyanga',y:'umnyaka',yy:'%d iminyaka'},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(sl){return 11>sl?'ekuseni':15>sl?'emini':19>sl?'entsambama':'ebusuku'},meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'ekuseni'===dl)?sl:'emini'===dl?11<=sl?sl:sl+12:'entsambama'===dl||'ebusuku'===dl?0===sl?0:sl+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d',week:{dow:1,doy:4}}),A.defineLocale('sv',{months:'januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december'.split('_'),monthsShort:'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),weekdays:'s\xF6ndag_m\xE5ndag_tisdag_onsdag_torsdag_fredag_l\xF6rdag'.split('_'),weekdaysShort:'s\xF6n_m\xE5n_tis_ons_tor_fre_l\xF6r'.split('_'),weekdaysMin:'s\xF6_m\xE5_ti_on_to_fr_l\xF6'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY-MM-DD',LL:'D MMMM YYYY',LLL:'D MMMM YYYY [kl.] HH:mm',LLLL:'dddd D MMMM YYYY [kl.] HH:mm',lll:'D MMM YYYY HH:mm',llll:'ddd D MMM YYYY HH:mm'},calendar:{sameDay:'[Idag] LT',nextDay:'[Imorgon] LT',lastDay:'[Ig\xE5r] LT',nextWeek:'[P\xE5] dddd LT',lastWeek:'[I] dddd[s] LT',sameElse:'L'},relativeTime:{future:'om %s',past:'f\xF6r %s sedan',s:'n\xE5gra sekunder',m:'en minut',mm:'%d minuter',h:'en timme',hh:'%d timmar',d:'en dag',dd:'%d dagar',M:'en m\xE5nad',MM:'%d m\xE5nader',y:'ett \xE5r',yy:'%d \xE5r'},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'e':1==dl?'a':2==dl?'a':3==dl?'e':'e';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('sw',{months:'Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba'.split('_'),monthsShort:'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des'.split('_'),weekdays:'Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi'.split('_'),weekdaysShort:'Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos'.split('_'),weekdaysMin:'J2_J3_J4_J5_Al_Ij_J1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[leo saa] LT',nextDay:'[kesho saa] LT',nextWeek:'[wiki ijayo] dddd [saat] LT',lastDay:'[jana] LT',lastWeek:'[wiki iliyopita] dddd [saat] LT',sameElse:'L'},relativeTime:{future:'%s baadaye',past:'tokea %s',s:'hivi punde',m:'dakika moja',mm:'dakika %d',h:'saa limoja',hh:'masaa %d',d:'siku moja',dd:'masiku %d',M:'mwezi mmoja',MM:'miezi %d',y:'mwaka mmoja',yy:'miaka %d'},week:{dow:1,doy:7}});var Xo={0:'\u0BE6',1:'\u0BE7',2:'\u0BE8',3:'\u0BE9',4:'\u0BEA',5:'\u0BEB',6:'\u0BEC',7:'\u0BED',8:'\u0BEE',9:'\u0BEF'},Qo={"":'1',"":'2',"":'3',"":'4',"":'5',"":'6',"":'7',"":'8',"":'9',"":'0'};A.defineLocale('ta',{months:'\u0B9C\u0BA9\u0BB5\u0BB0\u0BBF_\u0BAA\u0BBF\u0BAA\u0BCD\u0BB0\u0BB5\u0BB0\u0BBF_\u0BAE\u0BBE\u0BB0\u0BCD\u0B9A\u0BCD_\u0B8F\u0BAA\u0BCD\u0BB0\u0BB2\u0BCD_\u0BAE\u0BC7_\u0B9C\u0BC2\u0BA9\u0BCD_\u0B9C\u0BC2\u0BB2\u0BC8_\u0B86\u0B95\u0BB8\u0BCD\u0B9F\u0BCD_\u0B9A\u0BC6\u0BAA\u0BCD\u0B9F\u0BC6\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD_\u0B85\u0B95\u0BCD\u0B9F\u0BC7\u0BBE\u0BAA\u0BB0\u0BCD_\u0BA8\u0BB5\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD_\u0B9F\u0BBF\u0B9A\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD'.split('_'),monthsShort:'\u0B9C\u0BA9\u0BB5\u0BB0\u0BBF_\u0BAA\u0BBF\u0BAA\u0BCD\u0BB0\u0BB5\u0BB0\u0BBF_\u0BAE\u0BBE\u0BB0\u0BCD\u0B9A\u0BCD_\u0B8F\u0BAA\u0BCD\u0BB0\u0BB2\u0BCD_\u0BAE\u0BC7_\u0B9C\u0BC2\u0BA9\u0BCD_\u0B9C\u0BC2\u0BB2\u0BC8_\u0B86\u0B95\u0BB8\u0BCD\u0B9F\u0BCD_\u0B9A\u0BC6\u0BAA\u0BCD\u0B9F\u0BC6\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD_\u0B85\u0B95\u0BCD\u0B9F\u0BC7\u0BBE\u0BAA\u0BB0\u0BCD_\u0BA8\u0BB5\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD_\u0B9F\u0BBF\u0B9A\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD'.split('_'),weekdays:'\u0B9E\u0BBE\u0BAF\u0BBF\u0BB1\u0BCD\u0BB1\u0BC1\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8_\u0BA4\u0BBF\u0B99\u0BCD\u0B95\u0B9F\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8_\u0B9A\u0BC6\u0BB5\u0BCD\u0BB5\u0BBE\u0BAF\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8_\u0BAA\u0BC1\u0BA4\u0BA9\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8_\u0BB5\u0BBF\u0BAF\u0BBE\u0BB4\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8_\u0BB5\u0BC6\u0BB3\u0BCD\u0BB3\u0BBF\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8_\u0B9A\u0BA9\u0BBF\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8'.split('_'),weekdaysShort:'\u0B9E\u0BBE\u0BAF\u0BBF\u0BB1\u0BC1_\u0BA4\u0BBF\u0B99\u0BCD\u0B95\u0BB3\u0BCD_\u0B9A\u0BC6\u0BB5\u0BCD\u0BB5\u0BBE\u0BAF\u0BCD_\u0BAA\u0BC1\u0BA4\u0BA9\u0BCD_\u0BB5\u0BBF\u0BAF\u0BBE\u0BB4\u0BA9\u0BCD_\u0BB5\u0BC6\u0BB3\u0BCD\u0BB3\u0BBF_\u0B9A\u0BA9\u0BBF'.split('_'),weekdaysMin:'\u0B9E\u0BBE_\u0BA4\u0BBF_\u0B9A\u0BC6_\u0BAA\u0BC1_\u0BB5\u0BBF_\u0BB5\u0BC6_\u0B9A'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, HH:mm',LLLL:'dddd, D MMMM YYYY, HH:mm'},calendar:{sameDay:'[\u0B87\u0BA9\u0BCD\u0BB1\u0BC1] LT',nextDay:'[\u0BA8\u0BBE\u0BB3\u0BC8] LT',nextWeek:'dddd, LT',lastDay:'[\u0BA8\u0BC7\u0BB1\u0BCD\u0BB1\u0BC1] LT',lastWeek:'[\u0B95\u0B9F\u0BA8\u0BCD\u0BA4 \u0BB5\u0BBE\u0BB0\u0BAE\u0BCD] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u0B87\u0BB2\u0BCD',past:'%s \u0BAE\u0BC1\u0BA9\u0BCD',s:'\u0B92\u0BB0\u0BC1 \u0B9A\u0BBF\u0BB2 \u0BB5\u0BBF\u0BA8\u0BBE\u0B9F\u0BBF\u0B95\u0BB3\u0BCD',m:'\u0B92\u0BB0\u0BC1 \u0BA8\u0BBF\u0BAE\u0BBF\u0B9F\u0BAE\u0BCD',mm:'%d \u0BA8\u0BBF\u0BAE\u0BBF\u0B9F\u0B99\u0BCD\u0B95\u0BB3\u0BCD',h:'\u0B92\u0BB0\u0BC1 \u0BAE\u0BA3\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD',hh:'%d \u0BAE\u0BA3\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD',d:'\u0B92\u0BB0\u0BC1 \u0BA8\u0BBE\u0BB3\u0BCD',dd:'%d \u0BA8\u0BBE\u0B9F\u0BCD\u0B95\u0BB3\u0BCD',M:'\u0B92\u0BB0\u0BC1 \u0BAE\u0BBE\u0BA4\u0BAE\u0BCD',MM:'%d \u0BAE\u0BBE\u0BA4\u0B99\u0BCD\u0B95\u0BB3\u0BCD',y:'\u0B92\u0BB0\u0BC1 \u0BB5\u0BB0\u0BC1\u0B9F\u0BAE\u0BCD',yy:'%d \u0B86\u0BA3\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(sl){return sl+'\u0BB5\u0BA4\u0BC1'},preparse:function(sl){return sl.replace(/[]/g,function(dl){return Qo[dl]})},postformat:function(sl){return sl.replace(/\d/g,function(dl){return Xo[dl]})},meridiemParse:/|||||/,meridiem:function(sl){return 2>sl?' \u0BAF\u0BBE\u0BAE\u0BAE\u0BCD':6>sl?' \u0BB5\u0BC8\u0B95\u0BB1\u0BC8':10>sl?' \u0B95\u0BBE\u0BB2\u0BC8':14>sl?' \u0BA8\u0BA3\u0BCD\u0BAA\u0B95\u0BB2\u0BCD':18>sl?' \u0B8E\u0BB1\u0BCD\u0BAA\u0BBE\u0B9F\u0BC1':22>sl?' \u0BAE\u0BBE\u0BB2\u0BC8':' \u0BAF\u0BBE\u0BAE\u0BAE\u0BCD'},meridiemHour:function(sl,dl){return 12===sl&&(sl=0),'\u0BAF\u0BBE\u0BAE\u0BAE\u0BCD'===dl?2>sl?sl:sl+12:'\u0BB5\u0BC8\u0B95\u0BB1\u0BC8'===dl||'\u0B95\u0BBE\u0BB2\u0BC8'===dl?sl:'\u0BA8\u0BA3\u0BCD\u0BAA\u0B95\u0BB2\u0BCD'===dl?10<=sl?sl:sl+12:sl+12},week:{dow:0,doy:6}}),A.defineLocale('te',{months:'\u0C1C\u0C28\u0C35\u0C30\u0C3F_\u0C2B\u0C3F\u0C2C\u0C4D\u0C30\u0C35\u0C30\u0C3F_\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C3F_\u0C0F\u0C2A\u0C4D\u0C30\u0C3F\u0C32\u0C4D_\u0C2E\u0C47_\u0C1C\u0C42\u0C28\u0C4D_\u0C1C\u0C42\u0C32\u0C46\u0C56_\u0C06\u0C17\u0C38\u0C4D\u0C1F\u0C41_\u0C38\u0C46\u0C2A\u0C4D\u0C1F\u0C46\u0C02\u0C2C\u0C30\u0C4D_\u0C05\u0C15\u0C4D\u0C1F\u0C4B\u0C2C\u0C30\u0C4D_\u0C28\u0C35\u0C02\u0C2C\u0C30\u0C4D_\u0C21\u0C3F\u0C38\u0C46\u0C02\u0C2C\u0C30\u0C4D'.split('_'),monthsShort:'\u0C1C\u0C28._\u0C2B\u0C3F\u0C2C\u0C4D\u0C30._\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C3F_\u0C0F\u0C2A\u0C4D\u0C30\u0C3F._\u0C2E\u0C47_\u0C1C\u0C42\u0C28\u0C4D_\u0C1C\u0C42\u0C32\u0C46\u0C56_\u0C06\u0C17._\u0C38\u0C46\u0C2A\u0C4D._\u0C05\u0C15\u0C4D\u0C1F\u0C4B._\u0C28\u0C35._\u0C21\u0C3F\u0C38\u0C46.'.split('_'),monthsParseExact:!0,weekdays:'\u0C06\u0C26\u0C3F\u0C35\u0C3E\u0C30\u0C02_\u0C38\u0C4B\u0C2E\u0C35\u0C3E\u0C30\u0C02_\u0C2E\u0C02\u0C17\u0C33\u0C35\u0C3E\u0C30\u0C02_\u0C2C\u0C41\u0C27\u0C35\u0C3E\u0C30\u0C02_\u0C17\u0C41\u0C30\u0C41\u0C35\u0C3E\u0C30\u0C02_\u0C36\u0C41\u0C15\u0C4D\u0C30\u0C35\u0C3E\u0C30\u0C02_\u0C36\u0C28\u0C3F\u0C35\u0C3E\u0C30\u0C02'.split('_'),weekdaysShort:'\u0C06\u0C26\u0C3F_\u0C38\u0C4B\u0C2E_\u0C2E\u0C02\u0C17\u0C33_\u0C2C\u0C41\u0C27_\u0C17\u0C41\u0C30\u0C41_\u0C36\u0C41\u0C15\u0C4D\u0C30_\u0C36\u0C28\u0C3F'.split('_'),weekdaysMin:'\u0C06_\u0C38\u0C4B_\u0C2E\u0C02_\u0C2C\u0C41_\u0C17\u0C41_\u0C36\u0C41_\u0C36'.split('_'),longDateFormat:{LT:'A h:mm',LTS:'A h:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY, A h:mm',LLLL:'dddd, D MMMM YYYY, A h:mm'},calendar:{sameDay:'[\u0C28\u0C47\u0C21\u0C41] LT',nextDay:'[\u0C30\u0C47\u0C2A\u0C41] LT',nextWeek:'dddd, LT',lastDay:'[\u0C28\u0C3F\u0C28\u0C4D\u0C28] LT',lastWeek:'[\u0C17\u0C24] dddd, LT',sameElse:'L'},relativeTime:{future:'%s \u0C32\u0C4B',past:'%s \u0C15\u0C4D\u0C30\u0C3F\u0C24\u0C02',s:'\u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C3F \u0C15\u0C4D\u0C37\u0C23\u0C3E\u0C32\u0C41',m:'\u0C12\u0C15 \u0C28\u0C3F\u0C2E\u0C3F\u0C37\u0C02',mm:'%d \u0C28\u0C3F\u0C2E\u0C3F\u0C37\u0C3E\u0C32\u0C41',h:'\u0C12\u0C15 \u0C17\u0C02\u0C1F',hh:'%d \u0C17\u0C02\u0C1F\u0C32\u0C41',d:'\u0C12\u0C15 \u0C30\u0C4B\u0C1C\u0C41',dd:'%d \u0C30\u0C4B\u0C1C\u0C41\u0C32\u0C41',M:'\u0C12\u0C15 \u0C28\u0C46\u0C32',MM:'%d \u0C28\u0C46\u0C32\u0C32\u0C41',y:'\u0C12\u0C15 \u0C38\u0C02\u0C35\u0C24\u0C4D\u0C38\u0C30\u0C02',yy:'%d \u0C38\u0C02\u0C35\u0C24\u0C4D\u0C38\u0C30\u0C3E\u0C32\u0C41'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:'%d\u0C35',meridiemParse:/|||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F'===dl)?4>sl?sl:sl+12:'\u0C09\u0C26\u0C2F\u0C02'===dl?sl:'\u0C2E\u0C27\u0C4D\u0C2F\u0C3E\u0C39\u0C4D\u0C28\u0C02'===dl?10<=sl?sl:sl+12:'\u0C38\u0C3E\u0C2F\u0C02\u0C24\u0C4D\u0C30\u0C02'===dl?sl+12:void 0},meridiem:function(sl){return 4>sl?'\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F':10>sl?'\u0C09\u0C26\u0C2F\u0C02':17>sl?'\u0C2E\u0C27\u0C4D\u0C2F\u0C3E\u0C39\u0C4D\u0C28\u0C02':20>sl?'\u0C38\u0C3E\u0C2F\u0C02\u0C24\u0C4D\u0C30\u0C02':'\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F'},week:{dow:0,doy:6}}),A.defineLocale('tet',{months:'Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru'.split('_'),monthsShort:'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez'.split('_'),weekdays:'Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu'.split('_'),weekdaysShort:'Dom_Seg_Ters_Kua_Kint_Sext_Sab'.split('_'),weekdaysMin:'Do_Seg_Te_Ku_Ki_Sex_Sa'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[Ohin iha] LT',nextDay:'[Aban iha] LT',nextWeek:'dddd [iha] LT',lastDay:'[Horiseik iha] LT',lastWeek:'dddd [semana kotuk] [iha] LT',sameElse:'L'},relativeTime:{future:'iha %s',past:'%s liuba',s:'minutu balun',m:'minutu ida',mm:'minutus %d',h:'horas ida',hh:'horas %d',d:'loron ida',dd:'loron %d',M:'fulan ida',MM:'fulan %d',y:'tinan ida',yy:'tinan %d'},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('th',{months:'\u0E21\u0E01\u0E23\u0E32\u0E04\u0E21_\u0E01\u0E38\u0E21\u0E20\u0E32\u0E1E\u0E31\u0E19\u0E18\u0E4C_\u0E21\u0E35\u0E19\u0E32\u0E04\u0E21_\u0E40\u0E21\u0E29\u0E32\u0E22\u0E19_\u0E1E\u0E24\u0E29\u0E20\u0E32\u0E04\u0E21_\u0E21\u0E34\u0E16\u0E38\u0E19\u0E32\u0E22\u0E19_\u0E01\u0E23\u0E01\u0E0E\u0E32\u0E04\u0E21_\u0E2A\u0E34\u0E07\u0E2B\u0E32\u0E04\u0E21_\u0E01\u0E31\u0E19\u0E22\u0E32\u0E22\u0E19_\u0E15\u0E38\u0E25\u0E32\u0E04\u0E21_\u0E1E\u0E24\u0E28\u0E08\u0E34\u0E01\u0E32\u0E22\u0E19_\u0E18\u0E31\u0E19\u0E27\u0E32\u0E04\u0E21'.split('_'),monthsShort:'\u0E21.\u0E04._\u0E01.\u0E1E._\u0E21\u0E35.\u0E04._\u0E40\u0E21.\u0E22._\u0E1E.\u0E04._\u0E21\u0E34.\u0E22._\u0E01.\u0E04._\u0E2A.\u0E04._\u0E01.\u0E22._\u0E15.\u0E04._\u0E1E.\u0E22._\u0E18.\u0E04.'.split('_'),monthsParseExact:!0,weekdays:'\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C_\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C_\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23_\u0E1E\u0E38\u0E18_\u0E1E\u0E24\u0E2B\u0E31\u0E2A\u0E1A\u0E14\u0E35_\u0E28\u0E38\u0E01\u0E23\u0E4C_\u0E40\u0E2A\u0E32\u0E23\u0E4C'.split('_'),weekdaysShort:'\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C_\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C_\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23_\u0E1E\u0E38\u0E18_\u0E1E\u0E24\u0E2B\u0E31\u0E2A_\u0E28\u0E38\u0E01\u0E23\u0E4C_\u0E40\u0E2A\u0E32\u0E23\u0E4C'.split('_'),weekdaysMin:'\u0E2D\u0E32._\u0E08._\u0E2D._\u0E1E._\u0E1E\u0E24._\u0E28._\u0E2A.'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'H:mm',LTS:'H:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY \u0E40\u0E27\u0E25\u0E32 H:mm',LLLL:'\u0E27\u0E31\u0E19dddd\u0E17\u0E35\u0E48 D MMMM YYYY \u0E40\u0E27\u0E25\u0E32 H:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0E2B\u0E25\u0E31\u0E07\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07'===sl},meridiem:function(sl){return 12>sl?'\u0E01\u0E48\u0E2D\u0E19\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07':'\u0E2B\u0E25\u0E31\u0E07\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07'},calendar:{sameDay:'[\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT',nextDay:'[\u0E1E\u0E23\u0E38\u0E48\u0E07\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT',nextWeek:'dddd[\u0E2B\u0E19\u0E49\u0E32 \u0E40\u0E27\u0E25\u0E32] LT',lastDay:'[\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E27\u0E32\u0E19\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT',lastWeek:'[\u0E27\u0E31\u0E19]dddd[\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27 \u0E40\u0E27\u0E25\u0E32] LT',sameElse:'L'},relativeTime:{future:'\u0E2D\u0E35\u0E01 %s',past:'%s\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27',s:'\u0E44\u0E21\u0E48\u0E01\u0E35\u0E48\u0E27\u0E34\u0E19\u0E32\u0E17\u0E35',m:'1 \u0E19\u0E32\u0E17\u0E35',mm:'%d \u0E19\u0E32\u0E17\u0E35',h:'1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07',hh:'%d \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07',d:'1 \u0E27\u0E31\u0E19',dd:'%d \u0E27\u0E31\u0E19',M:'1 \u0E40\u0E14\u0E37\u0E2D\u0E19',MM:'%d \u0E40\u0E14\u0E37\u0E2D\u0E19',y:'1 \u0E1B\u0E35',yy:'%d \u0E1B\u0E35'}}),A.defineLocale('tl-ph',{months:'Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre'.split('_'),monthsShort:'Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis'.split('_'),weekdays:'Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado'.split('_'),weekdaysShort:'Lin_Lun_Mar_Miy_Huw_Biy_Sab'.split('_'),weekdaysMin:'Li_Lu_Ma_Mi_Hu_Bi_Sab'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'MM/D/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY HH:mm',LLLL:'dddd, MMMM DD, YYYY HH:mm'},calendar:{sameDay:'LT [ngayong araw]',nextDay:'[Bukas ng] LT',nextWeek:'LT [sa susunod na] dddd',lastDay:'LT [kahapon]',lastWeek:'LT [noong nakaraang] dddd',sameElse:'L'},relativeTime:{future:'sa loob ng %s',past:'%s ang nakalipas',s:'ilang segundo',m:'isang minuto',mm:'%d minuto',h:'isang oras',hh:'%d oras',d:'isang araw',dd:'%d araw',M:'isang buwan',MM:'%d buwan',y:'isang taon',yy:'%d taon'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(sl){return sl},week:{dow:1,doy:4}});var Zo='pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut'.split('_');A.defineLocale('tlh',{months:'tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019'.split('_'),monthsShort:'jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019'.split('_'),monthsParseExact:!0,weekdays:'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),weekdaysShort:'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),weekdaysMin:'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[DaHjaj] LT',nextDay:'[wa\u2019leS] LT',nextWeek:'LLL',lastDay:'[wa\u2019Hu\u2019] LT',lastWeek:'LLL',sameElse:'L'},relativeTime:{future:function(sl){var dl=sl;return dl=-1===sl.indexOf('jaj')?-1===sl.indexOf('jar')?-1===sl.indexOf('DIS')?dl+' pIq':dl.slice(0,-3)+'nem':dl.slice(0,-3)+'waQ':dl.slice(0,-3)+'leS',dl},past:function(sl){var dl=sl;return dl=-1===sl.indexOf('jaj')?-1===sl.indexOf('jar')?-1===sl.indexOf('DIS')?dl+' ret':dl.slice(0,-3)+'ben':dl.slice(0,-3)+'wen':dl.slice(0,-3)+'Hu\u2019',dl},s:'puS lup',m:'wa\u2019 tup',mm:md,h:'wa\u2019 rep',hh:md,d:'wa\u2019 jaj',dd:md,M:'wa\u2019 jar',MM:md,y:'wa\u2019 DIS',yy:md},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}});var tl={1:'\'inci',2:'\'nci',3:'\'\xFCnc\xFC',4:'\'\xFCnc\xFC',5:'\'inci',6:'\'nc\u0131',7:'\'nci',8:'\'inci',9:'\'uncu',10:'\'uncu',20:'\'nci',30:'\'uncu',50:'\'nci',60:'\'\u0131nc\u0131',70:'\'inci',80:'\'inci',90:'\'\u0131nc\u0131',100:'\'\xFCnc\xFC'};A.defineLocale('tr',{months:'Ocak_\u015Eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011Fustos_Eyl\xFCl_Ekim_Kas\u0131m_Aral\u0131k'.split('_'),monthsShort:'Oca_\u015Eub_Mar_Nis_May_Haz_Tem_A\u011Fu_Eyl_Eki_Kas_Ara'.split('_'),weekdays:'Pazar_Pazartesi_Sal\u0131_\xC7ar\u015Famba_Per\u015Fembe_Cuma_Cumartesi'.split('_'),weekdaysShort:'Paz_Pts_Sal_\xC7ar_Per_Cum_Cts'.split('_'),weekdaysMin:'Pz_Pt_Sa_\xC7a_Pe_Cu_Ct'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[bug\xFCn saat] LT',nextDay:'[yar\u0131n saat] LT',nextWeek:'[haftaya] dddd [saat] LT',lastDay:'[d\xFCn] LT',lastWeek:'[ge\xE7en hafta] dddd [saat] LT',sameElse:'L'},relativeTime:{future:'%s sonra',past:'%s \xF6nce',s:'birka\xE7 saniye',m:'bir dakika',mm:'%d dakika',h:'bir saat',hh:'%d saat',d:'bir g\xFCn',dd:'%d g\xFCn',M:'bir ay',MM:'%d ay',y:'bir y\u0131l',yy:'%d y\u0131l'},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(sl){if(0===sl)return sl+'\'\u0131nc\u0131';var dl=sl%10,rl=100<=sl?100:null;return sl+(tl[dl]||tl[sl%100-dl]||tl[rl])},week:{dow:1,doy:7}}),A.defineLocale('tzl',{months:'Januar_Fevraglh_Mar\xE7_Avr\xEFu_Mai_G\xFCn_Julia_Guscht_Setemvar_Listop\xE4ts_Noemvar_Zecemvar'.split('_'),monthsShort:'Jan_Fev_Mar_Avr_Mai_G\xFCn_Jul_Gus_Set_Lis_Noe_Zec'.split('_'),weekdays:'S\xFAladi_L\xFAne\xE7i_Maitzi_M\xE1rcuri_Xh\xFAadi_Vi\xE9ner\xE7i_S\xE1turi'.split('_'),weekdaysShort:'S\xFAl_L\xFAn_Mai_M\xE1r_Xh\xFA_Vi\xE9_S\xE1t'.split('_'),weekdaysMin:'S\xFA_L\xFA_Ma_M\xE1_Xh_Vi_S\xE1'.split('_'),longDateFormat:{LT:'HH.mm',LTS:'HH.mm.ss',L:'DD.MM.YYYY',LL:'D. MMMM [dallas] YYYY',LLL:'D. MMMM [dallas] YYYY HH.mm',LLLL:'dddd, [li] D. MMMM [dallas] YYYY HH.mm'},meridiemParse:/d\'o|d\'a/i,isPM:function(sl){return'd\'o'===sl.toLowerCase()},meridiem:function(sl,dl,il){return 11<sl?il?'d\'o':'D\'O':il?'d\'a':'D\'A'},calendar:{sameDay:'[oxhi \xE0] LT',nextDay:'[dem\xE0 \xE0] LT',nextWeek:'dddd [\xE0] LT',lastDay:'[ieiri \xE0] LT',lastWeek:'[s\xFCr el] dddd [lasteu \xE0] LT',sameElse:'L'},relativeTime:{future:'osprei %s',past:'ja%s',s:gd,m:gd,mm:gd,h:gd,hh:gd,d:gd,dd:gd,M:gd,MM:gd,y:gd,yy:gd},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:'%d.',week:{dow:1,doy:4}}),A.defineLocale('tzm-latn',{months:'innayr_br\u02E4ayr\u02E4_mar\u02E4s\u02E4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02E4wbr\u02E4_nwwanbir_dwjnbir'.split('_'),monthsShort:'innayr_br\u02E4ayr\u02E4_mar\u02E4s\u02E4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02E4wbr\u02E4_nwwanbir_dwjnbir'.split('_'),weekdays:'asamas_aynas_asinas_akras_akwas_asimwas_asi\u1E0Dyas'.split('_'),weekdaysShort:'asamas_aynas_asinas_akras_akwas_asimwas_asi\u1E0Dyas'.split('_'),weekdaysMin:'asamas_aynas_asinas_akras_akwas_asimwas_asi\u1E0Dyas'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[asdkh g] LT',nextDay:'[aska g] LT',nextWeek:'dddd [g] LT',lastDay:'[assant g] LT',lastWeek:'dddd [g] LT',sameElse:'L'},relativeTime:{future:'dadkh s yan %s',past:'yan %s',s:'imik',m:'minu\u1E0D',mm:'%d minu\u1E0D',h:'sa\u025Ba',hh:'%d tassa\u025Bin',d:'ass',dd:'%d ossan',M:'ayowr',MM:'%d iyyirn',y:'asgas',yy:'%d isgasn'},week:{dow:6,doy:12}}),A.defineLocale('tzm',{months:'\u2D49\u2D4F\u2D4F\u2D30\u2D62\u2D54_\u2D31\u2D55\u2D30\u2D62\u2D55_\u2D4E\u2D30\u2D55\u2D5A_\u2D49\u2D31\u2D54\u2D49\u2D54_\u2D4E\u2D30\u2D62\u2D62\u2D53_\u2D62\u2D53\u2D4F\u2D62\u2D53_\u2D62\u2D53\u2D4D\u2D62\u2D53\u2D63_\u2D56\u2D53\u2D5B\u2D5C_\u2D5B\u2D53\u2D5C\u2D30\u2D4F\u2D31\u2D49\u2D54_\u2D3D\u2D5F\u2D53\u2D31\u2D55_\u2D4F\u2D53\u2D61\u2D30\u2D4F\u2D31\u2D49\u2D54_\u2D37\u2D53\u2D4A\u2D4F\u2D31\u2D49\u2D54'.split('_'),monthsShort:'\u2D49\u2D4F\u2D4F\u2D30\u2D62\u2D54_\u2D31\u2D55\u2D30\u2D62\u2D55_\u2D4E\u2D30\u2D55\u2D5A_\u2D49\u2D31\u2D54\u2D49\u2D54_\u2D4E\u2D30\u2D62\u2D62\u2D53_\u2D62\u2D53\u2D4F\u2D62\u2D53_\u2D62\u2D53\u2D4D\u2D62\u2D53\u2D63_\u2D56\u2D53\u2D5B\u2D5C_\u2D5B\u2D53\u2D5C\u2D30\u2D4F\u2D31\u2D49\u2D54_\u2D3D\u2D5F\u2D53\u2D31\u2D55_\u2D4F\u2D53\u2D61\u2D30\u2D4F\u2D31\u2D49\u2D54_\u2D37\u2D53\u2D4A\u2D4F\u2D31\u2D49\u2D54'.split('_'),weekdays:'\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59_\u2D30\u2D62\u2D4F\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59_\u2D30\u2D3D\u2D54\u2D30\u2D59_\u2D30\u2D3D\u2D61\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59'.split('_'),weekdaysShort:'\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59_\u2D30\u2D62\u2D4F\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59_\u2D30\u2D3D\u2D54\u2D30\u2D59_\u2D30\u2D3D\u2D61\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59'.split('_'),weekdaysMin:'\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59_\u2D30\u2D62\u2D4F\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59_\u2D30\u2D3D\u2D54\u2D30\u2D59_\u2D30\u2D3D\u2D61\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59_\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd D MMMM YYYY HH:mm'},calendar:{sameDay:'[\u2D30\u2D59\u2D37\u2D45 \u2D34] LT',nextDay:'[\u2D30\u2D59\u2D3D\u2D30 \u2D34] LT',nextWeek:'dddd [\u2D34] LT',lastDay:'[\u2D30\u2D5A\u2D30\u2D4F\u2D5C \u2D34] LT',lastWeek:'dddd [\u2D34] LT',sameElse:'L'},relativeTime:{future:'\u2D37\u2D30\u2D37\u2D45 \u2D59 \u2D62\u2D30\u2D4F %s',past:'\u2D62\u2D30\u2D4F %s',s:'\u2D49\u2D4E\u2D49\u2D3D',m:'\u2D4E\u2D49\u2D4F\u2D53\u2D3A',mm:'%d \u2D4E\u2D49\u2D4F\u2D53\u2D3A',h:'\u2D59\u2D30\u2D44\u2D30',hh:'%d \u2D5C\u2D30\u2D59\u2D59\u2D30\u2D44\u2D49\u2D4F',d:'\u2D30\u2D59\u2D59',dd:'%d o\u2D59\u2D59\u2D30\u2D4F',M:'\u2D30\u2D62o\u2D53\u2D54',MM:'%d \u2D49\u2D62\u2D62\u2D49\u2D54\u2D4F',y:'\u2D30\u2D59\u2D33\u2D30\u2D59',yy:'%d \u2D49\u2D59\u2D33\u2D30\u2D59\u2D4F'},week:{dow:6,doy:12}}),A.defineLocale('uk',{months:{format:'\u0441\u0456\u0447\u043D\u044F_\u043B\u044E\u0442\u043E\u0433\u043E_\u0431\u0435\u0440\u0435\u0437\u043D\u044F_\u043A\u0432\u0456\u0442\u043D\u044F_\u0442\u0440\u0430\u0432\u043D\u044F_\u0447\u0435\u0440\u0432\u043D\u044F_\u043B\u0438\u043F\u043D\u044F_\u0441\u0435\u0440\u043F\u043D\u044F_\u0432\u0435\u0440\u0435\u0441\u043D\u044F_\u0436\u043E\u0432\u0442\u043D\u044F_\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043D\u044F'.split('_'),standalone:'\u0441\u0456\u0447\u0435\u043D\u044C_\u043B\u044E\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043D\u044C_\u043A\u0432\u0456\u0442\u0435\u043D\u044C_\u0442\u0440\u0430\u0432\u0435\u043D\u044C_\u0447\u0435\u0440\u0432\u0435\u043D\u044C_\u043B\u0438\u043F\u0435\u043D\u044C_\u0441\u0435\u0440\u043F\u0435\u043D\u044C_\u0432\u0435\u0440\u0435\u0441\u0435\u043D\u044C_\u0436\u043E\u0432\u0442\u0435\u043D\u044C_\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043D\u044C'.split('_')},monthsShort:'\u0441\u0456\u0447_\u043B\u044E\u0442_\u0431\u0435\u0440_\u043A\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043B\u0438\u043F_\u0441\u0435\u0440\u043F_\u0432\u0435\u0440_\u0436\u043E\u0432\u0442_\u043B\u0438\u0441\u0442_\u0433\u0440\u0443\u0434'.split('_'),weekdays:function(sl,dl){var il={nominative:'\u043D\u0435\u0434\u0456\u043B\u044F_\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A_\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u044F_\u0441\u0443\u0431\u043E\u0442\u0430'.split('_'),accusative:'\u043D\u0435\u0434\u0456\u043B\u044E_\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A_\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u044E_\u0441\u0443\u0431\u043E\u0442\u0443'.split('_'),genitive:'\u043D\u0435\u0434\u0456\u043B\u0456_\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430_\u0432\u0456\u0432\u0442\u043E\u0440\u043A\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u0456_\u0441\u0443\u0431\u043E\u0442\u0438'.split('_')};if(!sl)return il.nominative;var rl=/(\[[]\]) ?dddd/.test(dl)?'accusative':/\[?(?:|)? ?\] ?dddd/.test(dl)?'genitive':'nominative';return il[rl][sl.day()]},weekdaysShort:'\u043D\u0434_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431'.split('_'),weekdaysMin:'\u043D\u0434_\u043F\u043D_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043F\u0442_\u0441\u0431'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD.MM.YYYY',LL:'D MMMM YYYY \u0440.',LLL:'D MMMM YYYY \u0440., HH:mm',LLLL:'dddd, D MMMM YYYY \u0440., HH:mm'},calendar:{sameDay:Md('[\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456 '),nextDay:Md('[\u0417\u0430\u0432\u0442\u0440\u0430 '),lastDay:Md('[\u0412\u0447\u043E\u0440\u0430 '),nextWeek:Md('[\u0423] dddd ['),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Md('[\u041C\u0438\u043D\u0443\u043B\u043E\u0457] dddd [').call(this);case 1:case 2:case 4:return Md('[\u041C\u0438\u043D\u0443\u043B\u043E\u0433\u043E] dddd [').call(this);}},sameElse:'L'},relativeTime:{future:'\u0437\u0430 %s',past:'%s \u0442\u043E\u043C\u0443',s:'\u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0441\u0435\u043A\u0443\u043D\u0434',m:fd,mm:fd,h:'\u0433\u043E\u0434\u0438\u043D\u0443',hh:fd,d:'\u0434\u0435\u043D\u044C',dd:fd,M:'\u043C\u0456\u0441\u044F\u0446\u044C',MM:fd,y:'\u0440\u0456\u043A',yy:fd},meridiemParse:/|||/,isPM:function(sl){return /^(|)$/.test(sl)},meridiem:function(sl){return 4>sl?'\u043D\u043E\u0447\u0456':12>sl?'\u0440\u0430\u043D\u043A\u0443':17>sl?'\u0434\u043D\u044F':'\u0432\u0435\u0447\u043E\u0440\u0430'},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(sl,dl){return'M'===dl||'d'===dl||'DDD'===dl||'w'===dl||'W'===dl?sl+'-\u0439':'D'===dl?sl+'-\u0433\u043E':sl},week:{dow:1,doy:7}});var nl=['\u062C\u0646\u0648\u0631\u06CC','\u0641\u0631\u0648\u0631\u06CC','\u0645\u0627\u0631\u0686','\u0627\u067E\u0631\u06CC\u0644','\u0645\u0626\u06CC','\u062C\u0648\u0646','\u062C\u0648\u0644\u0627\u0626\u06CC','\u0627\u06AF\u0633\u062A','\u0633\u062A\u0645\u0628\u0631','\u0627\u06A9\u062A\u0648\u0628\u0631','\u0646\u0648\u0645\u0628\u0631','\u062F\u0633\u0645\u0628\u0631'],al=['\u0627\u062A\u0648\u0627\u0631','\u067E\u06CC\u0631','\u0645\u0646\u06AF\u0644','\u0628\u062F\u06BE','\u062C\u0645\u0639\u0631\u0627\u062A','\u062C\u0645\u0639\u06C1','\u06C1\u0641\u062A\u06C1'];return A.defineLocale('ur',{months:nl,monthsShort:nl,weekdays:al,weekdaysShort:al,weekdaysMin:al,longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd\u060C D MMMM YYYY HH:mm'},meridiemParse:/|/,isPM:function(sl){return'\u0634\u0627\u0645'===sl},meridiem:function(sl){return 12>sl?'\u0635\u0628\u062D':'\u0634\u0627\u0645'},calendar:{sameDay:'[\u0622\u062C \u0628\u0648\u0642\u062A] LT',nextDay:'[\u06A9\u0644 \u0628\u0648\u0642\u062A] LT',nextWeek:'dddd [\u0628\u0648\u0642\u062A] LT',lastDay:'[\u06AF\u0630\u0634\u062A\u06C1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062A] LT',lastWeek:'[\u06AF\u0630\u0634\u062A\u06C1] dddd [\u0628\u0648\u0642\u062A] LT',sameElse:'L'},relativeTime:{future:'%s \u0628\u0639\u062F',past:'%s \u0642\u0628\u0644',s:'\u0686\u0646\u062F \u0633\u06CC\u06A9\u0646\u0688',m:'\u0627\u06CC\u06A9 \u0645\u0646\u0679',mm:'%d \u0645\u0646\u0679',h:'\u0627\u06CC\u06A9 \u06AF\u06BE\u0646\u0679\u06C1',hh:'%d \u06AF\u06BE\u0646\u0679\u06D2',d:'\u0627\u06CC\u06A9 \u062F\u0646',dd:'%d \u062F\u0646',M:'\u0627\u06CC\u06A9 \u0645\u0627\u06C1',MM:'%d \u0645\u0627\u06C1',y:'\u0627\u06CC\u06A9 \u0633\u0627\u0644',yy:'%d \u0633\u0627\u0644'},preparse:function(sl){return sl.replace(//g,',')},postformat:function(sl){return sl.replace(/,/g,'\u060C')},week:{dow:1,doy:4}}),A.defineLocale('uz-latn',{months:'Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr'.split('_'),monthsShort:'Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek'.split('_'),weekdays:'Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba'.split('_'),weekdaysShort:'Yak_Dush_Sesh_Chor_Pay_Jum_Shan'.split('_'),weekdaysMin:'Ya_Du_Se_Cho_Pa_Ju_Sha'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'D MMMM YYYY, dddd HH:mm'},calendar:{sameDay:'[Bugun soat] LT [da]',nextDay:'[Ertaga] LT [da]',nextWeek:'dddd [kuni soat] LT [da]',lastDay:'[Kecha soat] LT [da]',lastWeek:'[O\'tgan] dddd [kuni soat] LT [da]',sameElse:'L'},relativeTime:{future:'Yaqin %s ichida',past:'Bir necha %s oldin',s:'soniya',m:'bir daqiqa',mm:'%d daqiqa',h:'bir soat',hh:'%d soat',d:'bir kun',dd:'%d kun',M:'bir oy',MM:'%d oy',y:'bir yil',yy:'%d yil'},week:{dow:1,doy:7}}),A.defineLocale('uz',{months:'\u044F\u043D\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043B_\u043C\u0430\u0440\u0442_\u0430\u043F\u0440\u0435\u043B_\u043C\u0430\u0439_\u0438\u044E\u043D_\u0438\u044E\u043B_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043D\u0442\u044F\u0431\u0440_\u043E\u043A\u0442\u044F\u0431\u0440_\u043D\u043E\u044F\u0431\u0440_\u0434\u0435\u043A\u0430\u0431\u0440'.split('_'),monthsShort:'\u044F\u043D\u0432_\u0444\u0435\u0432_\u043C\u0430\u0440_\u0430\u043F\u0440_\u043C\u0430\u0439_\u0438\u044E\u043D_\u0438\u044E\u043B_\u0430\u0432\u0433_\u0441\u0435\u043D_\u043E\u043A\u0442_\u043D\u043E\u044F_\u0434\u0435\u043A'.split('_'),weekdays:'\u042F\u043A\u0448\u0430\u043D\u0431\u0430_\u0414\u0443\u0448\u0430\u043D\u0431\u0430_\u0421\u0435\u0448\u0430\u043D\u0431\u0430_\u0427\u043E\u0440\u0448\u0430\u043D\u0431\u0430_\u041F\u0430\u0439\u0448\u0430\u043D\u0431\u0430_\u0416\u0443\u043C\u0430_\u0428\u0430\u043D\u0431\u0430'.split('_'),weekdaysShort:'\u042F\u043A\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043E\u0440_\u041F\u0430\u0439_\u0416\u0443\u043C_\u0428\u0430\u043D'.split('_'),weekdaysMin:'\u042F\u043A_\u0414\u0443_\u0421\u0435_\u0427\u043E_\u041F\u0430_\u0416\u0443_\u0428\u0430'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'D MMMM YYYY, dddd HH:mm'},calendar:{sameDay:'[\u0411\u0443\u0433\u0443\u043D \u0441\u043E\u0430\u0442] LT [\u0434\u0430]',nextDay:'[\u042D\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]',nextWeek:'dddd [\u043A\u0443\u043D\u0438 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]',lastDay:'[\u041A\u0435\u0447\u0430 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]',lastWeek:'[\u0423\u0442\u0433\u0430\u043D] dddd [\u043A\u0443\u043D\u0438 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]',sameElse:'L'},relativeTime:{future:'\u042F\u043A\u0438\u043D %s \u0438\u0447\u0438\u0434\u0430',past:'\u0411\u0438\u0440 \u043D\u0435\u0447\u0430 %s \u043E\u043B\u0434\u0438\u043D',s:'\u0444\u0443\u0440\u0441\u0430\u0442',m:'\u0431\u0438\u0440 \u0434\u0430\u043A\u0438\u043A\u0430',mm:'%d \u0434\u0430\u043A\u0438\u043A\u0430',h:'\u0431\u0438\u0440 \u0441\u043E\u0430\u0442',hh:'%d \u0441\u043E\u0430\u0442',d:'\u0431\u0438\u0440 \u043A\u0443\u043D',dd:'%d \u043A\u0443\u043D',M:'\u0431\u0438\u0440 \u043E\u0439',MM:'%d \u043E\u0439',y:'\u0431\u0438\u0440 \u0439\u0438\u043B',yy:'%d \u0439\u0438\u043B'},week:{dow:1,doy:7}}),A.defineLocale('vi',{months:'th\xE1ng 1_th\xE1ng 2_th\xE1ng 3_th\xE1ng 4_th\xE1ng 5_th\xE1ng 6_th\xE1ng 7_th\xE1ng 8_th\xE1ng 9_th\xE1ng 10_th\xE1ng 11_th\xE1ng 12'.split('_'),monthsShort:'Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12'.split('_'),monthsParseExact:!0,weekdays:'ch\u1EE7 nh\u1EADt_th\u1EE9 hai_th\u1EE9 ba_th\u1EE9 t\u01B0_th\u1EE9 n\u0103m_th\u1EE9 s\xE1u_th\u1EE9 b\u1EA3y'.split('_'),weekdaysShort:'CN_T2_T3_T4_T5_T6_T7'.split('_'),weekdaysMin:'CN_T2_T3_T4_T5_T6_T7'.split('_'),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(sl){return /^ch$/i.test(sl)},meridiem:function(sl,dl,il){return 12>sl?il?'sa':'SA':il?'ch':'CH'},longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'DD/MM/YYYY',LL:'D MMMM [n\u0103m] YYYY',LLL:'D MMMM [n\u0103m] YYYY HH:mm',LLLL:'dddd, D MMMM [n\u0103m] YYYY HH:mm',l:'DD/M/YYYY',ll:'D MMM YYYY',lll:'D MMM YYYY HH:mm',llll:'ddd, D MMM YYYY HH:mm'},calendar:{sameDay:'[H\xF4m nay l\xFAc] LT',nextDay:'[Ng\xE0y mai l\xFAc] LT',nextWeek:'dddd [tu\u1EA7n t\u1EDBi l\xFAc] LT',lastDay:'[H\xF4m qua l\xFAc] LT',lastWeek:'dddd [tu\u1EA7n r\u1ED3i l\xFAc] LT',sameElse:'L'},relativeTime:{future:'%s t\u1EDBi',past:'%s tr\u01B0\u1EDBc',s:'v\xE0i gi\xE2y',m:'m\u1ED9t ph\xFAt',mm:'%d ph\xFAt',h:'m\u1ED9t gi\u1EDD',hh:'%d gi\u1EDD',d:'m\u1ED9t ng\xE0y',dd:'%d ng\xE0y',M:'m\u1ED9t th\xE1ng',MM:'%d th\xE1ng',y:'m\u1ED9t n\u0103m',yy:'%d n\u0103m'},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(sl){return sl},week:{dow:1,doy:4}}),A.defineLocale('x-pseudo',{months:'J~\xE1\xF1\xFA\xE1~r\xFD_F~\xE9br\xFA~\xE1r\xFD_~M\xE1rc~h_\xC1p~r\xEDl_~M\xE1\xFD_~J\xFA\xF1\xE9~_J\xFAl~\xFD_\xC1\xFA~g\xFAst~_S\xE9p~t\xE9mb~\xE9r_\xD3~ct\xF3b~\xE9r_\xD1~\xF3v\xE9m~b\xE9r_~D\xE9c\xE9~mb\xE9r'.split('_'),monthsShort:'J~\xE1\xF1_~F\xE9b_~M\xE1r_~\xC1pr_~M\xE1\xFD_~J\xFA\xF1_~J\xFAl_~\xC1\xFAg_~S\xE9p_~\xD3ct_~\xD1\xF3v_~D\xE9c'.split('_'),monthsParseExact:!0,weekdays:'S~\xFA\xF1d\xE1~\xFD_M\xF3~\xF1d\xE1\xFD~_T\xFA\xE9~sd\xE1\xFD~_W\xE9d~\xF1\xE9sd~\xE1\xFD_T~h\xFArs~d\xE1\xFD_~Fr\xEDd~\xE1\xFD_S~\xE1t\xFAr~d\xE1\xFD'.split('_'),weekdaysShort:'S~\xFA\xF1_~M\xF3\xF1_~T\xFA\xE9_~W\xE9d_~Th\xFA_~Fr\xED_~S\xE1t'.split('_'),weekdaysMin:'S~\xFA_M\xF3~_T\xFA_~W\xE9_T~h_Fr~_S\xE1'.split('_'),weekdaysParseExact:!0,longDateFormat:{LT:'HH:mm',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY HH:mm',LLLL:'dddd, D MMMM YYYY HH:mm'},calendar:{sameDay:'[T~\xF3d\xE1~\xFD \xE1t] LT',nextDay:'[T~\xF3m\xF3~rr\xF3~w \xE1t] LT',nextWeek:'dddd [\xE1t] LT',lastDay:'[\xDD~\xE9st~\xE9rd\xE1~\xFD \xE1t] LT',lastWeek:'[L~\xE1st] dddd [\xE1t] LT',sameElse:'L'},relativeTime:{future:'\xED~\xF1 %s',past:'%s \xE1~g\xF3',s:'\xE1 ~f\xE9w ~s\xE9c\xF3~\xF1ds',m:'\xE1 ~m\xED\xF1~\xFAt\xE9',mm:'%d m~\xED\xF1\xFA~t\xE9s',h:'\xE1~\xF1 h\xF3~\xFAr',hh:'%d h~\xF3\xFArs',d:'\xE1 ~d\xE1\xFD',dd:'%d d~\xE1\xFDs',M:'\xE1 ~m\xF3\xF1~th',MM:'%d m~\xF3\xF1t~hs',y:'\xE1 ~\xFD\xE9\xE1r',yy:'%d \xFD~\xE9\xE1rs'},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(sl){var dl=sl%10,il=1==~~(sl%100/10)?'th':1==dl?'st':2==dl?'nd':3==dl?'rd':'th';return sl+il},week:{dow:1,doy:4}}),A.defineLocale('yo',{months:'S\u1EB9\u0301r\u1EB9\u0301_E\u0300re\u0300le\u0300_\u1EB8r\u1EB9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1EB9mo_O\u0300gu\u0301n_Owewe_\u1ECC\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ECC\u0300p\u1EB9\u0300\u0300'.split('_'),monthsShort:'S\u1EB9\u0301r_E\u0300rl_\u1EB8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1EB9_O\u0300gu\u0301_Owe_\u1ECC\u0300wa\u0300_Be\u0301l_\u1ECC\u0300p\u1EB9\u0300\u0300'.split('_'),weekdays:'A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1EB9\u0301gun_\u1ECCj\u1ECD\u0301ru\u0301_\u1ECCj\u1ECD\u0301b\u1ECD_\u1EB8ti\u0300_A\u0300ba\u0301m\u1EB9\u0301ta'.split('_'),weekdaysShort:'A\u0300i\u0300k_Aje\u0301_I\u0300s\u1EB9\u0301_\u1ECCjr_\u1ECCjb_\u1EB8ti\u0300_A\u0300ba\u0301'.split('_'),weekdaysMin:'A\u0300i\u0300_Aj_I\u0300s_\u1ECCr_\u1ECCb_\u1EB8t_A\u0300b'.split('_'),longDateFormat:{LT:'h:mm A',LTS:'h:mm:ss A',L:'DD/MM/YYYY',LL:'D MMMM YYYY',LLL:'D MMMM YYYY h:mm A',LLLL:'dddd, D MMMM YYYY h:mm A'},calendar:{sameDay:'[O\u0300ni\u0300 ni] LT',nextDay:'[\u1ECC\u0300la ni] LT',nextWeek:'dddd [\u1ECCs\u1EB9\u0300 to\u0301n\'b\u1ECD] [ni] LT',lastDay:'[A\u0300na ni] LT',lastWeek:'dddd [\u1ECCs\u1EB9\u0300 to\u0301l\u1ECD\u0301] [ni] LT',sameElse:'L'},relativeTime:{future:'ni\u0301 %s',past:'%s k\u1ECDja\u0301',s:'i\u0300s\u1EB9ju\u0301 aaya\u0301 die',m:'i\u0300s\u1EB9ju\u0301 kan',mm:'i\u0300s\u1EB9ju\u0301 %d',h:'wa\u0301kati kan',hh:'wa\u0301kati %d',d:'\u1ECDj\u1ECD\u0301 kan',dd:'\u1ECDj\u1ECD\u0301 %d',M:'osu\u0300 kan',MM:'osu\u0300 %d',y:'\u1ECDdu\u0301n kan',yy:'\u1ECDdu\u0301n %d'},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:'\u1ECDj\u1ECD\u0301 %d',week:{dow:1,doy:4}}),A.defineLocale('zh-cn',{months:'\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708'.split('_'),monthsShort:'1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708'.split('_'),weekdays:'\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D'.split('_'),weekdaysShort:'\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D'.split('_'),weekdaysMin:'\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY\u5E74MMMD\u65E5',LL:'YYYY\u5E74MMMD\u65E5',LLL:'YYYY\u5E74MMMD\u65E5Ah\u70B9mm\u5206',LLLL:'YYYY\u5E74MMMD\u65E5ddddAh\u70B9mm\u5206',l:'YYYY\u5E74MMMD\u65E5',ll:'YYYY\u5E74MMMD\u65E5',lll:'YYYY\u5E74MMMD\u65E5 HH:mm',llll:'YYYY\u5E74MMMD\u65E5dddd HH:mm'},meridiemParse:/|||||/,meridiemHour:function(sl,dl){return 12===sl&&(sl=0),'\u51CC\u6668'===dl||'\u65E9\u4E0A'===dl||'\u4E0A\u5348'===dl?sl:'\u4E0B\u5348'===dl||'\u665A\u4E0A'===dl?sl+12:11<=sl?sl:sl+12},meridiem:function(sl,dl){var rl=100*sl+dl;return 600>rl?'\u51CC\u6668':900>rl?'\u65E9\u4E0A':1130>rl?'\u4E0A\u5348':1230>rl?'\u4E2D\u5348':1800>rl?'\u4E0B\u5348':'\u665A\u4E0A'},calendar:{sameDay:'[\u4ECA\u5929]LT',nextDay:'[\u660E\u5929]LT',nextWeek:'[\u4E0B]ddddLT',lastDay:'[\u6628\u5929]LT',lastWeek:'[\u4E0A]ddddLT',sameElse:'L'},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(sl,dl){return'd'===dl||'D'===dl||'DDD'===dl?sl+'\u65E5':'M'===dl?sl+'\u6708':'w'===dl||'W'===dl?sl+'\u5468':sl},relativeTime:{future:'%s\u5185',past:'%s\u524D',s:'\u51E0\u79D2',m:'1 \u5206\u949F',mm:'%d \u5206\u949F',h:'1 \u5C0F\u65F6',hh:'%d \u5C0F\u65F6',d:'1 \u5929',dd:'%d \u5929',M:'1 \u4E2A\u6708',MM:'%d \u4E2A\u6708',y:'1 \u5E74',yy:'%d \u5E74'},week:{dow:1,doy:4}}),A.defineLocale('zh-hk',{months:'\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708'.split('_'),monthsShort:'1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708'.split('_'),weekdays:'\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D'.split('_'),weekdaysShort:'\u9031\u65E5_\u9031\u4E00_\u9031\u4E8C_\u9031\u4E09_\u9031\u56DB_\u9031\u4E94_\u9031\u516D'.split('_'),weekdaysMin:'\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY\u5E74MMMD\u65E5',LL:'YYYY\u5E74MMMD\u65E5',LLL:'YYYY\u5E74MMMD\u65E5 HH:mm',LLLL:'YYYY\u5E74MMMD\u65E5dddd HH:mm',l:'YYYY\u5E74MMMD\u65E5',ll:'YYYY\u5E74MMMD\u65E5',lll:'YYYY\u5E74MMMD\u65E5 HH:mm',llll:'YYYY\u5E74MMMD\u65E5dddd HH:mm'},meridiemParse:/|||||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u51CC\u6668'===dl||'\u65E9\u4E0A'===dl||'\u4E0A\u5348'===dl)?sl:'\u4E2D\u5348'===dl?11<=sl?sl:sl+12:'\u4E0B\u5348'===dl||'\u665A\u4E0A'===dl?sl+12:void 0},meridiem:function(sl,dl){var rl=100*sl+dl;return 600>rl?'\u51CC\u6668':900>rl?'\u65E9\u4E0A':1130>rl?'\u4E0A\u5348':1230>rl?'\u4E2D\u5348':1800>rl?'\u4E0B\u5348':'\u665A\u4E0A'},calendar:{sameDay:'[\u4ECA\u5929]LT',nextDay:'[\u660E\u5929]LT',nextWeek:'[\u4E0B]ddddLT',lastDay:'[\u6628\u5929]LT',lastWeek:'[\u4E0A]ddddLT',sameElse:'L'},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(sl,dl){return'd'===dl||'D'===dl||'DDD'===dl?sl+'\u65E5':'M'===dl?sl+'\u6708':'w'===dl||'W'===dl?sl+'\u9031':sl},relativeTime:{future:'%s\u5167',past:'%s\u524D',s:'\u5E7E\u79D2',m:'1 \u5206\u9418',mm:'%d \u5206\u9418',h:'1 \u5C0F\u6642',hh:'%d \u5C0F\u6642',d:'1 \u5929',dd:'%d \u5929',M:'1 \u500B\u6708',MM:'%d \u500B\u6708',y:'1 \u5E74',yy:'%d \u5E74'}}),A.defineLocale('zh-tw',{months:'\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708'.split('_'),monthsShort:'1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708'.split('_'),weekdays:'\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D'.split('_'),weekdaysShort:'\u9031\u65E5_\u9031\u4E00_\u9031\u4E8C_\u9031\u4E09_\u9031\u56DB_\u9031\u4E94_\u9031\u516D'.split('_'),weekdaysMin:'\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D'.split('_'),longDateFormat:{LT:'HH:mm',LTS:'HH:mm:ss',L:'YYYY\u5E74MMMD\u65E5',LL:'YYYY\u5E74MMMD\u65E5',LLL:'YYYY\u5E74MMMD\u65E5 HH:mm',LLLL:'YYYY\u5E74MMMD\u65E5dddd HH:mm',l:'YYYY\u5E74MMMD\u65E5',ll:'YYYY\u5E74MMMD\u65E5',lll:'YYYY\u5E74MMMD\u65E5 HH:mm',llll:'YYYY\u5E74MMMD\u65E5dddd HH:mm'},meridiemParse:/|||||/,meridiemHour:function(sl,dl){return(12===sl&&(sl=0),'\u51CC\u6668'===dl||'\u65E9\u4E0A'===dl||'\u4E0A\u5348'===dl)?sl:'\u4E2D\u5348'===dl?11<=sl?sl:sl+12:'\u4E0B\u5348'===dl||'\u665A\u4E0A'===dl?sl+12:void 0},meridiem:function(sl,dl){var rl=100*sl+dl;return 600>rl?'\u51CC\u6668':900>rl?'\u65E9\u4E0A':1130>rl?'\u4E0A\u5348':1230>rl?'\u4E2D\u5348':1800>rl?'\u4E0B\u5348':'\u665A\u4E0A'},calendar:{sameDay:'[\u4ECA\u5929]LT',nextDay:'[\u660E\u5929]LT',nextWeek:'[\u4E0B]ddddLT',lastDay:'[\u6628\u5929]LT',lastWeek:'[\u4E0A]ddddLT',sameElse:'L'},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(sl,dl){return'd'===dl||'D'===dl||'DDD'===dl?sl+'\u65E5':'M'===dl?sl+'\u6708':'w'===dl||'W'===dl?sl+'\u9031':sl},relativeTime:{future:'%s\u5167',past:'%s\u524D',s:'\u5E7E\u79D2',m:'1 \u5206\u9418',mm:'%d \u5206\u9418',h:'1 \u5C0F\u6642',hh:'%d \u5C0F\u6642',d:'1 \u5929',dd:'%d \u5929',M:'1 \u500B\u6708',MM:'%d \u500B\u6708',y:'1 \u5E74',yy:'%d \u5E74'}}),A.locale('en'),A})}).call(E,R(176)(L))},function(L,E,R){'use strict';(function(I){function N(){return B.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function H(Fe,Be){if(N()<Be)throw new RangeError('Invalid typed array length');return B.TYPED_ARRAY_SUPPORT?(Fe=new Uint8Array(Be),Fe.__proto__=B.prototype):(null===Fe&&(Fe=new B(Be)),Fe.length=Be),Fe}function B(Fe,Be,qe){if(!B.TYPED_ARRAY_SUPPORT&&!(this instanceof B))return new B(Fe,Be,qe);if('number'==typeof Fe){if('string'==typeof Be)throw new Error('If encoding is specified then the first argument must be a string');return G(this,Fe)}return z(this,Fe,Be,qe)}function z(Fe,Be,qe,ze){if('number'==typeof Be)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Be instanceof ArrayBuffer?X(Fe,Be,qe,ze):'string'==typeof Be?$(Fe,Be,qe):Q(Fe,Be)}function W(Fe){if('number'!=typeof Fe)throw new TypeError('"size" argument must be a number');else if(0>Fe)throw new RangeError('"size" argument must not be negative')}function J(Fe,Be,qe,ze){return W(Be),0>=Be?H(Fe,Be):void 0===qe?H(Fe,Be):'string'==typeof ze?H(Fe,Be).fill(qe,ze):H(Fe,Be).fill(qe)}function G(Fe,Be){if(W(Be),Fe=H(Fe,0>Be?0:0|Z(Be)),!B.TYPED_ARRAY_SUPPORT)for(var qe=0;qe<Be;++qe)Fe[qe]=0;return Fe}function $(Fe,Be,qe){if(('string'!=typeof qe||''===qe)&&(qe='utf8'),!B.isEncoding(qe))throw new TypeError('"encoding" must be a valid string encoding');var ze=0|te(Be,qe);Fe=H(Fe,ze);var We=Fe.write(Be,qe);return We!==ze&&(Fe=Fe.slice(0,We)),Fe}function K(Fe,Be){var qe=0>Be.length?0:0|Z(Be.length);Fe=H(Fe,qe);for(var ze=0;ze<qe;ze+=1)Fe[ze]=255&Be[ze];return Fe}function X(Fe,Be,qe,ze){if(Be.byteLength,0>qe||Be.byteLength<qe)throw new RangeError('\'offset\' is out of bounds');if(Be.byteLength<qe+(ze||0))throw new RangeError('\'length\' is out of bounds');return Be=void 0===qe&&void 0===ze?new Uint8Array(Be):void 0===ze?new Uint8Array(Be,qe):new Uint8Array(Be,qe,ze),B.TYPED_ARRAY_SUPPORT?(Fe=Be,Fe.__proto__=B.prototype):Fe=K(Fe,Be),Fe}function Q(Fe,Be){if(B.isBuffer(Be)){var qe=0|Z(Be.length);return(Fe=H(Fe,qe),0===Fe.length)?Fe:(Be.copy(Fe,0,0,qe),Fe)}if(Be){if('undefined'!=typeof ArrayBuffer&&Be.buffer instanceof ArrayBuffer||'length'in Be)return'number'!=typeof Be.length||Oe(Be.length)?H(Fe,0):K(Fe,Be);if('Buffer'===Be.type&&He(Be.data))return K(Fe,Be.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function Z(Fe){if(Fe>=N())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+N().toString(16)+' bytes');return 0|Fe}function te(Fe,Be){if(B.isBuffer(Fe))return Fe.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Fe)||Fe instanceof ArrayBuffer))return Fe.byteLength;'string'!=typeof Fe&&(Fe=''+Fe);var qe=Fe.length;if(0===qe)return 0;for(var ze=!1;;)switch(Be){case'ascii':case'latin1':case'binary':return qe;case'utf8':case'utf-8':case void 0:return ke(Fe).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*qe;case'hex':return qe>>>1;case'base64':return Ae(Fe).length;default:if(ze)return ke(Fe).length;Be=(''+Be).toLowerCase(),ze=!0;}}function ne(Fe,Be,qe){var ze=!1;if((void 0===Be||0>Be)&&(Be=0),Be>this.length)return'';if((void 0===qe||qe>this.length)&&(qe=this.length),0>=qe)return'';if(qe>>>=0,Be>>>=0,qe<=Be)return'';for(Fe||(Fe='utf8');;)switch(Fe){case'hex':return ye(this,Be,qe);case'utf8':case'utf-8':return pe(this,Be,qe);case'ascii':return he(this,Be,qe);case'latin1':case'binary':return fe(this,Be,qe);case'base64':return me(this,Be,qe);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return Me(this,Be,qe);default:if(ze)throw new TypeError('Unknown encoding: '+Fe);Fe=(Fe+'').toLowerCase(),ze=!0;}}function ae(Fe,Be,qe){var ze=Fe[Be];Fe[Be]=Fe[qe],Fe[qe]=ze}function se(Fe,Be,qe,ze,We){if(0===Fe.length)return-1;if('string'==typeof qe?(ze=qe,qe=0):2147483647<qe?qe=2147483647:-2147483648>qe&&(qe=-2147483648),qe=+qe,isNaN(qe)&&(qe=We?0:Fe.length-1),0>qe&&(qe=Fe.length+qe),qe>=Fe.length){if(We)return-1;qe=Fe.length-1}else if(0>qe)if(We)qe=0;else return-1;if('string'==typeof Be&&(Be=B.from(Be,ze)),B.isBuffer(Be))return 0===Be.length?-1:de(Fe,Be,qe,ze,We);if('number'==typeof Be)return Be&=255,B.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(Fe,Be,qe):Uint8Array.prototype.lastIndexOf.call(Fe,Be,qe):de(Fe,[Be],qe,ze,We);throw new TypeError('val must be string, number or Buffer')}function de(Fe,Be,qe,ze,We){function Je(et,nt){return 1==Ve?et[nt]:et.readUInt16BE(nt*Ve)}var Ve=1,Ge=Fe.length,$e=Be.length;if(void 0!==ze&&(ze=(ze+'').toLowerCase(),'ucs2'===ze||'ucs-2'===ze||'utf16le'===ze||'utf-16le'===ze)){if(2>Fe.length||2>Be.length)return-1;Ve=2,Ge/=2,$e/=2,qe/=2}var Ke;if(We){var Xe=-1;for(Ke=qe;Ke<Ge;Ke++)if(Je(Fe,Ke)!==Je(Be,-1==Xe?0:Ke-Xe))-1!=Xe&&(Ke-=Ke-Xe),Xe=-1;else if(-1==Xe&&(Xe=Ke),Ke-Xe+1===$e)return Xe*Ve}else for(qe+$e>Ge&&(qe=Ge-$e),Ke=qe;0<=Ke;Ke--){for(var Qe=!0,Ze=0;Ze<$e;Ze++)if(Je(Fe,Ke+Ze)!==Je(Be,Ze)){Qe=!1;break}if(Qe)return Ke}return-1}function ie(Fe,Be,qe,ze){qe=+qe||0;var We=Fe.length-qe;ze?(ze=+ze,ze>We&&(ze=We)):ze=We;var Je=Be.length;if(0!=Je%2)throw new TypeError('Invalid hex string');ze>Je/2&&(ze=Je/2);for(var Ve=0,Ge;Ve<ze;++Ve){if(Ge=parseInt(Be.substr(2*Ve,2),16),isNaN(Ge))return Ve;Fe[qe+Ve]=Ge}return Ve}function oe(Fe,Be,qe,ze){return xe(ke(Be,Fe.length-qe),Fe,qe,ze)}function le(Fe,Be,qe,ze){return xe(Re(Be),Fe,qe,ze)}function ue(Fe,Be,qe,ze){return le(Fe,Be,qe,ze)}function _e(Fe,Be,qe,ze){return xe(Ae(Be),Fe,qe,ze)}function ce(Fe,Be,qe,ze){return xe(Ie(Be,Fe.length-qe),Fe,qe,ze)}function me(Fe,Be,qe){return 0===Be&&qe===Fe.length?Pe.fromByteArray(Fe):Pe.fromByteArray(Fe.slice(Be,qe))}function pe(Fe,Be,qe){qe=Math.min(Fe.length,qe);for(var ze=[],We=Be;We<qe;){var Je=Fe[We],Ve=null,Ge=239<Je?4:223<Je?3:191<Je?2:1;if(We+Ge<=qe){var $e,Ke,Xe,Qe;1==Ge?128>Je&&(Ve=Je):2==Ge?($e=Fe[We+1],128==(192&$e)&&(Qe=(31&Je)<<6|63&$e,127<Qe&&(Ve=Qe))):3==Ge?($e=Fe[We+1],Ke=Fe[We+2],128==(192&$e)&&128==(192&Ke)&&(Qe=(15&Je)<<12|(63&$e)<<6|63&Ke,2047<Qe&&(55296>Qe||57343<Qe)&&(Ve=Qe))):4==Ge?($e=Fe[We+1],Ke=Fe[We+2],Xe=Fe[We+3],128==(192&$e)&&128==(192&Ke)&&128==(192&Xe)&&(Qe=(15&Je)<<18|(63&$e)<<12|(63&Ke)<<6|63&Xe,65535<Qe&&1114112>Qe&&(Ve=Qe))):void 0}null===Ve?(Ve=65533,Ge=1):65535<Ve&&(Ve-=65536,ze.push(55296|1023&Ve>>>10),Ve=56320|1023&Ve),ze.push(Ve),We+=Ge}return ge(ze)}function ge(Fe){var Be=Fe.length;if(Be<=je)return String.fromCharCode.apply(String,Fe);for(var qe='',ze=0;ze<Be;)qe+=String.fromCharCode.apply(String,Fe.slice(ze,ze+=je));return qe}function he(Fe,Be,qe){var ze='';qe=Math.min(Fe.length,qe);for(var We=Be;We<qe;++We)ze+=String.fromCharCode(127&Fe[We]);return ze}function fe(Fe,Be,qe){var ze='';qe=Math.min(Fe.length,qe);for(var We=Be;We<qe;++We)ze+=String.fromCharCode(Fe[We]);return ze}function ye(Fe,Be,qe){var ze=Fe.length;(!Be||0>Be)&&(Be=0),(!qe||0>qe||qe>ze)&&(qe=ze);for(var We='',Je=Be;Je<qe;++Je)We+=Ye(Fe[Je]);return We}function Me(Fe,Be,qe){for(var ze=Fe.slice(Be,qe),We='',Je=0;Je<ze.length;Je+=2)We+=String.fromCharCode(ze[Je]+256*ze[Je+1]);return We}function Te(Fe,Be,qe){if(0!=Fe%1||0>Fe)throw new RangeError('offset is not uint');if(Fe+Be>qe)throw new RangeError('Trying to access beyond buffer length')}function Le(Fe,Be,qe,ze,We,Je){if(!B.isBuffer(Fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Be>We||Be<Je)throw new RangeError('"value" argument is out of bounds');if(qe+ze>Fe.length)throw new RangeError('Index out of range')}function Se(Fe,Be,qe,ze){0>Be&&(Be=65535+Be+1);for(var We=0,Je=Math.min(Fe.length-qe,2);We<Je;++We)Fe[qe+We]=(Be&255<<8*(ze?We:1-We))>>>8*(ze?We:1-We)}function ve(Fe,Be,qe,ze){0>Be&&(Be=4294967295+Be+1);for(var We=0,Je=Math.min(Fe.length-qe,4);We<Je;++We)Fe[qe+We]=255&Be>>>8*(ze?We:3-We)}function be(Fe,Be,qe,ze){if(qe+ze>Fe.length)throw new RangeError('Index out of range');if(0>qe)throw new RangeError('Index out of range')}function Ce(Fe,Be,qe,ze,We){return We||be(Fe,Be,qe,4,3.4028234663852886e38,-3.4028234663852886e38),Ne.write(Fe,Be,qe,ze,23,4),qe+4}function Ee(Fe,Be,qe,ze,We){return We||be(Fe,Be,qe,8,1.7976931348623157e308,-1.7976931348623157e308),Ne.write(Fe,Be,qe,ze,52,8),qe+8}function De(Fe){if(Fe=we(Fe).replace(Ue,''),2>Fe.length)return'';for(;0!=Fe.length%4;)Fe+='=';return Fe}function we(Fe){return Fe.trim?Fe.trim():Fe.replace(/^\s+|\s+$/g,'')}function Ye(Fe){return 16>Fe?'0'+Fe.toString(16):Fe.toString(16)}function ke(Fe,Be){Be=Be||Infinity;for(var ze=Fe.length,We=null,Je=[],Ve=0,qe;Ve<ze;++Ve){if(qe=Fe.charCodeAt(Ve),55295<qe&&57344>qe){if(!We){if(56319<qe){-1<(Be-=3)&&Je.push(239,191,189);continue}else if(Ve+1===ze){-1<(Be-=3)&&Je.push(239,191,189);continue}We=qe;continue}if(56320>qe){-1<(Be-=3)&&Je.push(239,191,189),We=qe;continue}qe=(We-55296<<10|qe-56320)+65536}else We&&-1<(Be-=3)&&Je.push(239,191,189);if(We=null,128>qe){if(0>(Be-=1))break;Je.push(qe)}else if(2048>qe){if(0>(Be-=2))break;Je.push(192|qe>>6,128|63&qe)}else if(65536>qe){if(0>(Be-=3))break;Je.push(224|qe>>12,128|63&qe>>6,128|63&qe)}else if(1114112>qe){if(0>(Be-=4))break;Je.push(240|qe>>18,128|63&qe>>12,128|63&qe>>6,128|63&qe)}else throw new Error('Invalid code point')}return Je}function Re(Fe){for(var Be=[],qe=0;qe<Fe.length;++qe)Be.push(255&Fe.charCodeAt(qe));return Be}function Ie(Fe,Be){for(var Je=[],Ve=0,qe,ze,We;Ve<Fe.length&&!(0>(Be-=2));++Ve)qe=Fe.charCodeAt(Ve),ze=qe>>8,We=qe%256,Je.push(We),Je.push(ze);return Je}function Ae(Fe){return Pe.toByteArray(De(Fe))}function xe(Fe,Be,qe,ze){for(var We=0;We<ze&&!(We+qe>=Be.length||We>=Fe.length);++We)Be[We+qe]=Fe[We];return We}function Oe(Fe){return Fe!==Fe}var Pe=R(161),Ne=R(163),He=R(164);E.Buffer=B,E.SlowBuffer=function(Fe){return+Fe!=Fe&&(Fe=0),B.alloc(+Fe)},E.INSPECT_MAX_BYTES=50,B.TYPED_ARRAY_SUPPORT=I.TYPED_ARRAY_SUPPORT===void 0?function(){try{var Fe=new Uint8Array(1);return Fe.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Fe.foo()&&'function'==typeof Fe.subarray&&0===Fe.subarray(1,1).byteLength}catch(Be){return!1}}():I.TYPED_ARRAY_SUPPORT,E.kMaxLength=N(),B.poolSize=8192,B._augment=function(Fe){return Fe.__proto__=B.prototype,Fe},B.from=function(Fe,Be,qe){return z(null,Fe,Be,qe)},B.TYPED_ARRAY_SUPPORT&&(B.prototype.__proto__=Uint8Array.prototype,B.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&B[Symbol.species]===B&&Object.defineProperty(B,Symbol.species,{value:null,configurable:!0})),B.alloc=function(Fe,Be,qe){return J(null,Fe,Be,qe)},B.allocUnsafe=function(Fe){return G(null,Fe)},B.allocUnsafeSlow=function(Fe){return G(null,Fe)},B.isBuffer=function(Be){return!!(null!=Be&&Be._isBuffer)},B.compare=function(Be,qe){if(!B.isBuffer(Be)||!B.isBuffer(qe))throw new TypeError('Arguments must be Buffers');if(Be===qe)return 0;for(var ze=Be.length,We=qe.length,Je=0,Ve=Math.min(ze,We);Je<Ve;++Je)if(Be[Je]!==qe[Je]){ze=Be[Je],We=qe[Je];break}return ze<We?-1:We<ze?1:0},B.isEncoding=function(Be){switch((Be+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},B.concat=function(Be,qe){if(!He(Be))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Be.length)return B.alloc(0);var ze;if(qe===void 0)for(qe=0,ze=0;ze<Be.length;++ze)qe+=Be[ze].length;var We=B.allocUnsafe(qe),Je=0;for(ze=0;ze<Be.length;++ze){var Ve=Be[ze];if(!B.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(We,Je),Je+=Ve.length}return We},B.byteLength=te,B.prototype._isBuffer=!0,B.prototype.swap16=function(){var Be=this.length;if(0!=Be%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var qe=0;qe<Be;qe+=2)ae(this,qe,qe+1);return this},B.prototype.swap32=function(){var Be=this.length;if(0!=Be%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var qe=0;qe<Be;qe+=4)ae(this,qe,qe+3),ae(this,qe+1,qe+2);return this},B.prototype.swap64=function(){var Be=this.length;if(0!=Be%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var qe=0;qe<Be;qe+=8)ae(this,qe,qe+7),ae(this,qe+1,qe+6),ae(this,qe+2,qe+5),ae(this,qe+3,qe+4);return this},B.prototype.toString=function(){var Be=0|this.length;return 0==Be?'':0===arguments.length?pe(this,0,Be):ne.apply(this,arguments)},B.prototype.equals=function(Be){if(!B.isBuffer(Be))throw new TypeError('Argument must be a Buffer');return this===Be||0===B.compare(this,Be)},B.prototype.inspect=function(){var Be='',qe=E.INSPECT_MAX_BYTES;return 0<this.length&&(Be=this.toString('hex',0,qe).match(/.{2}/g).join(' '),this.length>qe&&(Be+=' ... ')),'<Buffer '+Be+'>'},B.prototype.compare=function(Be,qe,ze,We,Je){if(!B.isBuffer(Be))throw new TypeError('Argument must be a Buffer');if(void 0===qe&&(qe=0),void 0===ze&&(ze=Be?Be.length:0),void 0===We&&(We=0),void 0===Je&&(Je=this.length),0>qe||ze>Be.length||0>We||Je>this.length)throw new RangeError('out of range index');if(We>=Je&&qe>=ze)return 0;if(We>=Je)return-1;if(qe>=ze)return 1;if(qe>>>=0,ze>>>=0,We>>>=0,Je>>>=0,this===Be)return 0;for(var Ve=Je-We,Ge=ze-qe,$e=Math.min(Ve,Ge),Ke=this.slice(We,Je),Xe=Be.slice(qe,ze),Qe=0;Qe<$e;++Qe)if(Ke[Qe]!==Xe[Qe]){Ve=Ke[Qe],Ge=Xe[Qe];break}return Ve<Ge?-1:Ge<Ve?1:0},B.prototype.includes=function(Be,qe,ze){return-1!==this.indexOf(Be,qe,ze)},B.prototype.indexOf=function(Be,qe,ze){return se(this,Be,qe,ze,!0)},B.prototype.lastIndexOf=function(Be,qe,ze){return se(this,Be,qe,ze,!1)},B.prototype.write=function(Be,qe,ze,We){if(void 0===qe)We='utf8',ze=this.length,qe=0;else if(void 0===ze&&'string'==typeof qe)We=qe,ze=this.length,qe=0;else if(isFinite(qe))qe|=0,isFinite(ze)?(ze|=0,void 0===We&&(We='utf8')):(We=ze,ze=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var Je=this.length-qe;if((void 0===ze||ze>Je)&&(ze=Je),0<Be.length&&(0>ze||0>qe)||qe>this.length)throw new RangeError('Attempt to write outside buffer bounds');We||(We='utf8');for(var Ve=!1;;)switch(We){case'hex':return ie(this,Be,qe,ze);case'utf8':case'utf-8':return oe(this,Be,qe,ze);case'ascii':return le(this,Be,qe,ze);case'latin1':case'binary':return ue(this,Be,qe,ze);case'base64':return _e(this,Be,qe,ze);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ce(this,Be,qe,ze);default:if(Ve)throw new TypeError('Unknown encoding: '+We);We=(''+We).toLowerCase(),Ve=!0;}},B.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var je=4096;B.prototype.slice=function(Be,qe){var ze=this.length;Be=~~Be,qe=qe===void 0?ze:~~qe,0>Be?(Be+=ze,0>Be&&(Be=0)):Be>ze&&(Be=ze),0>qe?(qe+=ze,0>qe&&(qe=0)):qe>ze&&(qe=ze),qe<Be&&(qe=Be);var We;if(B.TYPED_ARRAY_SUPPORT)We=this.subarray(Be,qe),We.__proto__=B.prototype;else{var Je=qe-Be;We=new B(Je,void 0);for(var Ve=0;Ve<Je;++Ve)We[Ve]=this[Ve+Be]}return We},B.prototype.readUIntLE=function(Be,qe,ze){Be|=0,qe|=0,ze||Te(Be,qe,this.length);for(var We=this[Be],Je=1,Ve=0;++Ve<qe&&(Je*=256);)We+=this[Be+Ve]*Je;return We},B.prototype.readUIntBE=function(Be,qe,ze){Be|=0,qe|=0,ze||Te(Be,qe,this.length);for(var We=this[Be+--qe],Je=1;0<qe&&(Je*=256);)We+=this[Be+--qe]*Je;return We},B.prototype.readUInt8=function(Be,qe){return qe||Te(Be,1,this.length),this[Be]},B.prototype.readUInt16LE=function(Be,qe){return qe||Te(Be,2,this.length),this[Be]|this[Be+1]<<8},B.prototype.readUInt16BE=function(Be,qe){return qe||Te(Be,2,this.length),this[Be]<<8|this[Be+1]},B.prototype.readUInt32LE=function(Be,qe){return qe||Te(Be,4,this.length),(this[Be]|this[Be+1]<<8|this[Be+2]<<16)+16777216*this[Be+3]},B.prototype.readUInt32BE=function(Be,qe){return qe||Te(Be,4,this.length),16777216*this[Be]+(this[Be+1]<<16|this[Be+2]<<8|this[Be+3])},B.prototype.readIntLE=function(Be,qe,ze){Be|=0,qe|=0,ze||Te(Be,qe,this.length);for(var We=this[Be],Je=1,Ve=0;++Ve<qe&&(Je*=256);)We+=this[Be+Ve]*Je;return Je*=128,We>=Je&&(We-=Math.pow(2,8*qe)),We},B.prototype.readIntBE=function(Be,qe,ze){Be|=0,qe|=0,ze||Te(Be,qe,this.length);for(var We=qe,Je=1,Ve=this[Be+--We];0<We&&(Je*=256);)Ve+=this[Be+--We]*Je;return Je*=128,Ve>=Je&&(Ve-=Math.pow(2,8*qe)),Ve},B.prototype.readInt8=function(Be,qe){return qe||Te(Be,1,this.length),128&this[Be]?-1*(255-this[Be]+1):this[Be]},B.prototype.readInt16LE=function(Be,qe){qe||Te(Be,2,this.length);var ze=this[Be]|this[Be+1]<<8;return 32768&ze?4294901760|ze:ze},B.prototype.readInt16BE=function(Be,qe){qe||Te(Be,2,this.length);var ze=this[Be+1]|this[Be]<<8;return 32768&ze?4294901760|ze:ze},B.prototype.readInt32LE=function(Be,qe){return qe||Te(Be,4,this.length),this[Be]|this[Be+1]<<8|this[Be+2]<<16|this[Be+3]<<24},B.prototype.readInt32BE=function(Be,qe){return qe||Te(Be,4,this.length),this[Be]<<24|this[Be+1]<<16|this[Be+2]<<8|this[Be+3]},B.prototype.readFloatLE=function(Be,qe){return qe||Te(Be,4,this.length),Ne.read(this,Be,!0,23,4)},B.prototype.readFloatBE=function(Be,qe){return qe||Te(Be,4,this.length),Ne.read(this,Be,!1,23,4)},B.prototype.readDoubleLE=function(Be,qe){return qe||Te(Be,8,this.length),Ne.read(this,Be,!0,52,8)},B.prototype.readDoubleBE=function(Be,qe){return qe||Te(Be,8,this.length),Ne.read(this,Be,!1,52,8)},B.prototype.writeUIntLE=function(Be,qe,ze,We){if(Be=+Be,qe|=0,ze|=0,!We){var Je=Math.pow(2,8*ze)-1;Le(this,Be,qe,ze,Je,0)}var Ve=1,Ge=0;for(this[qe]=255&Be;++Ge<ze&&(Ve*=256);)this[qe+Ge]=255&Be/Ve;return qe+ze},B.prototype.writeUIntBE=function(Be,qe,ze,We){if(Be=+Be,qe|=0,ze|=0,!We){var Je=Math.pow(2,8*ze)-1;Le(this,Be,qe,ze,Je,0)}var Ve=ze-1,Ge=1;for(this[qe+Ve]=255&Be;0<=--Ve&&(Ge*=256);)this[qe+Ve]=255&Be/Ge;return qe+ze},B.prototype.writeUInt8=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,1,255,0),B.TYPED_ARRAY_SUPPORT||(Be=Math.floor(Be)),this[qe]=255&Be,qe+1},B.prototype.writeUInt16LE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,2,65535,0),B.TYPED_ARRAY_SUPPORT?(this[qe]=255&Be,this[qe+1]=Be>>>8):Se(this,Be,qe,!0),qe+2},B.prototype.writeUInt16BE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,2,65535,0),B.TYPED_ARRAY_SUPPORT?(this[qe]=Be>>>8,this[qe+1]=255&Be):Se(this,Be,qe,!1),qe+2},B.prototype.writeUInt32LE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,4,4294967295,0),B.TYPED_ARRAY_SUPPORT?(this[qe+3]=Be>>>24,this[qe+2]=Be>>>16,this[qe+1]=Be>>>8,this[qe]=255&Be):ve(this,Be,qe,!0),qe+4},B.prototype.writeUInt32BE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,4,4294967295,0),B.TYPED_ARRAY_SUPPORT?(this[qe]=Be>>>24,this[qe+1]=Be>>>16,this[qe+2]=Be>>>8,this[qe+3]=255&Be):ve(this,Be,qe,!1),qe+4},B.prototype.writeIntLE=function(Be,qe,ze,We){if(Be=+Be,qe|=0,!We){var Je=Math.pow(2,8*ze-1);Le(this,Be,qe,ze,Je-1,-Je)}var Ve=0,Ge=1,$e=0;for(this[qe]=255&Be;++Ve<ze&&(Ge*=256);)0>Be&&0==$e&&0!==this[qe+Ve-1]&&($e=1),this[qe+Ve]=255&(Be/Ge>>0)-$e;return qe+ze},B.prototype.writeIntBE=function(Be,qe,ze,We){if(Be=+Be,qe|=0,!We){var Je=Math.pow(2,8*ze-1);Le(this,Be,qe,ze,Je-1,-Je)}var Ve=ze-1,Ge=1,$e=0;for(this[qe+Ve]=255&Be;0<=--Ve&&(Ge*=256);)0>Be&&0==$e&&0!==this[qe+Ve+1]&&($e=1),this[qe+Ve]=255&(Be/Ge>>0)-$e;return qe+ze},B.prototype.writeInt8=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,1,127,-128),B.TYPED_ARRAY_SUPPORT||(Be=Math.floor(Be)),0>Be&&(Be=255+Be+1),this[qe]=255&Be,qe+1},B.prototype.writeInt16LE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,2,32767,-32768),B.TYPED_ARRAY_SUPPORT?(this[qe]=255&Be,this[qe+1]=Be>>>8):Se(this,Be,qe,!0),qe+2},B.prototype.writeInt16BE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,2,32767,-32768),B.TYPED_ARRAY_SUPPORT?(this[qe]=Be>>>8,this[qe+1]=255&Be):Se(this,Be,qe,!1),qe+2},B.prototype.writeInt32LE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,4,2147483647,-2147483648),B.TYPED_ARRAY_SUPPORT?(this[qe]=255&Be,this[qe+1]=Be>>>8,this[qe+2]=Be>>>16,this[qe+3]=Be>>>24):ve(this,Be,qe,!0),qe+4},B.prototype.writeInt32BE=function(Be,qe,ze){return Be=+Be,qe|=0,ze||Le(this,Be,qe,4,2147483647,-2147483648),0>Be&&(Be=4294967295+Be+1),B.TYPED_ARRAY_SUPPORT?(this[qe]=Be>>>24,this[qe+1]=Be>>>16,this[qe+2]=Be>>>8,this[qe+3]=255&Be):ve(this,Be,qe,!1),qe+4},B.prototype.writeFloatLE=function(Be,qe,ze){return Ce(this,Be,qe,!0,ze)},B.prototype.writeFloatBE=function(Be,qe,ze){return Ce(this,Be,qe,!1,ze)},B.prototype.writeDoubleLE=function(Be,qe,ze){return Ee(this,Be,qe,!0,ze)},B.prototype.writeDoubleBE=function(Be,qe,ze){return Ee(this,Be,qe,!1,ze)},B.prototype.copy=function(Be,qe,ze,We){if(ze||(ze=0),We||0===We||(We=this.length),qe>=Be.length&&(qe=Be.length),qe||(qe=0),0<We&&We<ze&&(We=ze),We===ze)return 0;if(0===Be.length||0===this.length)return 0;if(0>qe)throw new RangeError('targetStart out of bounds');if(0>ze||ze>=this.length)throw new RangeError('sourceStart out of bounds');if(0>We)throw new RangeError('sourceEnd out of bounds');We>this.length&&(We=this.length),Be.length-qe<We-ze&&(We=Be.length-qe+ze);var Je=We-ze,Ve;if(this===Be&&ze<qe&&qe<We)for(Ve=Je-1;0<=Ve;--Ve)Be[Ve+qe]=this[Ve+ze];else if(1e3>Je||!B.TYPED_ARRAY_SUPPORT)for(Ve=0;Ve<Je;++Ve)Be[Ve+qe]=this[Ve+ze];else Uint8Array.prototype.set.call(Be,this.subarray(ze,ze+Je),qe);return Je},B.prototype.fill=function(Be,qe,ze,We){if('string'==typeof Be){if('string'==typeof qe?(We=qe,qe=0,ze=this.length):'string'==typeof ze&&(We=ze,ze=this.length),1===Be.length){var Je=Be.charCodeAt(0);256>Je&&(Be=Je)}if(void 0!==We&&'string'!=typeof We)throw new TypeError('encoding must be a string');if('string'==typeof We&&!B.isEncoding(We))throw new TypeError('Unknown encoding: '+We)}else'number'==typeof Be&&(Be&=255);if(0>qe||this.length<qe||this.length<ze)throw new RangeError('Out of range index');if(ze<=qe)return this;qe>>>=0,ze=ze===void 0?this.length:ze>>>0,Be||(Be=0);var Ve;if('number'==typeof Be)for(Ve=qe;Ve<ze;++Ve)this[Ve]=Be;else{var Ge=B.isBuffer(Be)?Be:ke(new B(Be,We).toString()),$e=Ge.length;for(Ve=0;Ve<ze-qe;++Ve)this[Ve+qe]=Ge[Ve%$e]}return this};var Ue=/[^+\/0-9A-Za-z-_]/g}).call(E,R(29))},function(L){function R(){throw new Error('setTimeout has not been defined')}function I(){throw new Error('clearTimeout has not been defined')}function A(ee){if(G===setTimeout)return setTimeout(ee,0);if((G===R||!G)&&setTimeout)return G=setTimeout,setTimeout(ee,0);try{return G(ee,0)}catch(te){try{return G.call(null,ee,0)}catch(ne){return G.call(this,ee,0)}}}function N(ee){if($===clearTimeout)return clearTimeout(ee);if(($===I||!$)&&clearTimeout)return $=clearTimeout,clearTimeout(ee);try{return $(ee)}catch(te){try{return $.call(null,ee)}catch(ne){return $.call(this,ee)}}}function H(){X&&Q&&(X=!1,Q.length?K=Q.concat(K):Z=-1,K.length&&B())}function B(){if(!X){var ee=A(H);X=!0;for(var te=K.length;te;){for(Q=K,K=[];++Z<te;)Q&&Q[Z].run();Z=-1,te=K.length}Q=null,X=!1,N(ee)}}function z(ee,te){this.fun=ee,this.array=te}function W(){}var J=L.exports={},G,$;(function(){try{G='function'==typeof setTimeout?setTimeout:R}catch(ee){G=R}try{$='function'==typeof clearTimeout?clearTimeout:I}catch(ee){$=I}})();var K=[],X=!1,Z=-1,Q;J.nextTick=function(ee){var te=Array(arguments.length-1);if(1<arguments.length)for(var ne=1;ne<arguments.length;ne++)te[ne-1]=arguments[ne];K.push(new z(ee,te)),1!==K.length||X||A(B)},z.prototype.run=function(){this.fun.apply(null,this.array)},J.title='browser',J.browser=!0,J.env={},J.argv=[],J.version='',J.versions={},J.on=W,J.addListener=W,J.once=W,J.off=W,J.removeListener=W,J.removeAllListeners=W,J.emit=W,J.prependListener=W,J.prependOnceListener=W,J.listeners=function(){return[]},J.binding=function(){throw new Error('process.binding is not supported')},J.cwd=function(){return'/'},J.chdir=function(){throw new Error('process.chdir is not supported')},J.umask=function(){return 0}},function(L,E){(function(R){L.exports=R}).call(E,{})},function(L){L.exports=function(R){return R.webpackPolyfill||(R.deprecate=function(){},R.paths=[],!R.children&&(R.children=[]),Object.defineProperty(R,'loaded',{enumerable:!0,get:function(){return R.l}}),Object.defineProperty(R,'id',{enumerable:!0,get:function(){return R.i}}),R.webpackPolyfill=1),R}},function(){},function(L,E,R){R(0),R(2),R(56),R(47),R(48),R(23),R(49),R(17),R(30),R(50),R(51),R(52),R(18),R(53),R(54),R(31),L.exports=R(55)}]);